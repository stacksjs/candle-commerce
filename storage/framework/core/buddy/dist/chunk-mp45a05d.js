import{ce as $}from"./chunk-1krazvx7.js";var S=$((N,Z)=>{var{defineProperty:I,getOwnPropertyDescriptor:z,getOwnPropertyNames:A}=Object,D=Object.prototype.hasOwnProperty,H=(j,b)=>I(j,"name",{value:b,configurable:!0}),M=(j,b)=>{for(var F in b)I(j,F,{get:b[F],enumerable:!0})},J=(j,b,F,B)=>{if(b&&typeof b==="object"||typeof b==="function"){for(let G of A(b))if(!D.call(j,G)&&G!==F)I(j,G,{get:()=>b[G],enumerable:!(B=z(b,G))||B.enumerable})}return j},T=(j)=>J(I({},"__esModule",{value:!0}),j),Y={};M(Y,{CredentialsProviderError:()=>V,ProviderError:()=>K,TokenProviderError:()=>w,chain:()=>O,fromStatic:()=>q,memoize:()=>L});Z.exports=T(Y);var K=class j extends Error{constructor(b,F=!0){let B,G=!0;if(typeof F==="boolean")B=void 0,G=F;else if(F!=null&&typeof F==="object")B=F.logger,G=F.tryNextLink??!0;super(b);this.name="ProviderError",this.tryNextLink=G,Object.setPrototypeOf(this,j.prototype),B?.debug?.(`@smithy/property-provider ${G?"->":"(!)"} ${b}`)}static{H(this,"ProviderError")}static from(b,F=!0){return Object.assign(new this(b.message,F),b)}},V=class j extends K{constructor(b,F=!0){super(b,F);this.name="CredentialsProviderError",Object.setPrototypeOf(this,j.prototype)}static{H(this,"CredentialsProviderError")}},w=class j extends K{constructor(b,F=!0){super(b,F);this.name="TokenProviderError",Object.setPrototypeOf(this,j.prototype)}static{H(this,"TokenProviderError")}},O=H((...j)=>async()=>{if(j.length===0)throw new K("No providers in chain");let b;for(let F of j)try{return await F()}catch(B){if(b=B,B?.tryNextLink)continue;throw B}throw b},"chain"),q=H((j)=>()=>Promise.resolve(j),"fromStatic"),L=H((j,b,F)=>{let B,G,Q,U=!1,W=H(async()=>{if(!G)G=j();try{B=await G,Q=!0,U=!1}finally{G=void 0}return B},"coalesceProvider");if(b===void 0)return async(X)=>{if(!Q||X?.forceRefresh)B=await W();return B};return async(X)=>{if(!Q||X?.forceRefresh)B=await W();if(U)return B;if(F&&!F(B))return U=!0,B;if(b(B))return await W(),B;return B}},"memoize")});
export{S as _d};
