import{Ab as Ph,Bb as C0}from"./chunk-36n2z8ry.js";import{Ac as zh,Bc as Gh,Cc as nh,Dc as ph,Ec as F0,Fc as oh,Gc as Nh,Hc as Dh,Ic as uh,Jc as Zh,Kc as f0,Lc as Th,Mc as Hh,Nc as Lh,Oc as Kh,Pc as Qh,Qc as Vh,Rc as Fh,Sc as Bh,Tc as kh,Uc as rh,Vc as Oh,mc as bh,nc as dh,oc as xh,pc as ih,qc as ch,rc as mh,sc as vh,tc as wh,uc as hh,vc as eh,wc as $h,xc as Uh,yc as Aw,zc as sv}from"./chunk-7hg866wa.js";import{Wc as c,Xc as Rh}from"./chunk-6xcm0tgx.js";import{Yc as Ah,Zc as jh,ad as th,cd as B0,fd as v0,gd as L,hd as h0,id as Eh,jd as Yh,ld as gh,md as yh,nd as S0,pd as Ih,qd as I,ud as S,vd as Xh,wd as Jh}from"./chunk-y5t75bd1.js";import{Cd as Af,xd as n1,yd as sh}from"./chunk-4r5aqn27.js";import{je as O,oe as T0}from"./chunk-2g57f3kb.js";import Vw from"process";import{runAction as TS}from"@stacksjs/actions";import{intro as HS,log as QS,outro as kw}from"@stacksjs/cli";import{Action as VS}from"@stacksjs/enums";import{ExitCode as kS}from"@stacksjs/types";function f8(f){let m={token:"Create a personal access client token",project:"Target a specific project",verbose:"Enable verbose output"};f.command("auth:token",m.token).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{QS.debug("Running `buddy auth:token` ...",l);let v=await HS("buddy auth:token"),w=await TS(VS.CreatePersonalAccessClient,l);if(w.isErr())await kw("While creating the personal access client token, there was an issue",{startTime:v,useSeconds:!0},w.error),Vw.exit();await kw("Personal access client token created successfully.",{startTime:v,useSeconds:!0}),Vw.exit(kS.Success)})}import lf from"process";import{runAction as Y}from"@stacksjs/actions";import{intro as dv,log as Q,outro as Cf,prompts as PS}from"@stacksjs/cli";import{Action as X}from"@stacksjs/enums";import{ExitCode as xv}from"@stacksjs/types";function R8(f){let m={build:"Build any of your libraries (packages) for production use",components:"Build your component library",vueComponents:"Build your Vue component library",webComponents:"Build your framework agnostic web component library",elements:"An alias to the -w flag",buddy:"Build the Buddy binary",functions:"Build your function library",desktop:"Build the Desktop Application",pages:"Build your frontend",docs:"Build your documentation",framework:"Build Stacks framework",cli:"Automagically build the CLI",server:"Build the Stacks cloud server (Docker image)",select:"What are you trying to build?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("build [type]",m.build).option("-c, --components",m.components).option("-v, --vue-components",m.vueComponents).option("-w, --web-components",m.webComponents).option("-e, --elements",m.elements).option("-f, --functions",m.functions).option("-p, --views",m.pages).option("--pages",m.pages).option("-d, --docs",m.docs).option("-b, --buddy",m.buddy,{default:!1}).option("-s, --stacks",m.framework,{default:!1}).option("--project [project]",m.project,{default:!1}).option("--server",m.server,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{switch(Q.debug("Running `buddy build` ...",v),l){case"components":v.components=!0;break;case"vue":v.vueComponents=!0;break;case"web-components":v.webComponents=!0;break;case"functions":v.functions=!0;break;case"views":v.views=!0;break;case"docs":v.docs=!0;break;case"buddy":v.buddy=!0;break;case"cli":v.buddy=!0;break;case"stacks":v.stacks=!0;break;case"server":v.server=!0;break;default:break}if(console.log("server",l,v),_S(v)){console.log("has no");let w=await PS({type:"multiselect",name:"build",message:m.select,choices:[{title:"Components",value:"components"},{title:"Web Components",value:"web-components"},{title:"Functions",value:"functions"},{title:"Views",value:"views"},{title:"Documentation",value:"docs"}]});if(console.log("answers",w),w!==null)lf.exit(xv.InvalidArgument)}else console.log("has op");if(v.docs)await Y(X.BuildDocs);if(v.components)await Y(X.BuildComponentLibs);if(v.vueComponents)await Y(X.BuildVueComponentLib);if(v.webComponents)await Y(X.BuildWebComponentLib);if(v.functions)await Y(X.BuildFunctionLib);if(v.views)await Y(X.BuildViews);if(v.stacks)await Y(X.BuildStacks);if(v.buddy)await Y(X.BuildCli);if(v.server)await Y(X.BuildServer);lf.exit(xv.Success)}),f.command("build:components","Automagically build component libraries for production use & npm/CDN distribution").alias("prod:components").option("-c, --components",m.components,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:components` ...",l),await Y(X.BuildComponentLibs,l)}),f.command("build:cli",m.cli).alias("prod:cli").option("-b, --buddy",m.buddy,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:cli` ...",l),await Y(X.BuildCli,l)}),f.command("build:server",m.server).alias("prod:server").alias("build:docker").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:server` ...",l),await Y(X.BuildServer,l)}),f.command("build:functions","Automagically build function library for npm/CDN distribution").option("-f, --functions",m.functions,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy `build:functions` ...",l),await Y(X.BuildFunctionLib,l)}),f.command("build:vue-components","Automagically build Vue component library for npm/CDN distribution").alias("build:vue").alias("prod:vue-components").alias("prod:vue").option("-v, --vue-components",m.vueComponents,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).alias("build:vue").action(async(l)=>{Q.debug("Running `buddy build:vue-components` ...",l),await Y(X.BuildVueComponentLib,l)}),f.command("build:web-components","Automagically build Web Component library for npm/CDN distribution").alias("build:wc").alias("prod:web-components").alias("prod:wc").option("-w, --web-components",m.webComponents,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:web-components` ...",l),await Y(X.BuildWebComponentLib,l)}),f.command("build:docs","Automagically build your documentation site.").alias("prod:docs").alias("build:documentation").alias("prod:documentation").option("-d, --docs",m.docs,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:docs` ...",l),await Y(X.BuildDocs,l)}),f.command("build:core","Automagically build the Stacks core.").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:core` ...",l);let v=await dv("buddy build:core"),w=await Y(X.BuildCore,l);if(w.isErr())Q.error("Failed to build the Stacks core.",w.error),lf.exit();await Cf("Core packages built successfully",{startTime:v,useSeconds:!0})}),f.command("build:desktop",m.desktop).alias("prod:desktop").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:desktop` ...",l);let v=await dv("buddy build:desktop"),w=await Y(X.BuildDesktop,l);if(w.isErr())await Cf("While running the build:desktop command, there was an issue",{startTime:v,useSeconds:!0},w.error),lf.exit();console.log(""),await Cf("Exited",{startTime:v,useSeconds:!0}),lf.exit(xv.Success)}),f.command("build:stacks","Build the Stacks framework.").option("-s, --stacks",m.framework,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:stacks` ...",l);let v=await dv("buddy build:stacks"),w=await Y(X.BuildStacks,l);if(w.isErr())Q.error("Failed to build Stacks.",w.error),lf.exit();await Cf("Stacks built successfully",{startTime:v,useSeconds:!0})}),f.on("build:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),lf.exit(1)})}function _S(f){return!f.components&&!f.vueComponents&&!f.webComponents&&!f.elements&&!f.functions&&!f.views&&!f.docs&&!f.stacks&&!f.buddy}import Pw from"process";import{runAction as qS}from"@stacksjs/actions";import{intro as CS,log as AS,outro as _w}from"@stacksjs/cli";import{Action as jS}from"@stacksjs/enums";function W8(f){let m={changelog:"Create a CHANGELOG.md file",quiet:"Minimal output",dryRun:"Do not write the file, just output the changes",project:"Target a specific project",verbose:"Enable verbose output"};f.command("changelog",m.changelog).option("-q, --quiet",m.quiet,{default:!1}).option("-d, --dry-run",m.dryRun,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{AS.debug("Running `buddy changelog` ...",l);let v=await CS("buddy changelog"),w=await qS(jS.Changelog,l);if(w.isErr())await _w("While running the changelog command, there was an issue",{...l,startTime:v,useSeconds:!0},w.error),Pw.exit();await _w("Generated CHANGELOG.md",{...l,startTime:v,useSeconds:!0,type:"success"})}),f.on("changelog:*",()=>{console.log("Invalid command: %s",f.args.join(" ")),console.log("See --help for a list of available commands."),Pw.exit(1)})}import iv from"process";import{runAction as gS}from"@stacksjs/actions";import{intro as yS,log as rS,outro as qw}from"@stacksjs/cli";import{Action as OS}from"@stacksjs/enums";import{ExitCode as Cw}from"@stacksjs/types";function D8(f){let m={clean:"Removes all node_modules & lock files",project:"Target a specific project",verbose:"Enable verbose output"};f.command("clean",m.clean).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{rS.debug("Running `buddy clean` ...",l);let v=await yS("buddy clean"),w=await gS(OS.Clean,l);if(w.isErr())await qw("While running the clean command, there was an issue",{startTime:v,useSeconds:!0},w.error),iv.exit(Cw.FatalError);await qw("Cleaned up",{startTime:v,useSeconds:!0,message:"Cleaned up"}),iv.exit(Cw.Success)}),f.on("clean:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),iv.exit(1)})}import M from"process";var Bf=O(sh(),1);var jw=O(Af(),1);var gw=async(f,m,l)=>{return{operation:Aw(m).operation,region:await sv(f.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}};function aS(f){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cloudfront",region:f.region},propertiesExtractor:(m,l)=>({signingProperties:{config:m,context:l}})}}var yw=(f)=>{let m=[];switch(f.operation){default:m.push(aS(f))}return m},rw=(f)=>{let m=jw.resolveAwsSdkSigV4Config(f);return Object.assign(m,{authSchemePreference:sv(f.authSchemePreference??[])})};var Ow=(f)=>{return Object.assign(f,{useDualstackEndpoint:f.useDualstackEndpoint??!1,useFipsEndpoint:f.useFipsEndpoint??!1,defaultSigningName:"cloudfront"})},aw={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var bw={name:"@aws-sdk/client-cloudfront",description:"AWS SDK for JavaScript Cloudfront Client for Node.js, Browser and React Native",version:"3.828.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cloudfront","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudfront"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.826.0","@aws-sdk/credential-provider-node":"3.828.0","@aws-sdk/middleware-host-header":"3.821.0","@aws-sdk/middleware-logger":"3.821.0","@aws-sdk/middleware-recursion-detection":"3.821.0","@aws-sdk/middleware-user-agent":"3.828.0","@aws-sdk/region-config-resolver":"3.821.0","@aws-sdk/types":"3.821.0","@aws-sdk/util-endpoints":"3.828.0","@aws-sdk/util-user-agent-browser":"3.821.0","@aws-sdk/util-user-agent-node":"3.828.0","@aws-sdk/xml-builder":"3.821.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.5.3","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.11","@smithy/middleware-retry":"^4.1.12","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.3","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.19","@smithy/util-defaults-mode-node":"^4.0.19","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.5","@smithy/util-stream":"^4.2.2","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.5",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudfront",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudfront"}};var jf=O(Af(),1);var Wh=O(Af(),1);var dw={["required"]:!1,type:"String"},xw={["required"]:!0,default:!1,type:"Boolean"},iw={["ref"]:"Endpoint"},ev={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},fh={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},V={},sw={["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"PartitionResult"},"name"]},"aws"]},dS={["fn"]:"getAttr",["argv"]:[{["ref"]:"PartitionResult"},"name"]},cw={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},cv={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},ew={authSchemes:[{name:"sigv4",signingName:"cloudfront",signingRegion:"us-east-1"}]},nw={["fn"]:"getAttr",["argv"]:[{["ref"]:"PartitionResult"},"supportsFIPS"]},pw={["fn"]:"booleanEquals",["argv"]:[!0,{["fn"]:"getAttr",["argv"]:[{["ref"]:"PartitionResult"},"supportsDualStack"]}]},ow=[ev],uw=[fh],tw=[{["ref"]:"Region"}],xS={version:"1.0",parameters:{Region:dw,UseDualStack:xw,UseFIPS:xw,Endpoint:dw},rules:[{conditions:[{["fn"]:"isSet",["argv"]:[iw]}],rules:[{conditions:ow,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:"error"},{conditions:uw,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:"error"},{endpoint:{url:iw,properties:V,headers:V},type:"endpoint"}],type:"tree"},{conditions:[{["fn"]:"isSet",["argv"]:tw}],rules:[{conditions:[{["fn"]:"aws.partition",["argv"]:tw,assign:"PartitionResult"}],rules:[{conditions:[sw,cw,cv],endpoint:{url:"https://cloudfront.amazonaws.com",properties:ew,headers:V},type:"endpoint"},{conditions:[sw,ev,cv],endpoint:{url:"https://cloudfront-fips.amazonaws.com",properties:ew,headers:V},type:"endpoint"},{conditions:[{["fn"]:"stringEquals",["argv"]:[dS,"aws-cn"]},cw,cv],endpoint:{url:"https://cloudfront.cn-northwest-1.amazonaws.com.cn",properties:{authSchemes:[{name:"sigv4",signingName:"cloudfront",signingRegion:"cn-northwest-1"}]},headers:V},type:"endpoint"},{conditions:[ev,fh],rules:[{conditions:[{["fn"]:"booleanEquals",["argv"]:[!0,nw]},pw],rules:[{endpoint:{url:"https://cloudfront-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:V,headers:V},type:"endpoint"}],type:"tree"},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:"error"}],type:"tree"},{conditions:ow,rules:[{conditions:[{["fn"]:"booleanEquals",["argv"]:[nw,!0]}],rules:[{endpoint:{url:"https://cloudfront-fips.{Region}.{PartitionResult#dnsSuffix}",properties:V,headers:V},type:"endpoint"}],type:"tree"},{error:"FIPS is enabled but this partition does not support FIPS",type:"error"}],type:"tree"},{conditions:uw,rules:[{conditions:[pw],rules:[{endpoint:{url:"https://cloudfront.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:V,headers:V},type:"endpoint"}],type:"tree"},{error:"DualStack is enabled but this partition does not support DualStack",type:"error"}],type:"tree"},{endpoint:{url:"https://cloudfront.{Region}.{PartitionResult#dnsSuffix}",properties:V,headers:V},type:"endpoint"}],type:"tree"}],type:"tree"},{error:"Invalid Configuration: Missing Region",type:"error"}]},lh=xS;var iS=new mh({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Sh=(f,m={})=>{return iS.get(f,()=>wh(lh,{endpointParams:f,logger:m.logger}))};vh.aws=hh;var Mh=(f)=>{return{apiVersion:"2020-05-31",base64Decoder:f?.base64Decoder??Fh,base64Encoder:f?.base64Encoder??Bh,disableHostPrefix:f?.disableHostPrefix??!1,endpointProvider:f?.endpointProvider??Sh,extensions:f?.extensions??[],httpAuthSchemeProvider:f?.httpAuthSchemeProvider??yw,httpAuthSchemes:f?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:(m)=>m.getIdentityProvider("aws.auth#sigv4"),signer:new Wh.AwsSdkSigV4Signer}],logger:f?.logger??new Ih,serviceId:f?.serviceId??"CloudFront",urlParser:f?.urlParser??Rh,utf8Decoder:f?.utf8Decoder??Lh,utf8Encoder:f?.utf8Encoder??Kh}};var _h=(f)=>{Yh(process.version);let m=kh(f),l=()=>m().then(Eh),v=Mh(f);jf.emitWarningIfUnsupportedVersion(process.version);let w={profile:f?.profile,logger:v.logger};return{...v,...f,runtime:"node",defaultsMode:m,authSchemePreference:f?.authSchemePreference??c(jf.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,w),bodyLengthChecker:f?.bodyLengthChecker??Vh,credentialDefaultProvider:f?.credentialDefaultProvider??Ph,defaultUserAgentProvider:f?.defaultUserAgentProvider??Th({serviceId:v.serviceId,clientVersion:bw.version}),maxAttempts:f?.maxAttempts??c(Dh,f),region:f?.region??c(zh,{...Gh,...w}),requestHandler:Xh.create(f?.requestHandler??l),retryMode:f?.retryMode??c({...Zh,default:async()=>(await l()).retryMode||Nh},f),sha256:f?.sha256??Qh.bind(null,"sha256"),streamCollector:f?.streamCollector??Jh,useDualstackEndpoint:f?.useDualstackEndpoint??c($h,w),useFipsEndpoint:f?.useFipsEndpoint??c(Uh,w),userAgentAppId:f?.userAgentAppId??c(Hh,w)}};var qh=(f)=>{let{httpAuthSchemes:m,httpAuthSchemeProvider:l,credentials:v}=f;return{setHttpAuthScheme(w){let F=m.findIndex((B)=>B.schemeId===w.schemeId);if(F===-1)m.push(w);else m.splice(F,1,w)},httpAuthSchemes(){return m},setHttpAuthSchemeProvider(w){l=w},httpAuthSchemeProvider(){return l},setCredentials(w){v=w},credentials(){return v}}},Ch=(f)=>{return{httpAuthSchemes:f.httpAuthSchemes(),httpAuthSchemeProvider:f.httpAuthSchemeProvider(),credentials:f.credentials()}};var ah=(f,m)=>{let l=Object.assign(rh(f),gh(f),Ah(f),qh(f));return m.forEach((v)=>v.configure(l)),Object.assign(f,Oh(l),yh(l),jh(l),Ch(l))};class nv extends th{config;constructor(...[f]){let m=_h(f||{});super(m);this.initConfig=m;let l=Ow(m),v=ch(l),w=uh(v),F=nh(w),B=bh(F),W=oh(B),Z=rw(W),D=ah(Z,f?.extensions||[]);this.config=D,this.middlewareStack.use(eh(this.config)),this.middlewareStack.use(f0(this.config)),this.middlewareStack.use(ph(this.config)),this.middlewareStack.use(dh(this.config)),this.middlewareStack.use(xh(this.config)),this.middlewareStack.use(ih(this.config)),this.middlewareStack.use(Bf.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:gw,identityProviderConfigProvider:async(E)=>new Bf.DefaultIdentityProviderConfig({"aws.auth#sigv4":E.credentials})})),this.middlewareStack.use(Bf.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}}var Uf=O(Af(),1);function l0(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function m0(f){return f.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class pv{value;constructor(f){this.value=f}toString(){return m0(""+this.value)}}class y{name;children;attributes={};static of(f,m,l){let v=new y(f);if(m!==void 0)v.addChildNode(new pv(m));if(l!==void 0)v.withName(l);return v}constructor(f,m=[]){this.name=f,this.children=m}withName(f){return this.name=f,this}addAttribute(f,m){return this.attributes[f]=m,this}addChildNode(f){return this.children.push(f),this}removeAttribute(f){return delete this.attributes[f],this}n(f){return this.name=f,this}c(f){return this.children.push(f),this}a(f,m){if(m!=null)this.attributes[f]=m;return this}cc(f,m,l=m){if(f[m]!=null){let v=y.of(m,f[m]).withName(l);this.c(v)}}l(f,m,l,v){if(f[m]!=null)v().map((F)=>{F.withName(l),this.c(F)})}lc(f,m,l,v){if(f[m]!=null){let w=v(),F=new y(l);w.map((B)=>{F.c(B)}),this.c(F)}}toString(){let f=Boolean(this.children.length),m=`<${this.name}`,l=this.attributes;for(let v of Object.keys(l)){let w=l[v];if(w!=null)m+=` ${v}="${l0(""+w)}"`}return m+=!f?"/>":`>${this.children.map((v)=>v.toString()).join("")}</${this.name}>`}}var R0=O(sh(),1);class R extends v0{constructor(f){super(f);Object.setPrototypeOf(this,R.prototype)}}class gf extends R{name="AccessDenied";$fault="client";Message;constructor(f){super({name:"AccessDenied",$fault:"client",...f});Object.setPrototypeOf(this,gf.prototype),this.Message=f.Message}}class yf extends R{name="IllegalUpdate";$fault="client";Message;constructor(f){super({name:"IllegalUpdate",$fault:"client",...f});Object.setPrototypeOf(this,yf.prototype),this.Message=f.Message}}class rf extends R{name="InvalidArgument";$fault="client";Message;constructor(f){super({name:"InvalidArgument",$fault:"client",...f});Object.setPrototypeOf(this,rf.prototype),this.Message=f.Message}}class Of extends R{name="NoSuchDistribution";$fault="client";Message;constructor(f){super({name:"NoSuchDistribution",$fault:"client",...f});Object.setPrototypeOf(this,Of.prototype),this.Message=f.Message}}class af extends R{name="TooManyDistributionCNAMEs";$fault="client";Message;constructor(f){super({name:"TooManyDistributionCNAMEs",$fault:"client",...f});Object.setPrototypeOf(this,af.prototype),this.Message=f.Message}}class bf extends R{name="EntityNotFound";$fault="client";Message;constructor(f){super({name:"EntityNotFound",$fault:"client",...f});Object.setPrototypeOf(this,bf.prototype),this.Message=f.Message}}class df extends R{name="InvalidIfMatchVersion";$fault="client";Message;constructor(f){super({name:"InvalidIfMatchVersion",$fault:"client",...f});Object.setPrototypeOf(this,df.prototype),this.Message=f.Message}}class xf extends R{name="PreconditionFailed";$fault="client";Message;constructor(f){super({name:"PreconditionFailed",$fault:"client",...f});Object.setPrototypeOf(this,xf.prototype),this.Message=f.Message}}class sf extends R{name="BatchTooLarge";$fault="client";Message;constructor(f){super({name:"BatchTooLarge",$fault:"client",...f});Object.setPrototypeOf(this,sf.prototype),this.Message=f.Message}}class cf extends R{name="CachePolicyAlreadyExists";$fault="client";Message;constructor(f){super({name:"CachePolicyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,cf.prototype),this.Message=f.Message}}class ef extends R{name="CachePolicyInUse";$fault="client";Message;constructor(f){super({name:"CachePolicyInUse",$fault:"client",...f});Object.setPrototypeOf(this,ef.prototype),this.Message=f.Message}}class nf extends R{name="CannotChangeImmutablePublicKeyFields";$fault="client";Message;constructor(f){super({name:"CannotChangeImmutablePublicKeyFields",$fault:"client",...f});Object.setPrototypeOf(this,nf.prototype),this.Message=f.Message}}class pf extends R{name="CannotDeleteEntityWhileInUse";$fault="client";Message;constructor(f){super({name:"CannotDeleteEntityWhileInUse",$fault:"client",...f});Object.setPrototypeOf(this,pf.prototype),this.Message=f.Message}}class of extends R{name="CannotUpdateEntityWhileInUse";$fault="client";Message;constructor(f){super({name:"CannotUpdateEntityWhileInUse",$fault:"client",...f});Object.setPrototypeOf(this,of.prototype),this.Message=f.Message}}class uf extends R{name="CNAMEAlreadyExists";$fault="client";Message;constructor(f){super({name:"CNAMEAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,uf.prototype),this.Message=f.Message}}class tf extends R{name="DistributionAlreadyExists";$fault="client";Message;constructor(f){super({name:"DistributionAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,tf.prototype),this.Message=f.Message}}class fl extends R{name="IllegalFieldLevelEncryptionConfigAssociationWithCacheBehavior";$fault="client";Message;constructor(f){super({name:"IllegalFieldLevelEncryptionConfigAssociationWithCacheBehavior",$fault:"client",...f});Object.setPrototypeOf(this,fl.prototype),this.Message=f.Message}}class ll extends R{name="InconsistentQuantities";$fault="client";Message;constructor(f){super({name:"InconsistentQuantities",$fault:"client",...f});Object.setPrototypeOf(this,ll.prototype),this.Message=f.Message}}class ml extends R{name="InvalidDefaultRootObject";$fault="client";Message;constructor(f){super({name:"InvalidDefaultRootObject",$fault:"client",...f});Object.setPrototypeOf(this,ml.prototype),this.Message=f.Message}}class vl extends R{name="InvalidErrorCode";$fault="client";Message;constructor(f){super({name:"InvalidErrorCode",$fault:"client",...f});Object.setPrototypeOf(this,vl.prototype),this.Message=f.Message}}class wl extends R{name="InvalidForwardCookies";$fault="client";Message;constructor(f){super({name:"InvalidForwardCookies",$fault:"client",...f});Object.setPrototypeOf(this,wl.prototype),this.Message=f.Message}}class hl extends R{name="InvalidFunctionAssociation";$fault="client";Message;constructor(f){super({name:"InvalidFunctionAssociation",$fault:"client",...f});Object.setPrototypeOf(this,hl.prototype),this.Message=f.Message}}class Sl extends R{name="InvalidGeoRestrictionParameter";$fault="client";Message;constructor(f){super({name:"InvalidGeoRestrictionParameter",$fault:"client",...f});Object.setPrototypeOf(this,Sl.prototype),this.Message=f.Message}}class Rl extends R{name="InvalidHeadersForS3Origin";$fault="client";Message;constructor(f){super({name:"InvalidHeadersForS3Origin",$fault:"client",...f});Object.setPrototypeOf(this,Rl.prototype),this.Message=f.Message}}class Il extends R{name="InvalidLambdaFunctionAssociation";$fault="client";Message;constructor(f){super({name:"InvalidLambdaFunctionAssociation",$fault:"client",...f});Object.setPrototypeOf(this,Il.prototype),this.Message=f.Message}}class Ll extends R{name="InvalidLocationCode";$fault="client";Message;constructor(f){super({name:"InvalidLocationCode",$fault:"client",...f});Object.setPrototypeOf(this,Ll.prototype),this.Message=f.Message}}class Kl extends R{name="InvalidMinimumProtocolVersion";$fault="client";Message;constructor(f){super({name:"InvalidMinimumProtocolVersion",$fault:"client",...f});Object.setPrototypeOf(this,Kl.prototype),this.Message=f.Message}}class Fl extends R{name="InvalidOrigin";$fault="client";Message;constructor(f){super({name:"InvalidOrigin",$fault:"client",...f});Object.setPrototypeOf(this,Fl.prototype),this.Message=f.Message}}class Bl extends R{name="InvalidOriginAccessControl";$fault="client";Message;constructor(f){super({name:"InvalidOriginAccessControl",$fault:"client",...f});Object.setPrototypeOf(this,Bl.prototype),this.Message=f.Message}}class Wl extends R{name="InvalidOriginAccessIdentity";$fault="client";Message;constructor(f){super({name:"InvalidOriginAccessIdentity",$fault:"client",...f});Object.setPrototypeOf(this,Wl.prototype),this.Message=f.Message}}class Ml extends R{name="InvalidOriginKeepaliveTimeout";$fault="client";Message;constructor(f){super({name:"InvalidOriginKeepaliveTimeout",$fault:"client",...f});Object.setPrototypeOf(this,Ml.prototype),this.Message=f.Message}}class $l extends R{name="InvalidOriginReadTimeout";$fault="client";Message;constructor(f){super({name:"InvalidOriginReadTimeout",$fault:"client",...f});Object.setPrototypeOf(this,$l.prototype),this.Message=f.Message}}class Ul extends R{name="InvalidProtocolSettings";$fault="client";Message;constructor(f){super({name:"InvalidProtocolSettings",$fault:"client",...f});Object.setPrototypeOf(this,Ul.prototype),this.Message=f.Message}}class zl extends R{name="InvalidQueryStringParameters";$fault="client";Message;constructor(f){super({name:"InvalidQueryStringParameters",$fault:"client",...f});Object.setPrototypeOf(this,zl.prototype),this.Message=f.Message}}class Gl extends R{name="InvalidRelativePath";$fault="client";Message;constructor(f){super({name:"InvalidRelativePath",$fault:"client",...f});Object.setPrototypeOf(this,Gl.prototype),this.Message=f.Message}}class Nl extends R{name="InvalidRequiredProtocol";$fault="client";Message;constructor(f){super({name:"InvalidRequiredProtocol",$fault:"client",...f});Object.setPrototypeOf(this,Nl.prototype),this.Message=f.Message}}class Dl extends R{name="InvalidResponseCode";$fault="client";Message;constructor(f){super({name:"InvalidResponseCode",$fault:"client",...f});Object.setPrototypeOf(this,Dl.prototype),this.Message=f.Message}}class Zl extends R{name="InvalidTTLOrder";$fault="client";Message;constructor(f){super({name:"InvalidTTLOrder",$fault:"client",...f});Object.setPrototypeOf(this,Zl.prototype),this.Message=f.Message}}class El extends R{name="InvalidViewerCertificate";$fault="client";Message;constructor(f){super({name:"InvalidViewerCertificate",$fault:"client",...f});Object.setPrototypeOf(this,El.prototype),this.Message=f.Message}}class Yl extends R{name="InvalidWebACLId";$fault="client";Message;constructor(f){super({name:"InvalidWebACLId",$fault:"client",...f});Object.setPrototypeOf(this,Yl.prototype),this.Message=f.Message}}class Xl extends R{name="MissingBody";$fault="client";Message;constructor(f){super({name:"MissingBody",$fault:"client",...f});Object.setPrototypeOf(this,Xl.prototype),this.Message=f.Message}}class Jl extends R{name="NoSuchCachePolicy";$fault="client";Message;constructor(f){super({name:"NoSuchCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,Jl.prototype),this.Message=f.Message}}class Tl extends R{name="NoSuchFieldLevelEncryptionConfig";$fault="client";Message;constructor(f){super({name:"NoSuchFieldLevelEncryptionConfig",$fault:"client",...f});Object.setPrototypeOf(this,Tl.prototype),this.Message=f.Message}}class Hl extends R{name="NoSuchOrigin";$fault="client";Message;constructor(f){super({name:"NoSuchOrigin",$fault:"client",...f});Object.setPrototypeOf(this,Hl.prototype),this.Message=f.Message}}class Ql extends R{name="NoSuchOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"NoSuchOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,Ql.prototype),this.Message=f.Message}}class Vl extends R{name="NoSuchRealtimeLogConfig";$fault="client";Message;constructor(f){super({name:"NoSuchRealtimeLogConfig",$fault:"client",...f});Object.setPrototypeOf(this,Vl.prototype),this.Message=f.Message}}class kl extends R{name="NoSuchResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"NoSuchResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,kl.prototype),this.Message=f.Message}}class Pl extends R{name="RealtimeLogConfigOwnerMismatch";$fault="client";Message;constructor(f){super({name:"RealtimeLogConfigOwnerMismatch",$fault:"client",...f});Object.setPrototypeOf(this,Pl.prototype),this.Message=f.Message}}class _l extends R{name="TooManyCacheBehaviors";$fault="client";Message;constructor(f){super({name:"TooManyCacheBehaviors",$fault:"client",...f});Object.setPrototypeOf(this,_l.prototype),this.Message=f.Message}}class ql extends R{name="TooManyCertificates";$fault="client";Message;constructor(f){super({name:"TooManyCertificates",$fault:"client",...f});Object.setPrototypeOf(this,ql.prototype),this.Message=f.Message}}class Cl extends R{name="TooManyCookieNamesInWhiteList";$fault="client";Message;constructor(f){super({name:"TooManyCookieNamesInWhiteList",$fault:"client",...f});Object.setPrototypeOf(this,Cl.prototype),this.Message=f.Message}}class Al extends R{name="TooManyDistributions";$fault="client";Message;constructor(f){super({name:"TooManyDistributions",$fault:"client",...f});Object.setPrototypeOf(this,Al.prototype),this.Message=f.Message}}class jl extends R{name="TooManyDistributionsAssociatedToCachePolicy";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,jl.prototype),this.Message=f.Message}}class gl extends R{name="TooManyDistributionsAssociatedToFieldLevelEncryptionConfig";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToFieldLevelEncryptionConfig",$fault:"client",...f});Object.setPrototypeOf(this,gl.prototype),this.Message=f.Message}}class yl extends R{name="TooManyDistributionsAssociatedToKeyGroup";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToKeyGroup",$fault:"client",...f});Object.setPrototypeOf(this,yl.prototype),this.Message=f.Message}}class rl extends R{name="TooManyDistributionsAssociatedToOriginAccessControl";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToOriginAccessControl",$fault:"client",...f});Object.setPrototypeOf(this,rl.prototype),this.Message=f.Message}}class Ol extends R{name="TooManyDistributionsAssociatedToOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,Ol.prototype),this.Message=f.Message}}class al extends R{name="TooManyDistributionsAssociatedToResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,al.prototype),this.Message=f.Message}}class bl extends R{name="TooManyDistributionsWithFunctionAssociations";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsWithFunctionAssociations",$fault:"client",...f});Object.setPrototypeOf(this,bl.prototype),this.Message=f.Message}}class dl extends R{name="TooManyDistributionsWithLambdaAssociations";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsWithLambdaAssociations",$fault:"client",...f});Object.setPrototypeOf(this,dl.prototype),this.Message=f.Message}}class xl extends R{name="TooManyDistributionsWithSingleFunctionARN";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsWithSingleFunctionARN",$fault:"client",...f});Object.setPrototypeOf(this,xl.prototype),this.Message=f.Message}}class il extends R{name="TooManyFunctionAssociations";$fault="client";Message;constructor(f){super({name:"TooManyFunctionAssociations",$fault:"client",...f});Object.setPrototypeOf(this,il.prototype),this.Message=f.Message}}class sl extends R{name="TooManyHeadersInForwardedValues";$fault="client";Message;constructor(f){super({name:"TooManyHeadersInForwardedValues",$fault:"client",...f});Object.setPrototypeOf(this,sl.prototype),this.Message=f.Message}}class cl extends R{name="TooManyKeyGroupsAssociatedToDistribution";$fault="client";Message;constructor(f){super({name:"TooManyKeyGroupsAssociatedToDistribution",$fault:"client",...f});Object.setPrototypeOf(this,cl.prototype),this.Message=f.Message}}class el extends R{name="TooManyLambdaFunctionAssociations";$fault="client";Message;constructor(f){super({name:"TooManyLambdaFunctionAssociations",$fault:"client",...f});Object.setPrototypeOf(this,el.prototype),this.Message=f.Message}}class nl extends R{name="TooManyOriginCustomHeaders";$fault="client";Message;constructor(f){super({name:"TooManyOriginCustomHeaders",$fault:"client",...f});Object.setPrototypeOf(this,nl.prototype),this.Message=f.Message}}class pl extends R{name="TooManyOriginGroupsPerDistribution";$fault="client";Message;constructor(f){super({name:"TooManyOriginGroupsPerDistribution",$fault:"client",...f});Object.setPrototypeOf(this,pl.prototype),this.Message=f.Message}}class ol extends R{name="TooManyOrigins";$fault="client";Message;constructor(f){super({name:"TooManyOrigins",$fault:"client",...f});Object.setPrototypeOf(this,ol.prototype),this.Message=f.Message}}class ul extends R{name="TooManyQueryStringParameters";$fault="client";Message;constructor(f){super({name:"TooManyQueryStringParameters",$fault:"client",...f});Object.setPrototypeOf(this,ul.prototype),this.Message=f.Message}}class tl extends R{name="TooManyTrustedSigners";$fault="client";Message;constructor(f){super({name:"TooManyTrustedSigners",$fault:"client",...f});Object.setPrototypeOf(this,tl.prototype),this.Message=f.Message}}class fm extends R{name="TrustedKeyGroupDoesNotExist";$fault="client";Message;constructor(f){super({name:"TrustedKeyGroupDoesNotExist",$fault:"client",...f});Object.setPrototypeOf(this,fm.prototype),this.Message=f.Message}}class lm extends R{name="TrustedSignerDoesNotExist";$fault="client";Message;constructor(f){super({name:"TrustedSignerDoesNotExist",$fault:"client",...f});Object.setPrototypeOf(this,lm.prototype),this.Message=f.Message}}class mm extends R{name="EntityAlreadyExists";$fault="client";Message;constructor(f){super({name:"EntityAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,mm.prototype),this.Message=f.Message}}class vm extends R{name="EntityLimitExceeded";$fault="client";Message;constructor(f){super({name:"EntityLimitExceeded",$fault:"client",...f});Object.setPrototypeOf(this,vm.prototype),this.Message=f.Message}}class wm extends R{name="InvalidTagging";$fault="client";Message;constructor(f){super({name:"InvalidTagging",$fault:"client",...f});Object.setPrototypeOf(this,wm.prototype),this.Message=f.Message}}class hm extends R{name="UnsupportedOperation";$fault="client";Message;constructor(f){super({name:"UnsupportedOperation",$fault:"client",...f});Object.setPrototypeOf(this,hm.prototype),this.Message=f.Message}}class Sm extends R{name="TooManyCachePolicies";$fault="client";Message;constructor(f){super({name:"TooManyCachePolicies",$fault:"client",...f});Object.setPrototypeOf(this,Sm.prototype),this.Message=f.Message}}class Rm extends R{name="TooManyCookiesInCachePolicy";$fault="client";Message;constructor(f){super({name:"TooManyCookiesInCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,Rm.prototype),this.Message=f.Message}}class Im extends R{name="TooManyHeadersInCachePolicy";$fault="client";Message;constructor(f){super({name:"TooManyHeadersInCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,Im.prototype),this.Message=f.Message}}class Lm extends R{name="TooManyQueryStringsInCachePolicy";$fault="client";Message;constructor(f){super({name:"TooManyQueryStringsInCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,Lm.prototype),this.Message=f.Message}}class Km extends R{name="CloudFrontOriginAccessIdentityAlreadyExists";$fault="client";Message;constructor(f){super({name:"CloudFrontOriginAccessIdentityAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Km.prototype),this.Message=f.Message}}class Fm extends R{name="TooManyCloudFrontOriginAccessIdentities";$fault="client";Message;constructor(f){super({name:"TooManyCloudFrontOriginAccessIdentities",$fault:"client",...f});Object.setPrototypeOf(this,Fm.prototype),this.Message=f.Message}}class Bm extends R{name="ContinuousDeploymentPolicyAlreadyExists";$fault="client";Message;constructor(f){super({name:"ContinuousDeploymentPolicyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Bm.prototype),this.Message=f.Message}}class Wm extends R{name="StagingDistributionInUse";$fault="client";Message;constructor(f){super({name:"StagingDistributionInUse",$fault:"client",...f});Object.setPrototypeOf(this,Wm.prototype),this.Message=f.Message}}class Mm extends R{name="TooManyContinuousDeploymentPolicies";$fault="client";Message;constructor(f){super({name:"TooManyContinuousDeploymentPolicies",$fault:"client",...f});Object.setPrototypeOf(this,Mm.prototype),this.Message=f.Message}}class $m extends R{name="ContinuousDeploymentPolicyInUse";$fault="client";Message;constructor(f){super({name:"ContinuousDeploymentPolicyInUse",$fault:"client",...f});Object.setPrototypeOf(this,$m.prototype),this.Message=f.Message}}class Um extends R{name="IllegalOriginAccessConfiguration";$fault="client";Message;constructor(f){super({name:"IllegalOriginAccessConfiguration",$fault:"client",...f});Object.setPrototypeOf(this,Um.prototype),this.Message=f.Message}}class zm extends R{name="InvalidDomainNameForOriginAccessControl";$fault="client";Message;constructor(f){super({name:"InvalidDomainNameForOriginAccessControl",$fault:"client",...f});Object.setPrototypeOf(this,zm.prototype),this.Message=f.Message}}class Gm extends R{name="NoSuchContinuousDeploymentPolicy";$fault="client";Message;constructor(f){super({name:"NoSuchContinuousDeploymentPolicy",$fault:"client",...f});Object.setPrototypeOf(this,Gm.prototype),this.Message=f.Message}}class Nm extends R{name="InvalidAssociation";$fault="client";Message;constructor(f){super({name:"InvalidAssociation",$fault:"client",...f});Object.setPrototypeOf(this,Nm.prototype),this.Message=f.Message}}class Dm extends R{name="FieldLevelEncryptionConfigAlreadyExists";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionConfigAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Dm.prototype),this.Message=f.Message}}class Zm extends R{name="NoSuchFieldLevelEncryptionProfile";$fault="client";Message;constructor(f){super({name:"NoSuchFieldLevelEncryptionProfile",$fault:"client",...f});Object.setPrototypeOf(this,Zm.prototype),this.Message=f.Message}}class Em extends R{name="QueryArgProfileEmpty";$fault="client";Message;constructor(f){super({name:"QueryArgProfileEmpty",$fault:"client",...f});Object.setPrototypeOf(this,Em.prototype),this.Message=f.Message}}class Ym extends R{name="TooManyFieldLevelEncryptionConfigs";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionConfigs",$fault:"client",...f});Object.setPrototypeOf(this,Ym.prototype),this.Message=f.Message}}class Xm extends R{name="TooManyFieldLevelEncryptionContentTypeProfiles";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionContentTypeProfiles",$fault:"client",...f});Object.setPrototypeOf(this,Xm.prototype),this.Message=f.Message}}class Jm extends R{name="TooManyFieldLevelEncryptionQueryArgProfiles";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionQueryArgProfiles",$fault:"client",...f});Object.setPrototypeOf(this,Jm.prototype),this.Message=f.Message}}class Tm extends R{name="FieldLevelEncryptionProfileAlreadyExists";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionProfileAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Tm.prototype),this.Message=f.Message}}class Hm extends R{name="FieldLevelEncryptionProfileSizeExceeded";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionProfileSizeExceeded",$fault:"client",...f});Object.setPrototypeOf(this,Hm.prototype),this.Message=f.Message}}class Qm extends R{name="NoSuchPublicKey";$fault="client";Message;constructor(f){super({name:"NoSuchPublicKey",$fault:"client",...f});Object.setPrototypeOf(this,Qm.prototype),this.Message=f.Message}}class Vm extends R{name="TooManyFieldLevelEncryptionEncryptionEntities";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionEncryptionEntities",$fault:"client",...f});Object.setPrototypeOf(this,Vm.prototype),this.Message=f.Message}}class km extends R{name="TooManyFieldLevelEncryptionFieldPatterns";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionFieldPatterns",$fault:"client",...f});Object.setPrototypeOf(this,km.prototype),this.Message=f.Message}}class Pm extends R{name="TooManyFieldLevelEncryptionProfiles";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionProfiles",$fault:"client",...f});Object.setPrototypeOf(this,Pm.prototype),this.Message=f.Message}}class _m extends R{name="FunctionAlreadyExists";$fault="client";Message;constructor(f){super({name:"FunctionAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,_m.prototype),this.Message=f.Message}}class qm extends R{name="FunctionSizeLimitExceeded";$fault="client";Message;constructor(f){super({name:"FunctionSizeLimitExceeded",$fault:"client",...f});Object.setPrototypeOf(this,qm.prototype),this.Message=f.Message}}class Cm extends R{name="TooManyFunctions";$fault="client";Message;constructor(f){super({name:"TooManyFunctions",$fault:"client",...f});Object.setPrototypeOf(this,Cm.prototype),this.Message=f.Message}}class Am extends R{name="TooManyInvalidationsInProgress";$fault="client";Message;constructor(f){super({name:"TooManyInvalidationsInProgress",$fault:"client",...f});Object.setPrototypeOf(this,Am.prototype),this.Message=f.Message}}class jm extends R{name="KeyGroupAlreadyExists";$fault="client";Message;constructor(f){super({name:"KeyGroupAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,jm.prototype),this.Message=f.Message}}class gm extends R{name="TooManyKeyGroups";$fault="client";Message;constructor(f){super({name:"TooManyKeyGroups",$fault:"client",...f});Object.setPrototypeOf(this,gm.prototype),this.Message=f.Message}}class ym extends R{name="TooManyPublicKeysInKeyGroup";$fault="client";Message;constructor(f){super({name:"TooManyPublicKeysInKeyGroup",$fault:"client",...f});Object.setPrototypeOf(this,ym.prototype),this.Message=f.Message}}class rm extends R{name="EntitySizeLimitExceeded";$fault="client";Message;constructor(f){super({name:"EntitySizeLimitExceeded",$fault:"client",...f});Object.setPrototypeOf(this,rm.prototype),this.Message=f.Message}}class Om extends R{name="MonitoringSubscriptionAlreadyExists";$fault="client";Message;constructor(f){super({name:"MonitoringSubscriptionAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Om.prototype),this.Message=f.Message}}class am extends R{name="OriginAccessControlAlreadyExists";$fault="client";Message;constructor(f){super({name:"OriginAccessControlAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,am.prototype),this.Message=f.Message}}class bm extends R{name="TooManyOriginAccessControls";$fault="client";Message;constructor(f){super({name:"TooManyOriginAccessControls",$fault:"client",...f});Object.setPrototypeOf(this,bm.prototype),this.Message=f.Message}}class dm extends R{name="OriginRequestPolicyAlreadyExists";$fault="client";Message;constructor(f){super({name:"OriginRequestPolicyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,dm.prototype),this.Message=f.Message}}class xm extends R{name="TooManyCookiesInOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"TooManyCookiesInOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,xm.prototype),this.Message=f.Message}}class im extends R{name="TooManyHeadersInOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"TooManyHeadersInOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,im.prototype),this.Message=f.Message}}class sm extends R{name="TooManyOriginRequestPolicies";$fault="client";Message;constructor(f){super({name:"TooManyOriginRequestPolicies",$fault:"client",...f});Object.setPrototypeOf(this,sm.prototype),this.Message=f.Message}}class cm extends R{name="TooManyQueryStringsInOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"TooManyQueryStringsInOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,cm.prototype),this.Message=f.Message}}class em extends R{name="PublicKeyAlreadyExists";$fault="client";Message;constructor(f){super({name:"PublicKeyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,em.prototype),this.Message=f.Message}}class nm extends R{name="TooManyPublicKeys";$fault="client";Message;constructor(f){super({name:"TooManyPublicKeys",$fault:"client",...f});Object.setPrototypeOf(this,nm.prototype),this.Message=f.Message}}class pm extends R{name="RealtimeLogConfigAlreadyExists";$fault="client";Message;constructor(f){super({name:"RealtimeLogConfigAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,pm.prototype),this.Message=f.Message}}class om extends R{name="TooManyRealtimeLogConfigs";$fault="client";Message;constructor(f){super({name:"TooManyRealtimeLogConfigs",$fault:"client",...f});Object.setPrototypeOf(this,om.prototype),this.Message=f.Message}}class um extends R{name="ResponseHeadersPolicyAlreadyExists";$fault="client";Message;constructor(f){super({name:"ResponseHeadersPolicyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,um.prototype),this.Message=f.Message}}class tm extends R{name="TooLongCSPInResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"TooLongCSPInResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,tm.prototype),this.Message=f.Message}}class fv extends R{name="TooManyCustomHeadersInResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"TooManyCustomHeadersInResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,fv.prototype),this.Message=f.Message}}class lv extends R{name="TooManyRemoveHeadersInResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"TooManyRemoveHeadersInResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,lv.prototype),this.Message=f.Message}}class mv extends R{name="TooManyResponseHeadersPolicies";$fault="client";Message;constructor(f){super({name:"TooManyResponseHeadersPolicies",$fault:"client",...f});Object.setPrototypeOf(this,mv.prototype),this.Message=f.Message}}class vv extends R{name="StreamingDistributionAlreadyExists";$fault="client";Message;constructor(f){super({name:"StreamingDistributionAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,vv.prototype),this.Message=f.Message}}class wv extends R{name="TooManyStreamingDistributionCNAMEs";$fault="client";Message;constructor(f){super({name:"TooManyStreamingDistributionCNAMEs",$fault:"client",...f});Object.setPrototypeOf(this,wv.prototype),this.Message=f.Message}}class hv extends R{name="TooManyStreamingDistributions";$fault="client";Message;constructor(f){super({name:"TooManyStreamingDistributions",$fault:"client",...f});Object.setPrototypeOf(this,hv.prototype),this.Message=f.Message}}class Sv extends R{name="IllegalDelete";$fault="client";Message;constructor(f){super({name:"IllegalDelete",$fault:"client",...f});Object.setPrototypeOf(this,Sv.prototype),this.Message=f.Message}}class Rv extends R{name="CloudFrontOriginAccessIdentityInUse";$fault="client";Message;constructor(f){super({name:"CloudFrontOriginAccessIdentityInUse",$fault:"client",...f});Object.setPrototypeOf(this,Rv.prototype),this.Message=f.Message}}class Iv extends R{name="NoSuchCloudFrontOriginAccessIdentity";$fault="client";Message;constructor(f){super({name:"NoSuchCloudFrontOriginAccessIdentity",$fault:"client",...f});Object.setPrototypeOf(this,Iv.prototype),this.Message=f.Message}}class Lv extends R{name="ResourceNotDisabled";$fault="client";Message;constructor(f){super({name:"ResourceNotDisabled",$fault:"client",...f});Object.setPrototypeOf(this,Lv.prototype),this.Message=f.Message}}class Kv extends R{name="DistributionNotDisabled";$fault="client";Message;constructor(f){super({name:"DistributionNotDisabled",$fault:"client",...f});Object.setPrototypeOf(this,Kv.prototype),this.Message=f.Message}}class Fv extends R{name="ResourceInUse";$fault="client";Message;constructor(f){super({name:"ResourceInUse",$fault:"client",...f});Object.setPrototypeOf(this,Fv.prototype),this.Message=f.Message}}class Bv extends R{name="FieldLevelEncryptionConfigInUse";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionConfigInUse",$fault:"client",...f});Object.setPrototypeOf(this,Bv.prototype),this.Message=f.Message}}class Wv extends R{name="FieldLevelEncryptionProfileInUse";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionProfileInUse",$fault:"client",...f});Object.setPrototypeOf(this,Wv.prototype),this.Message=f.Message}}class Mv extends R{name="FunctionInUse";$fault="client";Message;constructor(f){super({name:"FunctionInUse",$fault:"client",...f});Object.setPrototypeOf(this,Mv.prototype),this.Message=f.Message}}class $v extends R{name="NoSuchFunctionExists";$fault="client";Message;constructor(f){super({name:"NoSuchFunctionExists",$fault:"client",...f});Object.setPrototypeOf(this,$v.prototype),this.Message=f.Message}}class Uv extends R{name="NoSuchResource";$fault="client";Message;constructor(f){super({name:"NoSuchResource",$fault:"client",...f});Object.setPrototypeOf(this,Uv.prototype),this.Message=f.Message}}class zv extends R{name="NoSuchMonitoringSubscription";$fault="client";Message;constructor(f){super({name:"NoSuchMonitoringSubscription",$fault:"client",...f});Object.setPrototypeOf(this,zv.prototype),this.Message=f.Message}}class Gv extends R{name="NoSuchOriginAccessControl";$fault="client";Message;constructor(f){super({name:"NoSuchOriginAccessControl",$fault:"client",...f});Object.setPrototypeOf(this,Gv.prototype),this.Message=f.Message}}class Nv extends R{name="OriginAccessControlInUse";$fault="client";Message;constructor(f){super({name:"OriginAccessControlInUse",$fault:"client",...f});Object.setPrototypeOf(this,Nv.prototype),this.Message=f.Message}}class Dv extends R{name="OriginRequestPolicyInUse";$fault="client";Message;constructor(f){super({name:"OriginRequestPolicyInUse",$fault:"client",...f});Object.setPrototypeOf(this,Dv.prototype),this.Message=f.Message}}class Zv extends R{name="PublicKeyInUse";$fault="client";Message;constructor(f){super({name:"PublicKeyInUse",$fault:"client",...f});Object.setPrototypeOf(this,Zv.prototype),this.Message=f.Message}}class Ev extends R{name="RealtimeLogConfigInUse";$fault="client";Message;constructor(f){super({name:"RealtimeLogConfigInUse",$fault:"client",...f});Object.setPrototypeOf(this,Ev.prototype),this.Message=f.Message}}class Yv extends R{name="ResponseHeadersPolicyInUse";$fault="client";Message;constructor(f){super({name:"ResponseHeadersPolicyInUse",$fault:"client",...f});Object.setPrototypeOf(this,Yv.prototype),this.Message=f.Message}}class Xv extends R{name="NoSuchStreamingDistribution";$fault="client";Message;constructor(f){super({name:"NoSuchStreamingDistribution",$fault:"client",...f});Object.setPrototypeOf(this,Xv.prototype),this.Message=f.Message}}class Jv extends R{name="StreamingDistributionNotDisabled";$fault="client";Message;constructor(f){super({name:"StreamingDistributionNotDisabled",$fault:"client",...f});Object.setPrototypeOf(this,Jv.prototype),this.Message=f.Message}}class Tv extends R{name="NoSuchInvalidation";$fault="client";Message;constructor(f){super({name:"NoSuchInvalidation",$fault:"client",...f});Object.setPrototypeOf(this,Tv.prototype),this.Message=f.Message}}class Hv extends R{name="TestFunctionFailed";$fault="server";Message;constructor(f){super({name:"TestFunctionFailed",$fault:"server",...f});Object.setPrototypeOf(this,Hv.prototype),this.Message=f.Message}}var I0=async(f,m)=>{let l=R0.requestBuilder(f,m),v={"content-type":"application/xml"};l.bp("/2020-05-31/distribution/{DistributionId}/invalidation"),l.p("DistributionId",()=>f.DistributionId,"{DistributionId}",!1);let w,F;if(f.InvalidationBatch!==void 0)F=y1(f.InvalidationBatch,m),w=e1,F.a("xmlns","http://cloudfront.amazonaws.com/doc/2020-05-31/"),w+=F.toString();return l.m("POST").h(v).b(w),l.build()};var L0=async(f,m)=>{if(f.statusCode!==201&&f.statusCode>=300)return sS(f,m);let l=I({$metadata:K(f),[i1]:[,f.headers[c1]]}),v=S.expectObject(await Uf.parseXmlBody(f.body,m));return l.Invalidation=a1(v,m),l};var sS=async(f,m)=>{let l={...f,body:await Uf.parseXmlErrorBody(f.body,m)},v=Uf.loadRestXmlErrorCode(f,l.body);switch(v){case"AccessDenied":case"com.amazonaws.cloudfront#AccessDenied":throw await eS(l,m);case"IllegalUpdate":case"com.amazonaws.cloudfront#IllegalUpdate":throw await YR(l,m);case"InvalidArgument":case"com.amazonaws.cloudfront#InvalidArgument":throw await JR(l,m);case"NoSuchDistribution":case"com.amazonaws.cloudfront#NoSuchDistribution":throw await wI(l,m);case"TooManyDistributionCNAMEs":case"com.amazonaws.cloudfront#TooManyDistributionCNAMEs":throw await cI(l,m);case"EntityNotFound":case"com.amazonaws.cloudfront#EntityNotFound":throw await KR(l,m);case"InvalidIfMatchVersion":case"com.amazonaws.cloudfront#InvalidIfMatchVersion":throw await CR(l,m);case"PreconditionFailed":case"com.amazonaws.cloudfront#PreconditionFailed":throw await EI(l,m);case"CNAMEAlreadyExists":case"com.amazonaws.cloudfront#CNAMEAlreadyExists":throw await vR(l,m);case"DistributionAlreadyExists":case"com.amazonaws.cloudfront#DistributionAlreadyExists":throw await SR(l,m);case"IllegalFieldLevelEncryptionConfigAssociationWithCacheBehavior":case"com.amazonaws.cloudfront#IllegalFieldLevelEncryptionConfigAssociationWithCacheBehavior":throw await ZR(l,m);case"InconsistentQuantities":case"com.amazonaws.cloudfront#InconsistentQuantities":throw await XR(l,m);case"InvalidDefaultRootObject":case"com.amazonaws.cloudfront#InvalidDefaultRootObject":throw await HR(l,m);case"InvalidErrorCode":case"com.amazonaws.cloudfront#InvalidErrorCode":throw await VR(l,m);case"InvalidForwardCookies":case"com.amazonaws.cloudfront#InvalidForwardCookies":throw await kR(l,m);case"InvalidFunctionAssociation":case"com.amazonaws.cloudfront#InvalidFunctionAssociation":throw await PR(l,m);case"InvalidGeoRestrictionParameter":case"com.amazonaws.cloudfront#InvalidGeoRestrictionParameter":throw await _R(l,m);case"InvalidHeadersForS3Origin":case"com.amazonaws.cloudfront#InvalidHeadersForS3Origin":throw await qR(l,m);case"InvalidLambdaFunctionAssociation":case"com.amazonaws.cloudfront#InvalidLambdaFunctionAssociation":throw await AR(l,m);case"InvalidLocationCode":case"com.amazonaws.cloudfront#InvalidLocationCode":throw await jR(l,m);case"InvalidMinimumProtocolVersion":case"com.amazonaws.cloudfront#InvalidMinimumProtocolVersion":throw await gR(l,m);case"InvalidOrigin":case"com.amazonaws.cloudfront#InvalidOrigin":throw await yR(l,m);case"InvalidOriginAccessControl":case"com.amazonaws.cloudfront#InvalidOriginAccessControl":throw await rR(l,m);case"InvalidOriginAccessIdentity":case"com.amazonaws.cloudfront#InvalidOriginAccessIdentity":throw await OR(l,m);case"InvalidOriginKeepaliveTimeout":case"com.amazonaws.cloudfront#InvalidOriginKeepaliveTimeout":throw await aR(l,m);case"InvalidOriginReadTimeout":case"com.amazonaws.cloudfront#InvalidOriginReadTimeout":throw await bR(l,m);case"InvalidProtocolSettings":case"com.amazonaws.cloudfront#InvalidProtocolSettings":throw await dR(l,m);case"InvalidQueryStringParameters":case"com.amazonaws.cloudfront#InvalidQueryStringParameters":throw await xR(l,m);case"InvalidRelativePath":case"com.amazonaws.cloudfront#InvalidRelativePath":throw await iR(l,m);case"InvalidRequiredProtocol":case"com.amazonaws.cloudfront#InvalidRequiredProtocol":throw await sR(l,m);case"InvalidResponseCode":case"com.amazonaws.cloudfront#InvalidResponseCode":throw await cR(l,m);case"InvalidTTLOrder":case"com.amazonaws.cloudfront#InvalidTTLOrder":throw await nR(l,m);case"InvalidViewerCertificate":case"com.amazonaws.cloudfront#InvalidViewerCertificate":throw await pR(l,m);case"InvalidWebACLId":case"com.amazonaws.cloudfront#InvalidWebACLId":throw await oR(l,m);case"MissingBody":case"com.amazonaws.cloudfront#MissingBody":throw await tR(l,m);case"NoSuchCachePolicy":case"com.amazonaws.cloudfront#NoSuchCachePolicy":throw await lI(l,m);case"NoSuchFieldLevelEncryptionConfig":case"com.amazonaws.cloudfront#NoSuchFieldLevelEncryptionConfig":throw await hI(l,m);case"NoSuchOrigin":case"com.amazonaws.cloudfront#NoSuchOrigin":throw await KI(l,m);case"NoSuchOriginRequestPolicy":case"com.amazonaws.cloudfront#NoSuchOriginRequestPolicy":throw await BI(l,m);case"NoSuchRealtimeLogConfig":case"com.amazonaws.cloudfront#NoSuchRealtimeLogConfig":throw await MI(l,m);case"NoSuchResponseHeadersPolicy":case"com.amazonaws.cloudfront#NoSuchResponseHeadersPolicy":throw await UI(l,m);case"RealtimeLogConfigOwnerMismatch":case"com.amazonaws.cloudfront#RealtimeLogConfigOwnerMismatch":throw await QI(l,m);case"TooManyCacheBehaviors":case"com.amazonaws.cloudfront#TooManyCacheBehaviors":throw await yI(l,m);case"TooManyCertificates":case"com.amazonaws.cloudfront#TooManyCertificates":throw await OI(l,m);case"TooManyCookieNamesInWhiteList":case"com.amazonaws.cloudfront#TooManyCookieNamesInWhiteList":throw await dI(l,m);case"TooManyDistributions":case"com.amazonaws.cloudfront#TooManyDistributions":throw await eI(l,m);case"TooManyDistributionsAssociatedToCachePolicy":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToCachePolicy":throw await nI(l,m);case"TooManyDistributionsAssociatedToFieldLevelEncryptionConfig":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToFieldLevelEncryptionConfig":throw await pI(l,m);case"TooManyDistributionsAssociatedToKeyGroup":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToKeyGroup":throw await oI(l,m);case"TooManyDistributionsAssociatedToOriginAccessControl":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToOriginAccessControl":throw await uI(l,m);case"TooManyDistributionsAssociatedToOriginRequestPolicy":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToOriginRequestPolicy":throw await tI(l,m);case"TooManyDistributionsAssociatedToResponseHeadersPolicy":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToResponseHeadersPolicy":throw await f1(l,m);case"TooManyDistributionsWithFunctionAssociations":case"com.amazonaws.cloudfront#TooManyDistributionsWithFunctionAssociations":throw await l1(l,m);case"TooManyDistributionsWithLambdaAssociations":case"com.amazonaws.cloudfront#TooManyDistributionsWithLambdaAssociations":throw await m1(l,m);case"TooManyDistributionsWithSingleFunctionARN":case"com.amazonaws.cloudfront#TooManyDistributionsWithSingleFunctionARN":throw await v1(l,m);case"TooManyFunctionAssociations":case"com.amazonaws.cloudfront#TooManyFunctionAssociations":throw await K1(l,m);case"TooManyHeadersInForwardedValues":case"com.amazonaws.cloudfront#TooManyHeadersInForwardedValues":throw await W1(l,m);case"TooManyKeyGroupsAssociatedToDistribution":case"com.amazonaws.cloudfront#TooManyKeyGroupsAssociatedToDistribution":throw await z1(l,m);case"TooManyLambdaFunctionAssociations":case"com.amazonaws.cloudfront#TooManyLambdaFunctionAssociations":throw await G1(l,m);case"TooManyOriginCustomHeaders":case"com.amazonaws.cloudfront#TooManyOriginCustomHeaders":throw await D1(l,m);case"TooManyOriginGroupsPerDistribution":case"com.amazonaws.cloudfront#TooManyOriginGroupsPerDistribution":throw await Z1(l,m);case"TooManyOrigins":case"com.amazonaws.cloudfront#TooManyOrigins":throw await Y1(l,m);case"TooManyQueryStringParameters":case"com.amazonaws.cloudfront#TooManyQueryStringParameters":throw await T1(l,m);case"TooManyTrustedSigners":case"com.amazonaws.cloudfront#TooManyTrustedSigners":throw await C1(l,m);case"TrustedKeyGroupDoesNotExist":case"com.amazonaws.cloudfront#TrustedKeyGroupDoesNotExist":throw await A1(l,m);case"TrustedSignerDoesNotExist":case"com.amazonaws.cloudfront#TrustedSignerDoesNotExist":throw await j1(l,m);case"EntityAlreadyExists":case"com.amazonaws.cloudfront#EntityAlreadyExists":throw await IR(l,m);case"EntityLimitExceeded":case"com.amazonaws.cloudfront#EntityLimitExceeded":throw await LR(l,m);case"InvalidTagging":case"com.amazonaws.cloudfront#InvalidTagging":throw await eR(l,m);case"UnsupportedOperation":case"com.amazonaws.cloudfront#UnsupportedOperation":throw await g1(l,m);case"CachePolicyAlreadyExists":case"com.amazonaws.cloudfront#CachePolicyAlreadyExists":throw await pS(l,m);case"TooManyCachePolicies":case"com.amazonaws.cloudfront#TooManyCachePolicies":throw await rI(l,m);case"TooManyCookiesInCachePolicy":case"com.amazonaws.cloudfront#TooManyCookiesInCachePolicy":throw await xI(l,m);case"TooManyHeadersInCachePolicy":case"com.amazonaws.cloudfront#TooManyHeadersInCachePolicy":throw await B1(l,m);case"TooManyQueryStringsInCachePolicy":case"com.amazonaws.cloudfront#TooManyQueryStringsInCachePolicy":throw await H1(l,m);case"CloudFrontOriginAccessIdentityAlreadyExists":case"com.amazonaws.cloudfront#CloudFrontOriginAccessIdentityAlreadyExists":throw await lR(l,m);case"TooManyCloudFrontOriginAccessIdentities":case"com.amazonaws.cloudfront#TooManyCloudFrontOriginAccessIdentities":throw await aI(l,m);case"ContinuousDeploymentPolicyAlreadyExists":case"com.amazonaws.cloudfront#ContinuousDeploymentPolicyAlreadyExists":throw await wR(l,m);case"StagingDistributionInUse":case"com.amazonaws.cloudfront#StagingDistributionInUse":throw await qI(l,m);case"TooManyContinuousDeploymentPolicies":case"com.amazonaws.cloudfront#TooManyContinuousDeploymentPolicies":throw await bI(l,m);case"ContinuousDeploymentPolicyInUse":case"com.amazonaws.cloudfront#ContinuousDeploymentPolicyInUse":throw await hR(l,m);case"IllegalOriginAccessConfiguration":case"com.amazonaws.cloudfront#IllegalOriginAccessConfiguration":throw await ER(l,m);case"InvalidDomainNameForOriginAccessControl":case"com.amazonaws.cloudfront#InvalidDomainNameForOriginAccessControl":throw await QR(l,m);case"NoSuchContinuousDeploymentPolicy":case"com.amazonaws.cloudfront#NoSuchContinuousDeploymentPolicy":throw await vI(l,m);case"InvalidAssociation":case"com.amazonaws.cloudfront#InvalidAssociation":throw await TR(l,m);case"FieldLevelEncryptionConfigAlreadyExists":case"com.amazonaws.cloudfront#FieldLevelEncryptionConfigAlreadyExists":throw await BR(l,m);case"NoSuchFieldLevelEncryptionProfile":case"com.amazonaws.cloudfront#NoSuchFieldLevelEncryptionProfile":throw await SI(l,m);case"QueryArgProfileEmpty":case"com.amazonaws.cloudfront#QueryArgProfileEmpty":throw await JI(l,m);case"TooManyFieldLevelEncryptionConfigs":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionConfigs":throw await w1(l,m);case"TooManyFieldLevelEncryptionContentTypeProfiles":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionContentTypeProfiles":throw await h1(l,m);case"TooManyFieldLevelEncryptionQueryArgProfiles":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionQueryArgProfiles":throw await L1(l,m);case"FieldLevelEncryptionProfileAlreadyExists":case"com.amazonaws.cloudfront#FieldLevelEncryptionProfileAlreadyExists":throw await MR(l,m);case"FieldLevelEncryptionProfileSizeExceeded":case"com.amazonaws.cloudfront#FieldLevelEncryptionProfileSizeExceeded":throw await UR(l,m);case"NoSuchPublicKey":case"com.amazonaws.cloudfront#NoSuchPublicKey":throw await WI(l,m);case"TooManyFieldLevelEncryptionEncryptionEntities":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionEncryptionEntities":throw await S1(l,m);case"TooManyFieldLevelEncryptionFieldPatterns":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionFieldPatterns":throw await R1(l,m);case"TooManyFieldLevelEncryptionProfiles":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionProfiles":throw await I1(l,m);case"FunctionAlreadyExists":case"com.amazonaws.cloudfront#FunctionAlreadyExists":throw await zR(l,m);case"FunctionSizeLimitExceeded":case"com.amazonaws.cloudfront#FunctionSizeLimitExceeded":throw await NR(l,m);case"TooManyFunctions":case"com.amazonaws.cloudfront#TooManyFunctions":throw await F1(l,m);case"BatchTooLarge":case"com.amazonaws.cloudfront#BatchTooLarge":throw await nS(l,m);case"TooManyInvalidationsInProgress":case"com.amazonaws.cloudfront#TooManyInvalidationsInProgress":throw await $1(l,m);case"KeyGroupAlreadyExists":case"com.amazonaws.cloudfront#KeyGroupAlreadyExists":throw await uR(l,m);case"TooManyKeyGroups":case"com.amazonaws.cloudfront#TooManyKeyGroups":throw await U1(l,m);case"TooManyPublicKeysInKeyGroup":case"com.amazonaws.cloudfront#TooManyPublicKeysInKeyGroup":throw await J1(l,m);case"EntitySizeLimitExceeded":case"com.amazonaws.cloudfront#EntitySizeLimitExceeded":throw await FR(l,m);case"MonitoringSubscriptionAlreadyExists":case"com.amazonaws.cloudfront#MonitoringSubscriptionAlreadyExists":throw await fI(l,m);case"OriginAccessControlAlreadyExists":case"com.amazonaws.cloudfront#OriginAccessControlAlreadyExists":throw await GI(l,m);case"TooManyOriginAccessControls":case"com.amazonaws.cloudfront#TooManyOriginAccessControls":throw await N1(l,m);case"OriginRequestPolicyAlreadyExists":case"com.amazonaws.cloudfront#OriginRequestPolicyAlreadyExists":throw await DI(l,m);case"TooManyCookiesInOriginRequestPolicy":case"com.amazonaws.cloudfront#TooManyCookiesInOriginRequestPolicy":throw await iI(l,m);case"TooManyHeadersInOriginRequestPolicy":case"com.amazonaws.cloudfront#TooManyHeadersInOriginRequestPolicy":throw await M1(l,m);case"TooManyOriginRequestPolicies":case"com.amazonaws.cloudfront#TooManyOriginRequestPolicies":throw await E1(l,m);case"TooManyQueryStringsInOriginRequestPolicy":case"com.amazonaws.cloudfront#TooManyQueryStringsInOriginRequestPolicy":throw await Q1(l,m);case"PublicKeyAlreadyExists":case"com.amazonaws.cloudfront#PublicKeyAlreadyExists":throw await YI(l,m);case"TooManyPublicKeys":case"com.amazonaws.cloudfront#TooManyPublicKeys":throw await X1(l,m);case"RealtimeLogConfigAlreadyExists":case"com.amazonaws.cloudfront#RealtimeLogConfigAlreadyExists":throw await TI(l,m);case"TooManyRealtimeLogConfigs":case"com.amazonaws.cloudfront#TooManyRealtimeLogConfigs":throw await V1(l,m);case"ResponseHeadersPolicyAlreadyExists":case"com.amazonaws.cloudfront#ResponseHeadersPolicyAlreadyExists":throw await PI(l,m);case"TooLongCSPInResponseHeadersPolicy":case"com.amazonaws.cloudfront#TooLongCSPInResponseHeadersPolicy":throw await gI(l,m);case"TooManyCustomHeadersInResponseHeadersPolicy":case"com.amazonaws.cloudfront#TooManyCustomHeadersInResponseHeadersPolicy":throw await sI(l,m);case"TooManyRemoveHeadersInResponseHeadersPolicy":case"com.amazonaws.cloudfront#TooManyRemoveHeadersInResponseHeadersPolicy":throw await k1(l,m);case"TooManyResponseHeadersPolicies":case"com.amazonaws.cloudfront#TooManyResponseHeadersPolicies":throw await P1(l,m);case"StreamingDistributionAlreadyExists":case"com.amazonaws.cloudfront#StreamingDistributionAlreadyExists":throw await CI(l,m);case"TooManyStreamingDistributionCNAMEs":case"com.amazonaws.cloudfront#TooManyStreamingDistributionCNAMEs":throw await _1(l,m);case"TooManyStreamingDistributions":case"com.amazonaws.cloudfront#TooManyStreamingDistributions":throw await q1(l,m);case"CannotDeleteEntityWhileInUse":case"com.amazonaws.cloudfront#CannotDeleteEntityWhileInUse":throw await tS(l,m);case"IllegalDelete":case"com.amazonaws.cloudfront#IllegalDelete":throw await DR(l,m);case"CachePolicyInUse":case"com.amazonaws.cloudfront#CachePolicyInUse":throw await oS(l,m);case"CloudFrontOriginAccessIdentityInUse":case"com.amazonaws.cloudfront#CloudFrontOriginAccessIdentityInUse":throw await mR(l,m);case"NoSuchCloudFrontOriginAccessIdentity":case"com.amazonaws.cloudfront#NoSuchCloudFrontOriginAccessIdentity":throw await mI(l,m);case"ResourceNotDisabled":case"com.amazonaws.cloudfront#ResourceNotDisabled":throw await kI(l,m);case"DistributionNotDisabled":case"com.amazonaws.cloudfront#DistributionNotDisabled":throw await RR(l,m);case"ResourceInUse":case"com.amazonaws.cloudfront#ResourceInUse":throw await VI(l,m);case"FieldLevelEncryptionConfigInUse":case"com.amazonaws.cloudfront#FieldLevelEncryptionConfigInUse":throw await WR(l,m);case"FieldLevelEncryptionProfileInUse":case"com.amazonaws.cloudfront#FieldLevelEncryptionProfileInUse":throw await $R(l,m);case"FunctionInUse":case"com.amazonaws.cloudfront#FunctionInUse":throw await GR(l,m);case"NoSuchFunctionExists":case"com.amazonaws.cloudfront#NoSuchFunctionExists":throw await RI(l,m);case"NoSuchResource":case"com.amazonaws.cloudfront#NoSuchResource":throw await $I(l,m);case"NoSuchMonitoringSubscription":case"com.amazonaws.cloudfront#NoSuchMonitoringSubscription":throw await LI(l,m);case"NoSuchOriginAccessControl":case"com.amazonaws.cloudfront#NoSuchOriginAccessControl":throw await FI(l,m);case"OriginAccessControlInUse":case"com.amazonaws.cloudfront#OriginAccessControlInUse":throw await NI(l,m);case"OriginRequestPolicyInUse":case"com.amazonaws.cloudfront#OriginRequestPolicyInUse":throw await ZI(l,m);case"PublicKeyInUse":case"com.amazonaws.cloudfront#PublicKeyInUse":throw await XI(l,m);case"RealtimeLogConfigInUse":case"com.amazonaws.cloudfront#RealtimeLogConfigInUse":throw await HI(l,m);case"ResponseHeadersPolicyInUse":case"com.amazonaws.cloudfront#ResponseHeadersPolicyInUse":throw await _I(l,m);case"NoSuchStreamingDistribution":case"com.amazonaws.cloudfront#NoSuchStreamingDistribution":throw await zI(l,m);case"StreamingDistributionNotDisabled":case"com.amazonaws.cloudfront#StreamingDistributionNotDisabled":throw await AI(l,m);case"NoSuchInvalidation":case"com.amazonaws.cloudfront#NoSuchInvalidation":throw await II(l,m);case"TestFunctionFailed":case"com.amazonaws.cloudfront#TestFunctionFailed":throw await jI(l,m);case"CannotChangeImmutablePublicKeyFields":case"com.amazonaws.cloudfront#CannotChangeImmutablePublicKeyFields":throw await uS(l,m);case"CannotUpdateEntityWhileInUse":case"com.amazonaws.cloudfront#CannotUpdateEntityWhileInUse":throw await fR(l,m);default:let w=l.body;return cS({output:f,parsedBody:w.Error,errorCode:v})}},cS=h0(R),eS=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new gf({$metadata:K(f),...l});return L(w,f.body.Error)},nS=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new sf({$metadata:K(f),...l});return L(w,f.body.Error)},pS=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new cf({$metadata:K(f),...l});return L(w,f.body.Error)},oS=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new ef({$metadata:K(f),...l});return L(w,f.body.Error)},uS=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new nf({$metadata:K(f),...l});return L(w,f.body.Error)},tS=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new pf({$metadata:K(f),...l});return L(w,f.body.Error)},fR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new of({$metadata:K(f),...l});return L(w,f.body.Error)},lR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Km({$metadata:K(f),...l});return L(w,f.body.Error)},mR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Rv({$metadata:K(f),...l});return L(w,f.body.Error)},vR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new uf({$metadata:K(f),...l});return L(w,f.body.Error)},wR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Bm({$metadata:K(f),...l});return L(w,f.body.Error)},hR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new $m({$metadata:K(f),...l});return L(w,f.body.Error)},SR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new tf({$metadata:K(f),...l});return L(w,f.body.Error)},RR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Kv({$metadata:K(f),...l});return L(w,f.body.Error)},IR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new mm({$metadata:K(f),...l});return L(w,f.body.Error)},LR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new vm({$metadata:K(f),...l});return L(w,f.body.Error)},KR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new bf({$metadata:K(f),...l});return L(w,f.body.Error)},FR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new rm({$metadata:K(f),...l});return L(w,f.body.Error)},BR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Dm({$metadata:K(f),...l});return L(w,f.body.Error)},WR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Bv({$metadata:K(f),...l});return L(w,f.body.Error)},MR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Tm({$metadata:K(f),...l});return L(w,f.body.Error)},$R=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Wv({$metadata:K(f),...l});return L(w,f.body.Error)},UR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Hm({$metadata:K(f),...l});return L(w,f.body.Error)},zR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new _m({$metadata:K(f),...l});return L(w,f.body.Error)},GR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Mv({$metadata:K(f),...l});return L(w,f.body.Error)},NR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new qm({$metadata:K(f),...l});return L(w,f.body.Error)},DR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Sv({$metadata:K(f),...l});return L(w,f.body.Error)},ZR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new fl({$metadata:K(f),...l});return L(w,f.body.Error)},ER=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Um({$metadata:K(f),...l});return L(w,f.body.Error)},YR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new yf({$metadata:K(f),...l});return L(w,f.body.Error)},XR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new ll({$metadata:K(f),...l});return L(w,f.body.Error)},JR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new rf({$metadata:K(f),...l});return L(w,f.body.Error)},TR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Nm({$metadata:K(f),...l});return L(w,f.body.Error)},HR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new ml({$metadata:K(f),...l});return L(w,f.body.Error)},QR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new zm({$metadata:K(f),...l});return L(w,f.body.Error)},VR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new vl({$metadata:K(f),...l});return L(w,f.body.Error)},kR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new wl({$metadata:K(f),...l});return L(w,f.body.Error)},PR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new hl({$metadata:K(f),...l});return L(w,f.body.Error)},_R=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Sl({$metadata:K(f),...l});return L(w,f.body.Error)},qR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Rl({$metadata:K(f),...l});return L(w,f.body.Error)},CR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new df({$metadata:K(f),...l});return L(w,f.body.Error)},AR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Il({$metadata:K(f),...l});return L(w,f.body.Error)},jR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Ll({$metadata:K(f),...l});return L(w,f.body.Error)},gR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Kl({$metadata:K(f),...l});return L(w,f.body.Error)},yR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Fl({$metadata:K(f),...l});return L(w,f.body.Error)},rR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Bl({$metadata:K(f),...l});return L(w,f.body.Error)},OR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Wl({$metadata:K(f),...l});return L(w,f.body.Error)},aR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Ml({$metadata:K(f),...l});return L(w,f.body.Error)},bR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new $l({$metadata:K(f),...l});return L(w,f.body.Error)},dR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Ul({$metadata:K(f),...l});return L(w,f.body.Error)},xR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new zl({$metadata:K(f),...l});return L(w,f.body.Error)},iR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Gl({$metadata:K(f),...l});return L(w,f.body.Error)},sR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Nl({$metadata:K(f),...l});return L(w,f.body.Error)},cR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Dl({$metadata:K(f),...l});return L(w,f.body.Error)},eR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new wm({$metadata:K(f),...l});return L(w,f.body.Error)},nR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Zl({$metadata:K(f),...l});return L(w,f.body.Error)},pR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new El({$metadata:K(f),...l});return L(w,f.body.Error)},oR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Yl({$metadata:K(f),...l});return L(w,f.body.Error)},uR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new jm({$metadata:K(f),...l});return L(w,f.body.Error)},tR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Xl({$metadata:K(f),...l});return L(w,f.body.Error)},fI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Om({$metadata:K(f),...l});return L(w,f.body.Error)},lI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Jl({$metadata:K(f),...l});return L(w,f.body.Error)},mI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Iv({$metadata:K(f),...l});return L(w,f.body.Error)},vI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Gm({$metadata:K(f),...l});return L(w,f.body.Error)},wI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Of({$metadata:K(f),...l});return L(w,f.body.Error)},hI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Tl({$metadata:K(f),...l});return L(w,f.body.Error)},SI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Zm({$metadata:K(f),...l});return L(w,f.body.Error)},RI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new $v({$metadata:K(f),...l});return L(w,f.body.Error)},II=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Tv({$metadata:K(f),...l});return L(w,f.body.Error)},LI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new zv({$metadata:K(f),...l});return L(w,f.body.Error)},KI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Hl({$metadata:K(f),...l});return L(w,f.body.Error)},FI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Gv({$metadata:K(f),...l});return L(w,f.body.Error)},BI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Ql({$metadata:K(f),...l});return L(w,f.body.Error)},WI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Qm({$metadata:K(f),...l});return L(w,f.body.Error)},MI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Vl({$metadata:K(f),...l});return L(w,f.body.Error)},$I=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Uv({$metadata:K(f),...l});return L(w,f.body.Error)},UI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new kl({$metadata:K(f),...l});return L(w,f.body.Error)},zI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Xv({$metadata:K(f),...l});return L(w,f.body.Error)},GI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new am({$metadata:K(f),...l});return L(w,f.body.Error)},NI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Nv({$metadata:K(f),...l});return L(w,f.body.Error)},DI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new dm({$metadata:K(f),...l});return L(w,f.body.Error)},ZI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Dv({$metadata:K(f),...l});return L(w,f.body.Error)},EI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new xf({$metadata:K(f),...l});return L(w,f.body.Error)},YI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new em({$metadata:K(f),...l});return L(w,f.body.Error)},XI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Zv({$metadata:K(f),...l});return L(w,f.body.Error)},JI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Em({$metadata:K(f),...l});return L(w,f.body.Error)},TI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new pm({$metadata:K(f),...l});return L(w,f.body.Error)},HI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Ev({$metadata:K(f),...l});return L(w,f.body.Error)},QI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Pl({$metadata:K(f),...l});return L(w,f.body.Error)},VI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Fv({$metadata:K(f),...l});return L(w,f.body.Error)},kI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Lv({$metadata:K(f),...l});return L(w,f.body.Error)},PI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new um({$metadata:K(f),...l});return L(w,f.body.Error)},_I=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Yv({$metadata:K(f),...l});return L(w,f.body.Error)},qI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Wm({$metadata:K(f),...l});return L(w,f.body.Error)},CI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new vv({$metadata:K(f),...l});return L(w,f.body.Error)},AI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Jv({$metadata:K(f),...l});return L(w,f.body.Error)},jI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Hv({$metadata:K(f),...l});return L(w,f.body.Error)},gI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new tm({$metadata:K(f),...l});return L(w,f.body.Error)},yI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new _l({$metadata:K(f),...l});return L(w,f.body.Error)},rI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Sm({$metadata:K(f),...l});return L(w,f.body.Error)},OI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new ql({$metadata:K(f),...l});return L(w,f.body.Error)},aI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Fm({$metadata:K(f),...l});return L(w,f.body.Error)},bI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Mm({$metadata:K(f),...l});return L(w,f.body.Error)},dI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Cl({$metadata:K(f),...l});return L(w,f.body.Error)},xI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Rm({$metadata:K(f),...l});return L(w,f.body.Error)},iI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new xm({$metadata:K(f),...l});return L(w,f.body.Error)},sI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new fv({$metadata:K(f),...l});return L(w,f.body.Error)},cI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new af({$metadata:K(f),...l});return L(w,f.body.Error)},eI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Al({$metadata:K(f),...l});return L(w,f.body.Error)},nI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new jl({$metadata:K(f),...l});return L(w,f.body.Error)},pI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new gl({$metadata:K(f),...l});return L(w,f.body.Error)},oI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new yl({$metadata:K(f),...l});return L(w,f.body.Error)},uI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new rl({$metadata:K(f),...l});return L(w,f.body.Error)},tI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Ol({$metadata:K(f),...l});return L(w,f.body.Error)},f1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new al({$metadata:K(f),...l});return L(w,f.body.Error)},l1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new bl({$metadata:K(f),...l});return L(w,f.body.Error)},m1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new dl({$metadata:K(f),...l});return L(w,f.body.Error)},v1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new xl({$metadata:K(f),...l});return L(w,f.body.Error)},w1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Ym({$metadata:K(f),...l});return L(w,f.body.Error)},h1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Xm({$metadata:K(f),...l});return L(w,f.body.Error)},S1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Vm({$metadata:K(f),...l});return L(w,f.body.Error)},R1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new km({$metadata:K(f),...l});return L(w,f.body.Error)},I1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Pm({$metadata:K(f),...l});return L(w,f.body.Error)},L1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Jm({$metadata:K(f),...l});return L(w,f.body.Error)},K1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new il({$metadata:K(f),...l});return L(w,f.body.Error)},F1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Cm({$metadata:K(f),...l});return L(w,f.body.Error)},B1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Im({$metadata:K(f),...l});return L(w,f.body.Error)},W1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new sl({$metadata:K(f),...l});return L(w,f.body.Error)},M1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new im({$metadata:K(f),...l});return L(w,f.body.Error)},$1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Am({$metadata:K(f),...l});return L(w,f.body.Error)},U1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new gm({$metadata:K(f),...l});return L(w,f.body.Error)},z1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new cl({$metadata:K(f),...l});return L(w,f.body.Error)},G1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new el({$metadata:K(f),...l});return L(w,f.body.Error)},N1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new bm({$metadata:K(f),...l});return L(w,f.body.Error)},D1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new nl({$metadata:K(f),...l});return L(w,f.body.Error)},Z1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new pl({$metadata:K(f),...l});return L(w,f.body.Error)},E1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new sm({$metadata:K(f),...l});return L(w,f.body.Error)},Y1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new ol({$metadata:K(f),...l});return L(w,f.body.Error)},X1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new nm({$metadata:K(f),...l});return L(w,f.body.Error)},J1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new ym({$metadata:K(f),...l});return L(w,f.body.Error)},T1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new ul({$metadata:K(f),...l});return L(w,f.body.Error)},H1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new Lm({$metadata:K(f),...l});return L(w,f.body.Error)},Q1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new cm({$metadata:K(f),...l});return L(w,f.body.Error)},V1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new om({$metadata:K(f),...l});return L(w,f.body.Error)},k1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new lv({$metadata:K(f),...l});return L(w,f.body.Error)},P1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new mv({$metadata:K(f),...l});return L(w,f.body.Error)},_1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new wv({$metadata:K(f),...l});return L(w,f.body.Error)},q1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new hv({$metadata:K(f),...l});return L(w,f.body.Error)},C1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new tl({$metadata:K(f),...l});return L(w,f.body.Error)},A1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new fm({$metadata:K(f),...l});return L(w,f.body.Error)},j1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new lm({$metadata:K(f),...l});return L(w,f.body.Error)},g1=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[h]!=null)l[h]=S.expectString(v[h]);let w=new hm({$metadata:K(f),...l});return L(w,f.body.Error)};var y1=(f,m)=>{let l=new y(Qv);if(f[mf]!=null)l.c(O1(f[mf],m).n(mf));if(f[Mf]!=null)l.c(y.of(K0,f[Mf]).n(Mf));return l};var r1=(f,m)=>{return f.filter((l)=>l!=null).map((l)=>{return y.of(K0,l).n(fw)})},O1=(f,m)=>{let l=new y(mf);if(f[$f]!=null)l.c(y.of(s1,String(f[$f])).n($f));return l.lc(f,"Items","Items",()=>r1(f[Wf],m)),l};var a1=(f,m)=>{let l={};if(f[uv]!=null)l[uv]=S.expectString(f[uv]);if(f[tv]!=null)l[tv]=S.expectString(f[tv]);if(f[ov]!=null)l[ov]=S.expectNonNull(S.parseRfc3339DateTimeWithOffset(f[ov]));if(f[Qv]!=null)l[Qv]=b1(f[Qv],m);return l},b1=(f,m)=>{let l={};if(f[mf]!=null)l[mf]=x1(f[mf],m);if(f[Mf]!=null)l[Mf]=S.expectString(f[Mf]);return l};var d1=(f,m)=>{return(f||[]).filter((l)=>l!=null).map((l)=>{return S.expectString(l)})},x1=(f,m)=>{let l={};if(f[$f]!=null)l[$f]=S.strictParseInt32(f[$f]);if(f.Items==="")l[Wf]=[];else if(f[Wf]!=null&&f[Wf][fw]!=null)l[Wf]=d1(S0(f[Wf][fw]),m);return l};var K=(f)=>({httpStatusCode:f.statusCode,requestId:f.headers["x-amzn-requestid"]??f.headers["x-amzn-request-id"]??f.headers["x-amz-request-id"],extendedRequestId:f.headers["x-amz-id-2"],cfId:f.headers["x-amz-cf-id"]});var Mf="CallerReference";var ov="CreateTime";var Qv="InvalidationBatch";var uv="Id",Wf="Items";var i1="Location";var h="Message";var mf="Paths";var fw="Path";var $f="Quantity";var tv="Status";var s1="integer";var c1="location";var K0="string";var e1='<?xml version="1.0" encoding="UTF-8"?>';var W0=O(n1(),1);class lw extends B0.classBuilder().ep(aw).m(function(f,m,l,v){return[W0.getSerdePlugin(l,this.serialize,this.deserialize),F0(l,f.getEndpointParameterInstructions())]}).s("Cloudfront2020_05_31","CreateInvalidation",{}).n("CloudFrontClient","CreateInvalidationCommand").f(void 0,void 0).ser(I0).de(L0).build(){}import{intro as zf,italic as Xf,log as G,outro as z,prompts as Jf,runCommand as vf,underline as M0}from"@stacksjs/cli";import{addJumpBox as p1,deleteCdkRemnants as o1,deleteIamUsers as u1,deleteJumpBox as mw,deleteLogGroups as t1,deleteParameterStore as f2,deleteStacksBuckets as l2,deleteStacksFunctions as m2,deleteSubnets as v2,deleteVpcs as w2,getCloudFrontDistributionId as h2,getJumpBoxInstanceId as S2}from"@stacksjs/cloud";import{path as wf}from"@stacksjs/path";import{ExitCode as $}from"@stacksjs/types";import{loop as R2}from"@stacksjs/utils";function RF(f){let m={cloud:"Interact with the Stacks Cloud",ssh:"SSH into the Stacks Cloud",add:"Add a resource to the Stacks Cloud",remove:"Remove the Stacks Cloud. In case it fails, try again",optimizeCost:"Remove certain resources that may be re-applied at a later time",cleanUp:"Remove all resources that were retained during the cloud deletion",invalidateCache:"Invalidate the CloudFront cache",diff:"Show the diff of the current, undeployed cloud changes ",paths:"The paths to invalidate",project:"Target a specific project",verbose:"Enable verbose output"};f.command("cloud",m.cloud).option("--ssh",m.ssh,{default:!1}).option("--connect",m.ssh,{default:!1}).option("--invalidate-cache",m.invalidateCache,{default:!1}).option("--paths [paths]",m.paths).option("--diff",m.diff,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{G.debug("Running `buddy cloud` ...",l);let v=performance.now();if(l.ssh||l.connect){let w=await S2(),F=await vf(`aws ssm start-session --target ${w}`,{...l,cwd:wf.projectPath(),stdin:"pipe"});if(F.isErr())await z("While running the cloud command, there was an issue",{startTime:v,useSeconds:!0},F.error),M.exit($.FatalError);await z("Exited",{startTime:v,useSeconds:!0}),M.exit($.Success)}if(l.invalidateCache){let{confirm:w}=await Jf({name:"confirm",type:"confirm",message:"Would you like to invalidate the CDN (CloudFront) cache?"});if(!w)await z("Exited",{startTime:v,useSeconds:!0}),M.exit($.Success);G.info("Invalidating the CloudFront cache...");let F=new nv,W={DistributionId:await h2(),InvalidationBatch:{CallerReference:`${Date.now()}`,Paths:{Quantity:1,Items:["/*"]}}},Z=new lw(W);F.send(Z).then((D)=>console.log(D),(D)=>console.log(D,D.stack)),await z("Exited",{startTime:v,useSeconds:!0}),M.exit($.Success)}if(l.diff){let w=await vf("bunx --bun cdk diff",{cwd:wf.frameworkCloudPath(),stdin:"pipe"});if(w.isErr())await z("While running the cloud diff command, there was an issue",{startTime:v,useSeconds:!0},w.error),M.exit($.FatalError);await z("Showing diff of the current, undeployed cloud changes",{startTime:v,useSeconds:!0}),console.log(w.value),M.exit($.Success)}G.info("Not implemented yet. Read more about `buddy cloud` here: https://stacksjs.org/docs/cloud"),M.exit($.Success)}),f.command("cloud:add",m.add).option("--jump-box","Remove the jump-box",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{G.debug("Running `buddy cloud:add` ...",l);let v=await zf("buddy cloud:add");if(l.jumpBox){let{confirm:w}=await Jf({name:"confirm",type:"confirm",message:"Would you like to add a jump-box to your cloud?"});if(!w)await z("Exited",{startTime:v,useSeconds:!0}),M.exit($.Success);G.info("The jump-box is getting added to your cloud resources..."),G.info("This takes a few moments, please be patient."),await new Promise((B)=>setTimeout(B,2000));let F=await p1();if(F.isErr())await z("While running the cloud:add command, there was an issue",{startTime:v,useSeconds:!0},F.error),M.exit($.FatalError);G.info(Xf("View the jump-box in the AWS console:")),G.info(M0("https://us-east-1.console.aws.amazon.com/ec2/home?region=us-east-1#Instances:instanceState=running")),G.info(Xf("Once it finished initializing, you may SSH into it:")),G.info(M0("buddy cloud --ssh")),await z("Your jump-box was added.",{startTime:v,useSeconds:!0}),M.exit($.Success)}G.info("This functionality is not yet implemented."),M.exit($.Success)}),f.command("cloud:remove",m.remove).alias("cloud:destroy").alias("cloud:rm").alias("undeploy").option("--jump-box","Remove the jump-box",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{G.debug("Running `buddy cloud:remove` ...",l);let v=await zf("buddy cloud:remove");if(l.jumpBox){let{confirm:F}=await Jf({name:"confirm",type:"confirm",message:"Would you like to remove your jump-box for now?"});if(!F)await z("Exited",{startTime:v,useSeconds:!0}),M.exit($.Success);let B=await mw();if(B.isErr())await z("While removing your jump-box, there was an issue",{startTime:v,useSeconds:!0},B.error),M.exit($.FatalError);await z("Your jump-box was removed.",{startTime:v,useSeconds:!0}),M.exit($.Success)}console.log(`   ${Xf("\u2139\uFE0F   Removing your cloud resources takes a while to complete.")}`),console.log(`   ${Xf("Please note, your backups will not yet be deleted. Though,")}`),console.log(`   ${Xf("Backups are scheduled to delete themselves in 30 days.")}`),await new Promise((F)=>setTimeout(F,2000));let w=await vf("bunx --bun cdk destroy",{...l,cwd:wf.frameworkCloudPath(),stdin:"inherit"});if(w.isErr())await z('While running the cloud:remove ("undeploy") command, there was an issue',{startTime:v,useSeconds:!0},w.error),M.exit($.FatalError);await vf("buddy cloud:cleanup",{...l,cwd:wf.projectPath(),stdin:"inherit"});try{G.info("Finalizing the removal of your cloud resources."),G.info("This will take a few moments..."),await R2(7,async()=>{await vf("buddy cloud:cleanup",{...l,cwd:wf.projectPath(),stdout:"ignore"})}),await z("Your cloud has been removed",{startTime:v,useSeconds:!0}),M.exit($.Success)}catch(F){await z("While cleaning up the cloud, there was an issue",{startTime:v,useSeconds:!0},F),M.exit($.FatalError)}}),f.command("cloud:optimize-cost",m.optimizeCost).option("--jump-box","Remove the jump-box",{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{G.debug("Running `buddy cloud:optimize-cost` ...",l);let v=await zf("buddy cloud:optimize-cost");if(l.jumpBox){let{confirm:w}=await Jf({name:"confirm",type:"confirm",message:"Would you like to remove your jump-box to optimize your costs?"});if(!w)await z("Exited",{startTime:v,useSeconds:!0}),M.exit($.Success);await mw(),await z("Your jump-box was removed & cost optimizations are applied.",{startTime:v,useSeconds:!0}),M.exit($.Success)}await z("No cost optimization was applied",{startTime:v,useSeconds:!0}),M.exit($.Success)}),f.command("cloud:cleanup",m.cleanUp).alias("cloud:clean-up").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{G.debug("Running `buddy cloud:cleanup` ...",l);let v=await zf("buddy cloud:cleanup");G.info("Cleaning up your cloud resources will take a while to complete. Please be patient."),await new Promise((JS)=>setTimeout(JS,2000)),G.info("Removing any jump-boxes...");let w=await mw();if(w.isErr()){if(w.error!=="Jump-box not found")await z("While removing your jump-box, there was an issue",{startTime:v,useSeconds:!0},w.error),M.exit($.FatalError)}G.info("Removing any retained S3 buckets...");let F=await l2();if(F.isErr())await z("While deleting the retained S3 buckets, there was an issue",{startTime:v,useSeconds:!0},F.error),M.exit($.FatalError);G.info("Removing any retained Lambda functions...");let B=await m2();if(B.isErr()){if(B.error!=="No stacks functions found")await z("While deleting the Origin Request Lambda function, there was an issue",{startTime:v,useSeconds:!0},B.error);M.exit($.FatalError)}G.info(B.value),G.info("Removing any remaining Stacks logs...");let W=await t1();if(W.isErr())await z("While deleting the Stacks log groups, there was an issue",{startTime:v,useSeconds:!0},W.error),M.exit($.FatalError);G.info("Removing any stored parameters...");let Z=await f2();if(Z.isErr())await z("While deleting the Stacks log groups, there was an issue",{startTime:v,useSeconds:!0},Z.error),M.exit($.FatalError);let D=await w2();if(D.isErr())await z("While deleting the VPCs, there was an issue",{startTime:v,useSeconds:!0},D.error),M.exit($.FatalError);let E=await v2();if(E.isErr())await z("While deleting the Subnets, there was an issue",{startTime:v,useSeconds:!0},E.error),M.exit($.FatalError);G.info("Removing any CDK remnants...");let j=await o1();if(j.isErr())await z("While deleting the Stacks log groups, there was an issue",{startTime:v,useSeconds:!0},j.error),M.exit($.FatalError);G.info("Removing any IAM users...");let Ff=await u1();if(Ff.isErr())await z("While deleting the Stacks log groups, there was an issue",{startTime:v,useSeconds:!0},Ff.error),M.exit($.FatalError);await z("AWS resources have been removed",{startTime:v,useSeconds:!0}),M.exit($.Success)}),f.command("cloud:invalidate-cache",m.invalidateCache).option("--paths [paths]",m.paths,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{G.debug("Running `buddy cloud:invalidate-cache` ...",l);let v=await zf("buddy cloud:invalidate-cache"),{confirm:w}=await Jf({name:"confirm",type:"confirm",message:"Would you like to invalidate the CloudFront cache?"});if(!w)await z("Exited",{startTime:v,useSeconds:!0}),M.exit($.Success);if(G.info("Invalidating the CloudFront cache..."),l.paths){let F=await vf(`aws cloudfront create-invalidation --distribution-id E1U4Z2E9NJW9J --paths ${l.paths}`,{...l,cwd:wf.projectPath(),stdin:"pipe"});if(F.isErr())await z("While running the cloud command, there was an issue",{startTime:v,useSeconds:!0},F.error),M.exit($.FatalError);await z("Exited",{startTime:v,useSeconds:!0}),M.exit($.Success)}G.info("Not implemented yet. Read more about `buddy cloud` here: https://stacksjs.org/docs/cloud"),M.exit($.Success)}),f.command("cloud:diff",m.diff).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{G.debug("Running `buddy cloud:diff` ...",l);let v=await zf("buddy cloud:diff"),w=await vf("bunx --bun cdk diff",{cwd:wf.frameworkCloudPath(),stdin:"pipe"});if(w.isErr())await z("While running the cloud diff command, there was an issue",{startTime:v,useSeconds:!0},w.error),M.exit($.FatalError);await z("Showing diff of the current, undeployed cloud changes",{startTime:v,useSeconds:!0}),console.log(w.value),M.exit($.Success)}),f.on("cloud:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),M.exit(1)})}import I2 from"process";import{runCommit as L2}from"@stacksjs/actions";import{log as K2}from"@stacksjs/logging";function BF(f){let m={commit:"Commit your stashed changes",project:"Target a specific project",verbose:"Enable verbose output"};f.command("commit",m.commit).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{K2.debug("Running `buddy commit` ...",l),await L2(l)}),f.on("commit:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),I2.exit(1)})}import a from"process";import{log as vw,outro as $0,runCommand as F2}from"@stacksjs/cli";import{path as B2}from"@stacksjs/path";import{ExitCode as Tf}from"@stacksjs/types";function GF(f){let m={configure:"Configure options",aws:"Configure the AWS connection",project:"Target a specific project",profile:"The AWS profile to use",verbose:"Enable verbose output"};f.command("configure",m.configure).option("--aws",m.aws,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(vw.debug("Running `buddy configure` ...",l),l?.aws)await U0(l),a.exit(Tf.Success);vw.info("Not implemented yet. Please use the --aws flag to configure AWS."),a.exit(Tf.Success)}),f.command("configure:aws",m.aws).option("-p, --project [project]",m.project,{default:!1}).option("--profile",m.profile,{default:a.env.AWS_PROFILE}).option("--verbose",m.verbose,{default:!1}).option("--access-key-id","The AWS access key").option("--secret-access-key","The AWS secret access key").option("--region","The AWS region").option("--output","The AWS output format").option("--quiet","Suppress output").action(async(l)=>{vw.debug("Running `buddy configure:aws` ...",l),await U0(l),a.exit(Tf.Success)}),f.on("configure:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),a.exit(Tf.FatalError)})}async function U0(f){let m=performance.now(),l=f?.accessKeyId??a.env.AWS_ACCESS_KEY_ID,v=f?.secretAccessKey??a.env.AWS_SECRET_ACCESS_KEY,w="us-east-1",F=f?.output??"json",B=a.env.AWS_PROFILE??f?.profile,W=B?`aws configure --profile ${B}`:"aws configure",Z=`${l}
${v}
us-east-1
${F}
`,D=await F2(W,{cwd:B2.projectPath(),stdin:"pipe",input:Z});if(D.isErr())await $0("While running the cloud command, there was an issue",{startTime:m,useSeconds:!0},D.error),a.exit(Tf.FatalError);if(f?.quiet)return;await $0("Exited",{startTime:m,useSeconds:!0})}import b from"process";import{runAction as W2}from"@stacksjs/actions";import{bold as M2,cyan as $2,dim as U2,intro as z2,log as J,runCommand as Hf}from"@stacksjs/cli";import{Action as G2}from"@stacksjs/enums";import{resolve as N2}from"@stacksjs/path";import{isFolder as D2}from"@stacksjs/storage";import{ExitCode as Gf}from"@stacksjs/types";import{useOnline as Z2}from"@stacksjs/utils";function QF(f){let m={name:"The name of the project",command:"Create a new Stacks project",ui:"Are you building a UI?",components:"Are you building UI components?",webComponents:"Automagically built optimized custom elements/web components?",vue:"Automagically built a Vue component library?",views:"How about views?",functions:"Are you developing functions/composables?",api:"Are you building an API?",database:"Do you need a database?",notifications:"Do you need notifications? e.g. email, SMS, push or chat notifications",cache:"Do you need caching?",email:"Do you need email?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("new [name]",m.command).alias("create [name]").option("-n, --name [name]",m.name,{default:!1}).option("-u, --ui",m.ui,{default:!0}).option("-c, --components",m.components,{default:!0}).option("-w, --web-components",m.webComponents,{default:!0}).option("-v, --vue",m.vue,{default:!0}).option("-p, --views",m.views,{default:!0}).option("-f, --functions",m.functions,{default:!0}).option("-a, --api",m.api,{default:!0}).option("-d, --database",m.database,{default:!0}).option("-ca, --cache",m.cache,{default:!1}).option("-e, --email",m.email,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{J.debug("Running `buddy new <name>` ...",v);let w=await z2("buddy new");l=l??v.name;let F=N2(b.cwd(),l);E2(F),Y2();let B=await X2(l,F,v);if(B.isErr())J.error(B.error),b.exit(Gf.FatalError);if(await J2(F,v),await T2(F,v),w){let W=performance.now()-w;J.success(U2(`[${W.toFixed(2)}ms] Completed`))}J.info(M2("Welcome to the Stacks Framework! \u269B\uFE0F")),J.info("To learn more, visit https://stacksjs.org"),b.exit(Gf.Success)}),f.on("new:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),b.exit(1)})}function E2(f){if(D2(f))J.error(`Path ${f} already exists`),b.exit(Gf.FatalError)}function Y2(){if(!Z2())J.info("It appears you are disconnected from the internet."),J.info("The Stacks setup requires a brief internet connection for setup."),J.info("For instance, it installs your dependencies from."),b.exit(Gf.FatalError)}async function X2(f,m,l){J.info("Setting up your stack.");let v=await Hf(`bunx --bun giget stacks ${f}`,l);return J.success(`Successfully scaffolded your project at ${$2(m)}`),v}async function J2(f,m){J.info("Ensuring your environment is ready..."),await Hf("pkgx --update ",{...m,cwd:f}),J.success("Environment is ready")}async function T2(f,m){J.info("Installing & setting up Stacks");let l=await Hf("bun install",{...m,cwd:f});if(l?.isErr())J.error(l.error),b.exit();if(l=await Hf("cp .env.example .env",{...m,cwd:f}),l?.isErr())J.error(l.error),b.exit(Gf.FatalError);if(await W2(G2.KeyGenerate,{...m,cwd:f}),l=await Hf("git init",{...m,cwd:f}),l.isErr())J.error(l.error),b.exit(Gf.FatalError);J.success("Installed & set-up \uD83D\uDE80")}var{$:z0}=globalThis.Bun;import d from"process";import{runAction as H2}from"@stacksjs/actions";import{intro as Q2,italic as Qf,log as U,outro as Vv,prompts as V2,runCommand as G0}from"@stacksjs/cli";import{app as k2}from"@stacksjs/config";import{addDomain as P2,hasUserDomainBeenAddedToCloud as _2}from"@stacksjs/dns";import{Action as q2}from"@stacksjs/enums";import{path as C2}from"@stacksjs/path";import{ExitCode as e}from"@stacksjs/types";function rF(f){let m={deploy:"Deploy your project",project:"Target a specific project",production:"Deploy to production",development:"Deploy to development",staging:"Deploy to staging",yes:"Confirm all prompts by default",domain:"Specify a domain to deploy to",verbose:"Enable verbose output"};f.command("deploy [env]",m.deploy).option("--domain",m.domain,{default:void 0}).option("-p, --project [project]",m.project,{default:!1}).option("--prod",m.production,{default:!0}).option("--dev",m.development,{default:!1}).option("--yes",m.yes,{default:!1}).option("--staging",m.staging,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{U.debug("Running `buddy deploy` ...",v);let w=await Q2("buddy deploy"),F=v.domain||k2.url;if((v.prod||l==="production"||l==="prod")&&!v.yes)await A2();if(!F)U.info("No domain found in your .env or ./config/app.ts"),U.info("Please ensure your domain is properly configured."),U.info("For more info, check out the docs or join our Discord."),d.exit(e.FatalError);U.info(`Deploying to ${Qf(F)}`),await g2(),await y2(),v.domain=await j2(F,v,w);let B=await H2(q2.Deploy,v);if(B.isErr())await Vv("While running the `buddy deploy`, there was an issue",{startTime:w,useSeconds:!0},B.error),d.exit(e.FatalError);await Vv("Project deployed.",{startTime:w,useSeconds:!0})}),f.on("deploy:*",()=>{U.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),d.exit(1)})}async function A2(){let{confirmed:f}=await V2({type:"confirm",name:"confirmed",message:"Are you sure you want to deploy to production?"});if(!f)U.info("Aborting deployment..."),d.exit(e.InvalidArgument)}async function j2(f,m,l){if(U.debug("Configuring domain...",f),!f)U.info("We could not identify a domain to deploy to."),U.warn("Please set your .env or ./config/app.ts properly."),U.info("Alternatively, specify a domain to deploy via the `--domain` flag."),console.log(""),U.info("   \u27A1\uFE0F  Example: `buddy deploy --domain example.com`"),console.log(""),d.exit(e.FatalError);if(f.includes("localhost"))U.info("You are deploying to a local environment."),U.warn("Please set your .env or ./config/app.ts properly. The domain we are deploying cannot be a `localhost` domain."),U.info("Alternatively, specify a domain to deploy via the `--domain` flag."),console.log(""),U.info("   \u27A1\uFE0F  Example: `buddy deploy --domain example.com`"),console.log(""),d.exit(e.FatalError);if(await _2(f))return U.info("Domain is properly configured"),U.info("Your cloud is deploying..."),U.info(`${Qf("This may take a while...")}`),f;console.log(""),U.info(`  \uD83D\uDC4B  It appears to be your first ${Qf(f)} deployment.`),console.log(""),U.info(Qf("Let\u2019s ensure it is all connected properly.")),U.info(Qf("One moment...")),console.log("");let v=await P2({...m,deploy:!0,startTime:l});if(v.isErr())await Vv("While running the `buddy deploy`, there was an issue",{startTime:l,useSeconds:!0},v.error),d.exit(e.FatalError);await Vv("Added your domain.",{startTime:l,useSeconds:!0}),d.exit(e.Success)}async function g2(){if(U.info("Ensuring AWS is configured..."),(await G0("buddy configure:aws",{silent:!0})).isErr())U.error("AWS is not configured properly.",{shouldExit:!1}),U.error("Please run `buddy configure:aws` to set up your AWS credentials.");U.success("AWS is configured")}async function y2(){try{return U.info("Ensuring AWS is bootstrapped..."),await G0("aws cloudformation describe-stacks --stack-name stacks-toolkit",{silent:!0}),U.success("AWS is bootstrapped"),!0}catch(f){U.debug(`Not yet bootstrapped. Failed with code ${f.exitCode}`),U.debug(f.stdout.toString()),U.debug(f.stderr.toString()),U.info("AWS is not bootstrapped yet"),U.info("Bootstrapping. This may take a few moments...");try{z0.cwd(C2.frameworkCloudPath());let m=await z0`bun run bootstrap`;return console.log(m),!0}catch(m){U.error("Failed to bootstrap AWS"),console.error(m),d.exit(e.FatalError)}}}import r from"process";import{runAction as Rw,runApiDevServer as kv,runComponentsDevServer as ww,runDashboardDevServer as hw,runDesktopDevServer as r2,runDocsDevServer as Sw,runFrontendDevServer as N0,runSystemTrayDevServer as D0}from"@stacksjs/actions";import{intro as Pv,log as g,outro as hf,prompts as O2,runCommand as a2}from"@stacksjs/cli";import{Action as Iw}from"@stacksjs/enums";import{libsPath as b2}from"@stacksjs/path";import{ExitCode as Nf}from"@stacksjs/types";function cF(f){let m={dev:"Start development server",frontend:"Start the frontend development server",components:"Start the Components development server",desktop:"Start the Desktop App development server",dashboard:"Start the Dashboard development server",api:"Start the local API development server",email:"Start the Email development server",docs:"Start the Documentation development server",systemTray:"Start the System Tray development server",interactive:"Get asked which development server to start",select:"Which development server are you trying to start?",withLocalhost:"Include the localhost URL in the output",project:"Target a specific project",verbose:"Enable verbose output"};f.command("dev [server]",m.dev).option("-f, --frontend",m.frontend).option("-a, --api",m.api).option("-e, --email",m.email).option("-c, --components",m.components).option("-d, --dashboard",m.dashboard).option("-t, --desktop",m.desktop).option("-d, --docs",m.docs).option("-t, --system-tray",m.systemTray).option("-i, --interactive",m.interactive,{default:!1}).option("-l, --with-localhost",m.withLocalhost,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{g.debug("Running `buddy dev [server]` ...",v);let w=await Pv("buddy dev");switch(l){case"frontend":await N0(v);break;case"api":await kv(v);break;case"components":await ww(v);break;case"dashboard":await hw(v);break;case"desktop":await r2(v);break;case"system-tray":await D0(v);break;case"docs":await Sw(v);break;default:}if(x2(v)){let B=(await O2({type:"select",name:"value",message:m.select,choices:[{value:"all",title:"All"},{value:"frontend",title:"Frontend"},{value:"api",title:"Backend"},{value:"dashboard",title:"Dashboard"},{value:"desktop",title:"Desktop"},{value:"email",title:"Email"},{value:"components",title:"Components"},{value:"docs",title:"Documentation"}]})).value;if(B==="components")await ww(v);else if(B==="api")await kv(v);else if(B==="dashboard")await hw(v);else if(B==="docs")await Sw(v);else g.error("Invalid option during interactive mode"),r.exit(Nf.InvalidArgument)}else{if(v.components)await ww(v);if(v.docs)await Sw(v);else if(v.api)await kv(v)}await d2(v),hf("Exited",{startTime:w,useSeconds:!0}),r.exit(Nf.Success)}),f.command("dev:components",m.components).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g.debug("Running `buddy dev:components` ...",l);let v=await Pv("buddy dev:components"),w=await a2("bun run dev",{cwd:b2("components/vue")});if(l.verbose)g.info("buddy dev:components result",w);if(w.isErr())await hf("While running the dev:components command, there was an issue",{startTime:v,useSeconds:!0},w.error),r.exit();console.log(""),await hf("Exited",{startTime:v,useSeconds:!0}),r.exit(Nf.Success)}),f.command("dev:docs",m.docs).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g.debug("Running `buddy dev:docs` ...",l);let v=await Pv("buddy dev:docs"),w=await Rw(Iw.DevDocs,l);if(w.isErr())await hf("While running the dev:docs command, there was an issue",{startTime:v,useSeconds:!0},w.error),r.exit();console.log(""),await hf("Exited",{startTime:v,useSeconds:!0}),r.exit(Nf.Success)}),f.command("dev:desktop",m.desktop).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g.debug("Running `buddy dev:desktop` ...",l);let v=await Pv("buddy dev:desktop"),w=await Rw(Iw.DevDesktop,l);if(w.isErr())await hf("While running the dev:desktop command, there was an issue",{startTime:v,useSeconds:!0},w.error),r.exit();console.log(""),await hf("Exited",{startTime:v,useSeconds:!0}),r.exit(Nf.Success)}),f.command("dev:api",m.api).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g.debug("Running `buddy dev:api` ...",l),await kv(l)}),f.command("dev:frontend",m.frontend).alias("dev:pages").alias("dev:views").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g.debug("Running `buddy dev:frontend` ...",l),await N0(l)}),f.command("dev:dashboard",m.dashboard).alias("dev:admin").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g.debug("Running `buddy dev:dashboard` ...",l),await hw(l)}),f.command("dev:system-tray",m.systemTray).alias("dev:tray").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g.debug("Running `buddy dev:system-tray` ...",l),await D0(l)}),f.on("dev:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),r.exit(1)})}async function d2(f){let m=await Rw(Iw.Dev,f);if(m.isErr())g.error("While running the dev command, there was an issue",m.error),r.exit(Nf.InvalidArgument)}function x2(f){return f.interactive}import Z0 from"process";import{log as i2,runCommand as s2}from"@stacksjs/cli";import{config as c2}from"@stacksjs/config";import{ExitCode as e2}from"@stacksjs/types";function tF(f){let m={dns:"Lists the DNS records for a domain",query:"Host name or IP address to query",type:"Type of the DNS record being queried (A, MX, NS\u2026)",nameserver:"Address of the nameserver to send packets to",class:"Network class of the DNS record being queried (IN, CH, HS)",udp:"Use the DNS protocol over UDP",tcp:"Use the DNS protocol over TCP",tls:"Use the DNS-over-TLS protocol",https:"Use the DNS-over-HTTPS protocol",short:"Short mode: display nothing but the first result",json:"Display the output as JSON",pretty:"Display the output as JSON in a pretty format",project:"Target a specific project",verbose:"Enable verbose output"};f.command("dns [domain]",m.dns).option("-q, --query <query>",m.query).option("-t, --type <type>",m.type,{default:"ANY"}).option("-n, --nameserver <nameserver>",m.nameserver).option("--class <class>",m.nameserver).option("-U, --udp",m.udp).option("-T, --tcp",m.tcp).option("-S, --tls",m.tls).option("-H, --https",m.https).option("-1, --short",m.short,{default:!1}).option("-J, --json",m.json,{default:!1}).option("-p, --pretty",m.pretty,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{i2.debug("Running `buddy dns [domain]` ...",v),v.pretty=void 0,v.p=void 0;let w=Object.entries(v).filter(([F,B])=>F!=="--"&&F.length>1&&B!==!1).map(([F,B])=>`--${F} ${B}`).join(" ");await s2(`dog ${l||c2.app.url} ${w}`),Z0.exit(e2.Success)}),f.on("dns:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Z0.exit(1)})}import x from"process";import{runAction as E0}from"@stacksjs/actions";import{bgCyan as n2,bold as p2,intro as Lw,italic as Sf,log as _v,outro as n,prompts as Y0}from"@stacksjs/cli";import{config as X0}from"@stacksjs/config";import{addDomain as o2}from"@stacksjs/dns";import{Action as J0}from"@stacksjs/enums";import{ExitCode as p}from"@stacksjs/types";function IB(f){let m={purchase:"Purchase a domain",add:"Add a domain to your cloud",remove:"Remove a domain from your cloud",skip:"Skip the confirmation prompt",project:"Target a specific project",verbose:"Enable verbose output"},l=X0.dns.contactInfo;f.command("domains:purchase <domain>",m.purchase).option("--years <years>","Number of years to purchase the domain for",{default:1}).option("--privacy","Enable privacy protection",{default:!0}).option("--auto-renew","Enable auto-renew",{default:!0}).option("--first-name <firstName>","Registrant first name",{default:l?.firstName}).option("--last-name <lastName>","Registrant last name",{default:l?.lastName}).option("--organization <organization>","Registrant organization name",{default:l?.organizationName}).option("--address-line1 <address>","Registrant address line 1",{default:l?.addressLine1}).option("--address-line2 <address>","Registrant address line 2",{default:l?.addressLine2}).option("--city <city>","Registrant city",{default:l?.city}).option("--state <state>","Registrant state",{default:l?.state}).option("--country <country>","Registrant country code",{default:l?.countryCode}).option("--zip <zip>","Registrant zip",{default:l?.zip}).option("--phone <phone>","Registrant phone",{default:l?.phoneNumber}).option("--email <email>","Registrant email",{default:l?.email}).option("--admin-first-name <firstName>","Admin first name",{default:l?.admin?.firstName||l?.firstName}).option("--admin-last-name <lastName>","Admin last name",{default:l?.admin?.lastName||l?.lastName}).option("--admin-organization <organization>","Admin organization",{default:l?.admin?.organizationName||l?.organizationName}).option("--admin-address-line1 <address>","Admin address line 1",{default:l?.admin?.addressLine1||l?.addressLine1}).option("--admin-address-line2 <address>","Admin address line 2",{default:l?.admin?.addressLine2||l?.addressLine2}).option("--admin-city <city>","Admin city",{default:l?.admin?.city||l?.city}).option("--admin-state <state>","Admin state",{default:l?.admin?.state||l?.state}).option("--admin-country <country>","Admin country code",{default:l?.admin?.countryCode||l?.countryCode}).option("--admin-zip <zip>","Admin zip",{default:l?.admin?.zip||l?.zip}).option("--admin-phone <phone>","Admin phone number",{default:l?.admin?.phoneNumber||l?.phoneNumber}).option("--admin-email <email>","Admin email",{default:l?.admin?.email||l?.email}).option("--tech-first-name <firstName>","Tech first name",{default:l?.tech?.firstName||l?.firstName}).option("--tech-last-name <lastName>","Tech last name",{default:l?.tech?.lastName||l?.lastName}).option("--tech-organization <organization>","Tech organization name",{default:l?.tech?.organizationName||l?.organizationName}).option("--tech-address-line1 <address>","Tech address line 1",{default:l?.tech?.addressLine1||l?.addressLine1}).option("--tech-address-line2 <address>","Tech address line 2",{default:l?.tech?.addressLine2||l?.addressLine2}).option("--tech-city <city>","Tech city",{default:l?.tech?.city||l?.city}).option("--tech-state <state>","Tech state",{default:l?.tech?.state||l?.state}).option("--tech-country <country>","Tech country",{default:l?.tech?.countryCode||l?.countryCode}).option("--tech-zip <zip>","Tech zip",{default:l?.tech?.zip||l?.zip}).option("--tech-phone <phone>","Tech phone",{default:l?.tech?.phoneNumber||l?.phoneNumber}).option("--tech-email <email>","Tech email",{default:l?.tech?.email||l?.email}).option("--privacy-admin","Enable privacy protection for admin",{default:l?.privacyAdmin||l?.privacy||!0}).option("--privacy-tech","Enable privacy protection for tech",{default:l?.privacyTech||l?.privacy||!0}).option("--privacy-registrant","Enable privacy protection for registrant",{default:l?.privacyRegistrant||l?.privacy||!0}).option("--contact-type <type>","Contact type",{default:"person"}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(v,w)=>{_v.debug("Running `buddy domains:purchase <domain>` ...",w),w.domain=v;let F=await Lw("buddy domains:purchase"),B=await E0(J0.DomainsPurchase,w);if(B.isErr())await n("While running the domains:purchase command, there was an issue",{startTime:F,useSeconds:!0},B.error),x.exit(p.FatalError);let{confirm:W}=await Y0({name:"confirm",type:"confirm",message:`Would you like to set ${v} as your APP_URL?`});if(!W)await n(`Alrighty! ${Sf(v)} was added to your account.`,{startTime:F,useSeconds:!0,type:"success"}),_v.info(`Please note, you may need to validate your email address. Check your ${Sf(w.registrantEmail)} inbox.`),x.exit(p.Success);let{writeEnv:Z}=await import("./chunk-gfzzm5en.js");Z("APP_URL",v);let D=`Great! ${Sf(v)} was added to your account.`;D+=`

And your APP_URL has been set to ${Sf(v)}.
      
Please note, this change has not been deployed yet.
      
The next time you run ${n2(Sf(p2(" buddy deploy ")))}, your app will deploy to ${Sf(v)}.
      
${Sf("You may need to deploy 2-3 times for the changes to take effect. Issue tracked here: https://github.com/stacksjs/stacks/issues/685")}`,await n(D,{startTime:F,useSeconds:!0,type:"info"}),x.exit(p.Success)}),f.command("domains:add <domain>",m.add).option("--verbose",m.verbose,{default:!1}).action(async(v)=>{_v.debug("Running `buddy domains:add <domain>` ...",v);let w=await Lw("buddy domains:add"),F=await o2({...v,startTime:w});if(F.isErr())await n("While running the `buddy deploy`, there was an issue",{startTime:w,useSeconds:!0},F.error),x.exit(p.FatalError);await n("Added your domain.",{startTime:w,useSeconds:!0}),x.exit(p.Success)}),f.command("domains:remove <domain>",m.remove).option("--yes",m.skip,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(v)=>{_v.debug("Running `buddy domains:remove <domain>` ...",v);let w=v.domain||X0.app.url,F={...v,domain:w},B=await Lw("buddy domains:remove");if(!F.yes){let{confirm:Z}=await Y0({name:"confirm",type:"confirm",message:`Are you sure you want to remove ${w}?`});if(!Z)await n("Cancelled the domains:remove command",{startTime:B,useSeconds:!0,type:"info"}),x.exit(p.Success)}let W=await E0(J0.DomainsRemove,F);if(W.isErr())await n("While running the domains:remove command, there was an issue",{startTime:B,useSeconds:!0},W.error),x.exit(p.FatalError);await n("Removed your domain DNS records.",{startTime:B,useSeconds:!0}),x.exit(p.Success)}),f.on("domains:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),x.exit(1)})}import k from"process";import{log as Df}from"@stacksjs/cli";import{ExitCode as q}from"@stacksjs/types";function WB(f){let m={env:"Interact with your environment variables",get:"Get an environment variable",set:"Set an environment variable",encrypt:"Encrypt a value",decrypt:"Decrypt a value",pretty:"Pretty print the result",stdout:"Output the result to stdout",keypair:"Generate a keypair",fileKeys:"The path to the file containing the keys",excludeKey:"The key to exclude from encryption",rotate:"Rotate a keypair",format:"The format to output the result (json, shell, eval)",all:"Get all environment variables",file:"The environment file to use",project:"Target a specific project",verbose:"Enable verbose output"};f.command("env:get [key]",m.get).option("-f, --file [file]",m.file,{default:""}).option("--format [format]",m.format,{default:"json"}).option("-a, --all",m.all,{default:!1}).option("-p, --pretty",m.pretty,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).example("buddy env:get SECRET").example("buddy env:get SECRET --file .env.production").example("buddy env:get --all --pretty").example("buddy env:get --format shell").example("buddy env:get --format eval").example("buddy env:get --format json").action(async(l,v)=>{Df.debug("Running `buddy env:get` ...",v);let w=["get"];if(l)w.push(l);if(v.all)w.push("--all");if(v.pretty)w.push("--pretty-print");if(v.file)w.push("--file",v.file);if(v.format)w.push("--format",v.format);let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),k.exit(q.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),k.exit(q.FatalError)}}),f.command("env:set [key] [value]",m.set).option("-f, --file [file]",m.file,{default:""}).option("--format [format]",m.format,{default:"json"}).option("-a, --all",m.all,{default:!1}).option("-p, --pretty",m.pretty,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).example("buddy env:set SECRET=value").example("buddy env:set SECRET value").example("buddy env:set SECRET value --file .env.production").example("buddy env:set --format shell").action(async(l,v,w)=>{Df.debug("Running `buddy env:set` ...",w);let F=["set"];if(l){if(F.push(l),v)F.push(v)}if(w.file)F.push("--file",w.file);if(w.format)F.push("--format",w.format);if(w.pretty)F.push("--pretty-print");let B=Bun.spawnSync(["dotenvx",...F],{stdout:"pipe",stderr:"pipe"});if(B.exitCode===0){let W=new TextDecoder().decode(B.stdout);console.log(W),k.exit(q.Success)}else{let W=new TextDecoder().decode(B.stderr);console.error(W),k.exit(q.FatalError)}}),f.command("env:encrypt [key]",m.encrypt).option("-f, --file [file]",m.file,{default:""}).option("-fk, --file-keys [fileKeys]",m.fileKeys,{default:""}).option("-k, --keypair [keypair]",m.keypair,{default:""}).option("-o, --stdout",m.stdout,{default:!1}).option("-ek, --exclude-key [excludeKey]",m.excludeKey,{default:""}).action(async(l,v)=>{Df.debug("Running `buddy env:encrypt` ...",v);let w=["encrypt"];if(l)w.push(l);if(v.file)w.push("--file",v.file);if(v.fileKeys)w.push("--file-keys",v.fileKeys);if(v.keypair)w.push("--keypair",v.keypair);if(v.stdout)w.push("--stdout");if(v.excludeKey)w.push("--exclude-key",v.excludeKey);let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),k.exit(q.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),k.exit(q.FatalError)}}),f.command("env:decrypt [key]",m.decrypt).option("-f, --file [file]",m.file,{default:""}).option("-fk, --file-keys [fileKeys]",m.fileKeys,{default:""}).option("-k, --keypair [keypair]",m.keypair,{default:""}).option("-o, --stdout",m.stdout,{default:!1}).action(async(l,v)=>{Df.debug("Running `buddy env:decrypt` ...",v);let w=["decrypt"];if(l)w.push(l);if(v.file)w.push("--file",v.file);if(v.fileKeys)w.push("--file-keys",v.fileKeys);if(v.keypair)w.push("--keypair",v.keypair);if(v.stdout)w.push("--stdout");let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),k.exit(q.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),k.exit(q.FatalError)}}),f.command("env:keypair [key]",m.keypair).option("-f, --file [file]",m.file,{default:""}).option("-fk, --file-keys [fileKeys]",m.fileKeys,{default:""}).option("-o, --stdout",m.stdout,{default:!1}).action(async(l,v)=>{Df.debug("Running `buddy env:keypair` ...",v);let w=["keypair"];if(l)w.push(l);if(v.file)w.push("--file",v.file);if(v.fileKeys)w.push("--file-keys",v.fileKeys);if(v.stdout)w.push("--stdout");let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),k.exit(q.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),k.exit(q.FatalError)}}),f.command("env:rotate [key]",m.rotate).option("-f, --file [file]",m.file,{default:""}).option("-fk, --file-keys [fileKeys]",m.fileKeys,{default:""}).option("-k, --keypair [keypair]",m.keypair,{default:""}).option("-o, --stdout",m.stdout,{default:!1}).action(async(l,v)=>{Df.debug("Running `buddy env:rotate` ...",v);let w=["rotate"];if(l)w.push(l);if(v.file)w.push("--file",v.file);if(v.fileKeys)w.push("--file-keys",v.fileKeys);if(v.keypair)w.push("--keypair",v.keypair);if(v.stdout)w.push("--stdout");let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),k.exit(q.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),k.exit(q.FatalError)}}),f.on("env:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),k.exit(1)})}import Kw from"process";import{runAction as u2}from"@stacksjs/actions";import{intro as t2,log as fL,outro as H0}from"@stacksjs/cli";import{Action as lL}from"@stacksjs/enums";import{ExitCode as Q0}from"@stacksjs/types";function DB(f){let m={fresh:"Re-installs your npm dependencies",project:"Target a specific project",verbose:"Enable verbose output"};f.command("fresh",m.fresh).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{fL.debug("Running `buddy fresh` ...",l);let v=await t2("buddy fresh"),w=await u2(lL.Fresh,{...l,stdout:"inherit"});if(w.isErr())await H0("While running `buddy fresh`, there was an issue",{startTime:v,useSeconds:!0},w.error),Kw.exit(Q0.FatalError);await H0("Freshly reinstalled your dependencies",{startTime:v,useSeconds:!0}),Kw.exit(Q0.Success)}),f.on("fresh:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Kw.exit(1)})}import Bw from"process";import{generateComponentMeta as IL,generateCoreSymlink as LL,generateIdeHelpers as KL,generateLibEntries as FL,generateOpenApiSpec as BL,generatePkgxConfig as WL,generateTypes as ML,generateVsCodeCustomData as $L,generateWebTypes as UL,invoke as zL}from"@stacksjs/actions";import{intro as P0,log as C,outro as _0}from"@stacksjs/cli";import{ports as YB}from"@stacksjs/config";import{log as HB}from"@stacksjs/logging";var{plugin:RL}=globalThis.Bun;import{path as qv}from"@stacksjs/path";import Fw from"path";function mL(f,m={}){let{globalsPropValue:l=!0}=m,v={},w=f.match(/declare\s+global\s*\{([^}]*)\}/);if(!w||!w[1])return JSON.stringify({globals:{}},null,2);let F=w[1],B=F.match(/const\s+(\w+):/g);if(B)B.forEach((D)=>{let E=D.replace(/const\s+|:/g,"").trim();v[E]=l});let W=F.match(/type\s+(\w+)\s*=/g);if(W)W.forEach((D)=>{let E=D.replace(/type\s+|=/g,"").trim();v[E]=l});let Z={globals:v};return JSON.stringify(Z,null,2)}var{Glob:vL}=globalThis.Bun;function wL(f){return f.endsWith("ts")?"ts":f.endsWith("js")?"js":f.endsWith("tsx")?"tsx":"jsx"}var hL=`// Generated by bun-plugin-auto-imports
`;async function SL(f){let m=new Set,l=new vL("**/*.{ts,tsx,js,jsx}");for await(let v of l.scan({cwd:f,absolute:!0,onlyFiles:!0,followSymlinks:!1})){if(v.includes("node_modules")||v.endsWith(".d.ts"))continue;let w=await Bun.file(v).text(),F=[...w.matchAll(/export\s+(?:const|let|var|function|class|type|interface)\s+([a-zA-Z_$][\w$]*)/g),...w.matchAll(/export\s+\{([^}]+)\}/g),...w.matchAll(/export\s+default\s+(?:(?:function|class)\s*)?([a-zA-Z_$][\w$]*)/g)];for(let B of F)if(B[1])B[1].split(",").map((Z)=>Z.trim().replace(/\s+as\s+(?:\S.*)?$/,"").replace(/^.*(?:[\n\r\u2028\u2029]\s*|[\t\v\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF])as\s+/,"")).forEach((Z)=>m.add(Z))}return Array.from(m)}function V0(f){return{name:"bun-plugin-auto-imports",async setup(m){let{createUnimport:l}=await import("./chunk-968gp4ed.js"),v={};if(f.dirs)for(let E of f.dirs){let j=typeof E==="string"?E:("path"in E)?E.path:E;v[j]=await SL(j)}let w=Object.entries(v).flatMap(([E,j])=>j.map((Ff)=>({from:E,name:Ff,as:Ff}))),F=Fw.resolve(f.dts??"./auto-imports.d.ts"),B=Fw.dirname(F),W=l({...f,imports:[...f.imports||[],...w.map((E)=>({...E,from:`./${Fw.relative(B,E.from).replace(/\\/g,"/")}`}))],dts:void 0}),{injectImports:Z}=W,D=await W.generateTypeDeclarations();if(await Bun.write(f.dts??"./auto-imports.d.ts",hL+D),f.eslint?.enabled===!0){let E={enabled:!0,filepath:f.eslint.filepath??"./.eslint-auto-import.json",globalsPropValue:f.eslint.globalsPropValue},j=mL(D,E);await Bun.write(E.filepath??"./.eslint-auto-import.json",j)}m.onLoad({filter:/.*/},async(E)=>{let j=await Bun.file(E.path).text();return{contents:(await Z(j)).code,loader:wL(E.path)}})}}}function k0(){let f={dts:qv.storagePath("framework/types/server-auto-imports.d.ts"),dirs:[qv.storagePath("framework/orm/src/models"),qv.storagePath("framework/requests")],eslint:{enabled:!0,filepath:qv.storagePath("framework/server-auto-imports.json")}};RL(V0(f))}import{ExitCode as q0}from"@stacksjs/types";function cB(f){let m={command:"Automagically build any of your libraries/packages for production use. Select any of the following packages",types:"Generate your TypeScript types",entries:"Generate your function & Component Library Entry Points",webTypes:"Generate web-types.json for IDEs",customData:"Generate VS Code custom data (custom-elements.json) for IDEs",ideHelpers:"Generate IDE helpers",componentMeta:"Generate component meta information",coreSymlink:"Generate symlink of the core framework to the project root",pkgx:"Generate the pkgx configuration file",modelFiles:"Generate the model files",openApi:"Generate the OpenAPI specification",select:"What are you trying to generate?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("generate",m.command).option("-t, --types",m.types).option("-e, --entries",m.entries).option("-w, --web-types",m.webTypes).option("-c, --custom-data",m.customData).option("-i, --ide-helpers",m.ideHelpers).option("-c, --component-meta",m.componentMeta).option("-p, --pkgx",m.pkgx).option("-m, --model-files",m.modelFiles).option("-o, --openapi",m.openApi).option("-p, --project [project]",m.project,{default:!1}).option("--core-symlink",m.coreSymlink).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{C.debug("Running `buddy generate` ...",l),await zL(l),Bw.exit(q0.Success)}),f.command("generate:types",m.types).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).alias("types:generate").action(async(l)=>{C.debug("Running `buddy generate:types` ...",l),await ML(l)}),f.command("generate:entries",m.entries).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{C.debug("Running `buddy generate:entries` ...",l),await FL(l)}),f.command("generate:web-types",m.webTypes).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{C.debug("Running `buddy generate:web-types` ...",l),await UL(l)}),f.command("generate:vscode-custom-data",m.customData).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{C.debug("Running `buddy generate:vscode-custom-data` ...",l),await $L(l)}),f.command("generate:ide-helpers",m.ideHelpers).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{C.debug("Running `buddy generate:ide-helpers` ...",l),await KL(l)}),f.command("generate:component-meta",m.componentMeta).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{C.debug("Running `buddy generate:component-meta` ...",l),await IL()}),f.command("generate:pkgx-config",m.pkgx).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l)=>{C.debug("Running `buddy generate:pkgx-config` ...",l),WL()}),f.command("generate:model-files",m.modelFiles).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async()=>{let l=await P0("buddy generate:model-files");try{await C0(),await k0(),_0("Generated Model files",{startTime:l,useSeconds:!0})}catch(v){C.error("There was an error generating your model files",v),Bw.exit(q0.FatalError)}}),f.command("generate:openapi-spec",m.openApi).alias("generate:openapi").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{C.debug("Running `buddy generate:openapi-spec` ...",l);let v=await P0("buddy generate:openapi-spec");await BL(),_0("Generated OpenAPI specification",{startTime:v,useSeconds:!0})}),f.command("generate:migrations","Generate Migrations").action((l)=>{C.debug("Running `buddy generate:migrations` ...",l)}),f.command("generate:core-symlink","Generate core symlink. A shortcut for core developers.").action(async(l)=>{C.debug("Running `buddy core-symlink` ...",l),await LL()}),f.on("generate:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Bw.exit(1)})}import GL from"process";import{log as A0,runCommandSync as NL}from"@stacksjs/cli";import{config as DL}from"@stacksjs/config";import{ExitCode as ZL}from"@stacksjs/types";function tB(f){let m={http:"Send an HTTP request to a domain",project:"Target a specific project",verbose:"Enable verbose output"};f.command("http [domain]",m.http).option("-p, --project [project]",m.project,{default:!1}).action(async(l,v)=>{A0.debug("Running `buddy http [domain]` ...",v);let w=Object.entries(v).filter(([B,W])=>B!=="--"&&B.length>1&&W!==!1).map(([B,W])=>`--${B} ${W}`).join(" "),F=`http GET ${l||DL.app.url} ${w}`;A0.info(`Running command: ${F}`),await NL(F),GL.exit(ZL.Success)})}import EL from"process";import{log as YL,runCommand as XL}from"@stacksjs/cli";import{path as JL}from"@stacksjs/path";function w3(f){let m={install:"Install your dependencies",project:"Target a specific project",verbose:"Enable verbose output"};f.command("install",m.install).option("-p, --project [project]",m.project,{default:!1}).option("-v, --verbose",m.verbose,{default:!1}).action(async(l)=>{YL.debug("Running `buddy install` ...",l),await XL("bun install",{...l,cwd:JL.projectPath()})}),f.on("install:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),EL.exit(1)})}import j0 from"process";import{runAction as TL}from"@stacksjs/actions";import{intro as HL,log as g0,outro as QL}from"@stacksjs/cli";import{Action as VL}from"@stacksjs/enums";function K3(f){let m={command:"Generate & set the application key.",project:"Target a specific project",verbose:"Enable verbose output"};f.command("key:generate",m.command).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g0.debug("Running `buddy key:generate` ...",l),await HL("buddy key:generate");let v=await TL(VL.KeyGenerate,l);if(v.isErr())g0.error("Failed to set random application key.",v.error),j0.exit();await QL("Random application key set.")}),f.on("key:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),j0.exit(1)})}import y0 from"process";import{runAction as r0}from"@stacksjs/actions";import{intro as kL,log as Vf,outro as PL,runCommand as _L}from"@stacksjs/cli";import{Action as O0}from"@stacksjs/enums";import{path as Ww}from"@stacksjs/path";function z3(f){let m={lint:"Automagically lints your project codebase",lintFix:"Automagically fixes all lint errors",project:"Target a specific project",verbose:"Enable verbose output"};f.command("lint",m.lint).option("-f, --fix",m.lintFix,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Vf.debug("Running `buddy lint` ...",l);let v=await kL("buddy lint");if(l.fix)await r0(O0.LintFix,{cwd:Ww.projectPath(),...l});else await _L("bunx --bun eslint . --config ./config/lint.ts",{cwd:Ww.projectPath()});await PL("Linted your project",{startTime:v,useSeconds:!0})}),f.command("lint:fix",m.lintFix).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Vf.debug("Running `buddy lint:fix` ...",l),Vf.info("Fixing lint errors...");let v=await r0(O0.LintFix,{cwd:Ww.projectPath(),...l});if(v.isErr())Vf.error("There was an error lint fixing your code.",v.error),y0.exit();Vf.success("Fixed lint errors")}),f.on("lint:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),y0.exit(1)})}var{$:a0}=globalThis.Bun;import qL from"process";import{log as CL}from"@stacksjs/logging";import{projectPath as AL}from"@stacksjs/path";function Y3(f){let m={list:"List all of the project-specific Buddy commands",project:"Target a specific project",verbose:"Enable verbose output"};f.command("list",m.list).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{CL.debug("Running `buddy list` ...",l),a0.cwd(AL());let w=(await a0`buddy --help`.text()).match(/Commands:.*?(?=For more info, run any command with the)/s)?.[0];if(w){let F=w.replace("Commands:","").replace(/^\s+/gm,"");console.log(F);return}console.error("#1 - Please reach out to our Discord for helper: https://discord.gg/stacksjs")}),f.on("list:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),qL.exit(1)})}import H from"process";import{createMigration as jL,createModel as b0,createNotification as d0,createPage as gL,invoke as yL,makeAction as x0,makeCertificate as i0,makeComponent as s0,makeDatabase as c0,makeFunction as e0,makeLanguage as n0,makePage as rL,makeQueueTable as p0,makeStack as o0}from"@stacksjs/actions";import{intro as OL,italic as aL,outro as u0}from"@stacksjs/cli";import{log as N}from"@stacksjs/logging";import{ExitCode as t0}from"@stacksjs/types";function k3(f){let m={action:"Create a new action",model:"Create a new model",component:"Create a new component",page:"Create a new page",function:"Create a new function",language:"Create a new language",database:"Create a new database",migration:"Create a new migration",factory:"Create a new factory",notification:"Create a new notification",name:"The name of the action",queue:"Make queue migration",stack:"Create a new stack",certificate:"Create a new SSL Certificate",select:"What are you trying to make?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("make [make]","The make command").option("-a, --action [action]",m.action,{default:!1}).option("-c, --component [component]",m.component,{default:!1}).option("-d, --database [database]",m.database,{default:!1}).option("-f, --factory [factory]",m.factory,{default:!1}).option("-f, --function [function]",m.function,{default:!1}).option("-l, --language [language]",m.language,{default:!1}).option("-m, --model [model]",m.model,{default:!1}).option("-p, --page [page]",m.page,{default:!1}).option("-m, --migration [migration]",m.migration,{default:!1}).option("-n, --notification [notification]",m.notification,{default:!1}).option("-qt, --queue-table",m.queue,{default:!1}).option("-s, --stack [stack]",m.stack,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(N.debug("Running `buddy make` ...",v),!f.args[0])N.error("You need to specify a name. Read more about the documentation here."),H.exit();if(l)switch(v.name=f.args[1],l){case"action":await x0(v);break;case"certificate":await i0();break;case"component":await s0(v);break;case"database":c0(v);break;case"function":await e0(v);break;case"language":await n0(v);break;case"migration":await jL(v);break;case"model":await b0(v);break;case"page":await gL(v);break;case"notification":await d0(v);break;case"queue-table":await p0();break;case"stack":await o0(v);break;default:}await yL(v),H.exit(t0.Success)}),f.command("make:action [name]",m.action).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(N.info("Running `buddy make:action` ..."),N.debug("Running `buddy make:action` ...",l,v),l=l??v.name,v.name=l,!l)N.error("You need to specify a name. Read more about the documentation here."),H.exit();await x0(v)}),f.command("make:certificate",m.certificate).alias("make:cert").example("buddy make:certificate").action(async(l)=>{N.debug("Running `buddy make:certificate` ...",l),await i0()}),f.command("make:component [name]",m.component).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(N.debug("Running `buddy make:component` ...",v),l=l??v.name,v.name=l,!l)N.error("You need to specify a name. Read more about the documentation here."),H.exit();await s0(v)}),f.command("make:database [name]",m.database).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l,v)=>{if(N.debug("Running `buddy make:database` ...",v),l=l??v.name,v.name=l,!l)N.error("You need to specify a database name via the `--name` option, or as the command\u2019s argument."),N.info("Example: `buddy make:database my-cool-database`"),N.info("Or: `buddy make:database --name=my-cool-database`"),N.info("Read more about the documentation here: https://stacksjs.org/docs/make/database"),H.exit();c0(v)}),f.command("make:factory [name]",m.factory).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l,v)=>{if(N.debug("Running `buddy make:factory` ...",v),l=l??v.name,v.name=l,!l)N.error("You need to specify a name. Read more about the documentation here."),H.exit()}),f.command("make:function [name]",m.function).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{N.debug("Running `buddy make:function` ...",l),await e0(l)}),f.command("make:lang [name]",m.language).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(N.debug("Running `buddy make:lang` ...",v),l=l??v.name,v.name=l,!l)N.error("You need to specify a name. Read more about the documentation here."),H.exit();await n0(v)}),f.command("make:migration [name]",m.migration).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l,v)=>{if(N.debug("Running `buddy make:migration` ...",v),l=l??v.name,v.name=l,!l)N.error("You need to specify a migration name"),H.exit()}),f.command("make:model [name]",m.model).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(N.debug("Running `buddy make:model` ...",v),l=l??v.name,v.name=l,!l)N.error("You need to specify a model name"),H.exit();await b0(v)}),f.command("make:notification [name]",m.notification).option("-n, --name [name]",m.name,{default:!1}).option("-e, --email","Is it an email notification?",{default:!0}).option("-c, --chat","Is it a chat notification?",{default:!1}).option("-s, --sms","Is it a SMS notification?",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{N.debug("Running `buddy make:notification` ...",v);let w=await OL("buddy make:notification");if(l=l??v.name,v.name=l,!l)N.error("You need to specify a name. Read more about the documentation here."),H.exit();if(!await d0(v))await u0("While running the make:notification command, there was an issue",{startTime:w,useSeconds:!0}),H.exit();await u0(`Created your ${aL(l)} notification.`,{startTime:w,useSeconds:!0}),H.exit(t0.Success)}),f.command("make:queue-table",m.migration).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{N.debug("Running `buddy make queue:table` ...",l),await p0()}),f.command("make:stack [name]",m.stack).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l,v)=>{if(N.debug("Running `buddy make:stack` ...",v),l=l??v.name,v.name=l,!l)N.error("You need to specify a name. Read more about the documentation here."),H.exit();o0(v)}),f.command("make:view [name]",m.page).alias("make:page [name]").option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(N.debug("Running `buddy make:view` ...",v),l=l??v.name,v.name=l,!l)N.error("You need to specify a name. Read more about the documentation here."),H.exit();await rL(v)}),f.on("make:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),H.exit(1)})}import i from"process";import{runAction as Mw}from"@stacksjs/actions";import{intro as $w,log as Uw,outro as Zf}from"@stacksjs/cli";import{Action as zw}from"@stacksjs/enums";import{ExitCode as Gw}from"@stacksjs/types";function g3(f){let m={migrate:"Migrates your database",project:"Target a specific project",verbose:"Enable verbose output"};f.command("migrate",m.migrate).option("-d, --diff","Show the SQL that would be run",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Uw.debug("Running `buddy migrate` ...",l);let v=await $w("buddy migrate"),w=await Mw(zw.Migrate,l);if(w.isErr())await Zf("While running the migrate command, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit();let F=i.env.APP_ENV||"local";await Zf(`Migrated your ${F} database.`,{startTime:v,useSeconds:!0}),i.exit(Gw.Success)}),f.command("migrate:fresh",m.migrate).option("-d, --diff","Show the SQL that would be run",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Uw.debug("Running `buddy migrate:fresh` ...",l);let v=await $w("buddy migrate:fresh"),w=await Mw(zw.MigrateFresh,l);if(w.isErr())await Zf("While running the migrate:fresh command, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit();await Zf("All tables dropped successfully & migrated successfully",{startTime:v,useSeconds:!0}),i.exit(Gw.Success)}),f.command("migrate:dns",m.migrate).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Uw.debug("Running `buddy migrate:dns` ...",l);let v=await $w("buddy migrate:dns"),w=await Mw(zw.MigrateDns,{...l});if(w.isErr())await Zf("While running the migrate:dns command, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit();let F=i.env.APP_URL||"undefined";await Zf(`Migrated your ${F} DNS.`,{startTime:v,useSeconds:!0}),i.exit(Gw.Success)}),f.on("migrate:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),i.exit(1)})}var{$:fS}=globalThis.Bun;import bL from"process";import{log as dL}from"@stacksjs/logging";import{projectPath as xL}from"@stacksjs/path";function d3(f){let m={outdated:"List all the outdated project dependencies",project:"Target a specific project",verbose:"Enable verbose output"};f.command("outdated",m.outdated).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async()=>{dL.debug("Running `buddy outdated` ..."),fS.cwd(xL());let l=await fS`bun outdated`.text();console.log(l)}),f.on("outdated:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),bL.exit(1)})}var{$:Cv}=globalThis.Bun;import Av from"process";import{intro as Nw,italic as hS,outro as Dw}from"@stacksjs/cli";import{ports as lS}from"@stacksjs/config";import{log as T}from"@stacksjs/logging";import{findProjectPath as mS,path as vS,projectPath as wS}from"@stacksjs/path";import{ExitCode as Zw}from"@stacksjs/types";import{findStacksProjects as iL}from"@stacksjs/utils";function t3(f){let m={command:"Let buddy check your project for potential issues and misconfigurations",ports:"Check if the ports are available",project:"Target a specific project",verbose:"Enable verbose output"};f.command("ports",m.command).option("-l, --list","List the used ports",{default:!0}).option("-c, --check","Check if the ports are available",{default:!1}).option("-p, --project [name]",m.project,{default:void 0}).option("-q, --quiet","Use minimal output",{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{T.debug("Running `buddy ports` ...",l);let v;if(!l.quiet)v=await Nw("buddy ports");if(l.project){let w=await mS(l.project);T.debug(`Path: ${w}`);let F=await Ew(w,l);T.debug(`./buddy ports --quiet response for ${wS}`,F),jv(F,l)}else jv(lS,l);if(!l.quiet)await Dw("Exited",{startTime:v,useSeconds:!1});Av.exit(Zw.Success)}),f.command("ports:list",m.ports).option("-p, --project [name]",m.project,{default:void 0}).option("-q, --quiet","Use minimal output",{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{T.debug("Running `buddy ports:list` ...",l);let v;if(!l.quiet)v=await Nw("buddy ports:list");if(l.project){if(!l.quiet)T.info(`Listing ports for project: ${hS(l.project)}`);let w=await mS(l.project);T.debug(`Path: ${w}`);let F=await Ew(w,l);jv(F,l)}else jv(lS,l);if(!l.quiet)await Dw("Exited",{startTime:v,useSeconds:!1});Av.exit(Zw.Success)}),f.command("ports:check",m.ports).option("-p, --project [name]",m.project,{default:wS()}).option("-q, --quiet","Use minimal output",{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{T.debug("Running `buddy ports:check` ...",l);let v;if(!l.quiet)v=await Nw("buddy ports:check");let w=await iL(void 0,{quiet:!0});T.debug("Running `buddy ports`"),T.debug(`Found ${w.length} projects`),T.debug("Projects:",w);let F={};for(let B of w)F[B]=await Ew(B,l);if(T.info("ProjectsPorts:",F),!l.quiet)await Dw("Exited",{startTime:v,useSeconds:!1});Av.exit(Zw.Success)}),f.on("ports:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Av.exit(1)})}async function Ew(f,m){if(!m.quiet)T.info(`Checking ports for project: ${hS(f)}`);Cv.cwd(f),Cv.env(await import(`${f}/.env`));let l=await Cv`./buddy projects:list --quiet`.text();T.debug("ProjectListResponse",l);let v=l.split(`
`).filter((D)=>D.startsWith("   - ")).map((D)=>D.trim().substring(4));T.debug("Projects:",v);let w=m.project??vS.projectPath(),F=v.find((D)=>D.includes(w));if(T.debug(`Checking ports for project: ${F}`),F===""||!F)F=vS.projectPath();T.debug(`$ Running: ./buddy ports:list --quiet via ${F}`);let B=await Cv`./buddy ports:list --quiet`.json();T.debug(`Response for ./buddy ports:list --quiet via ${F}`,B);let W=B.replace(/(\w+)(?=\s*:)/g,'"$1"');W=W.replace(/,(\s*\})/g,"$1");let Z=JSON.parse(W);return T.debug(`Ports for ${F}`,Z),Z}function jv(f,m){if(!m.quiet)console.log("");if(console.log(f),!m.quiet)console.log("")}import sL from"process";import{runAction as cL}from"@stacksjs/actions";import{Action as eL}from"@stacksjs/enums";import{log as nL}from"@stacksjs/logging";function hW(f){let m={command:"Run your prepublish script",project:"Target a specific project",verbose:"Enable verbose output"};f.command("prepublish",m.command).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{nL.debug("Running `buddy prepublish` ...",l),await cL(eL.Prepublish,l)}),f.on("prepublish:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),sL.exit(1)})}import Yw from"process";import{intro as SS,log as RS}from"@stacksjs/cli";import{ExitCode as IS}from"@stacksjs/types";import{findStacksProjects as LS}from"@stacksjs/utils";function FW(f){let m={projects:"Find all Stacks projects on your system",verbose:"Enable verbose output"};f.command("projects",m.projects).option("-q, --quiet","Use minimal output",{default:!1}).option("-l, --list","List all local Stacks projects",{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(RS.debug("Running `buddy projects` ...",l),!l.quiet)await SS("buddy projects");let v=await LS(void 0,l);for(let w of v)console.log("   - ",w);Yw.exit(IS.Success)}),f.command("projects:list",m.projects).option("-q, --quiet","Use minimal output",{default:!1}).option("-l, --list","List all local Stacks projects",{default:!0}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(RS.debug("Running `buddy projects` ...",l),!l.quiet)await SS("buddy projects:list");let v=await LS(void 0,l);for(let w of v)console.log("   - ",w);Yw.exit(IS.Success)}),f.on("projects:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Yw.exit(1)})}import KS from"process";import{runAction as pL}from"@stacksjs/actions";import{intro as oL,log as uL,outro as tL}from"@stacksjs/cli";import{Action as f4}from"@stacksjs/enums";import{ExitCode as l4}from"@stacksjs/types";function GW(f){let m={project:"Target a specific project",queue:"Run a specific queue",verbose:"Enable verbose output"};f.command("queue:work",m.queue).option("-p, --project [project]",m.project,{default:!1}).option("-q, --queue [queue]",m.queue,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{uL.debug("Running `buddy queue:work` ...",l);let v=await oL("buddy queue:work"),w=await pL(f4.QueueWork,l);if(w.isErr())await tL("While running the queue:work command, there was an issue",{startTime:v,useSeconds:!0},w.error),KS.exit();KS.exit(l4.Success)})}import FS from"process";import{runAction as m4}from"@stacksjs/actions";import{intro as v4,italic as w4,log as gv,outro as h4}from"@stacksjs/cli";import{Action as S4}from"@stacksjs/enums";import{ExitCode as R4}from"@stacksjs/types";var yv={release:"Release a new version of your libraries/packages",project:"Target a specific project",dryRun:"Run the release without actually releasing",verbose:"Enable verbose output"};function JW(f){f.command("release",yv.release).option("--dry-run",yv.dryRun,{default:!1}).option("-p, --project [project]",yv.project,{default:!1}).option("--verbose",yv.verbose,{default:!1}).action(async(m)=>{if(gv.debug("Running `buddy release` ...",m),m.dryRun)gv.warn("Dry run enabled. No changes will be made or committed.");let l=await v4("buddy release"),v=await m4(S4.Release,m);if(v.isErr())gv.error("Failed to release",v.error),FS.exit(R4.FatalError);await h4("Triggered CI/CD Release via GitHub Actions",{startTime:l,useSeconds:!0}),gv.info(`Follow along: ${w4("https://github.com/stacksjs/stacks/actions")}`)}),f.on("release:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),FS.exit(1)})}import Xw from"process";import{runAction as I4}from"@stacksjs/actions";import{intro as L4,outro as BS}from"@stacksjs/cli";import{Action as K4}from"@stacksjs/enums";import{ExitCode as F4}from"@stacksjs/types";function _W(f){let m={route:"Lists your routes",verbose:"Enable verbose output"};f.command("route:list",m.route).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await L4("buddy route:list"),w=await I4(K4.RouteList,l);if(w.isErr())await BS("While running the migrate command, there was an issue",{startTime:v,useSeconds:!0},w.error),Xw.exit();await BS("Successfully listed routes"),Xw.exit(F4.Success)}),f.on("route:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Xw.exit(1)})}import WS from"process";import{runAction as B4}from"@stacksjs/actions";import{intro as W4,log as M4,outro as MS}from"@stacksjs/cli";import{Action as $4}from"@stacksjs/enums";import{ExitCode as U4}from"@stacksjs/types";function rW(f){let m={stripe:"Sets up stripe products in the dashboard",project:"Target a specific project",verbose:"Enable verbose output"};f.command("stripe:setup",m.stripe).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{M4.debug("Running `buddy stripe:setup` ...",l);let v=await W4("buddy stripe:setup"),w=await B4($4.StripeSetup,l);if(w.isErr())await MS("While running the stripe:setup command, there was an issue",{startTime:v,useSeconds:!0},w.error),WS.exit();await MS("Stripe products created successfully",{startTime:v,useSeconds:!0}),WS.exit(U4.Success)})}import $S from"process";import{runAction as z4}from"@stacksjs/actions";import{intro as G4,log as N4,outro as D4}from"@stacksjs/cli";import{Action as Z4}from"@stacksjs/enums";import{ExitCode as E4}from"@stacksjs/types";function sW(f){let m={project:"Target a specific project",schedule:"Run the scheduler",verbose:"Enable verbose output"};f.command("schedule:run",m.schedule).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{N4.debug("Running `buddy schedule:run` ...",l);let v=await G4("buddy schedule:run"),w=await z4(Z4.ScheduleRun,l);if(w.isErr())await D4("While running the schedule:run command, there was an issue",{startTime:v,useSeconds:!0},w.error),$S.exit();$S.exit(E4.Success)})}import Jw from"process";import{runAction as US}from"@stacksjs/actions";import{intro as zS,log as Tw,outro as rv}from"@stacksjs/cli";import{Action as kf}from"@stacksjs/enums";import{ExitCode as Y4}from"@stacksjs/types";function tW(f){let m={import:"Indexes database data to search engine",flush:"Flushes all data from search engine",settings:"Update index settings",list:"List index settings",model:"Target a specific model",project:"Target a specific project",verbose:"Enable verbose output"};f.command("search-engine:update",m.import).option("-m, --model [model]",m.model,{default:""}).option("-f, --flush [flush]",m.flush,{default:!1}).option("-s, --settings [settings]",m.settings,{default:!1}).option("--verbose",m.verbose,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).action(async(l)=>{Tw.debug("Running `search-engine:update` ...",l);let v=kf.SearchEngineImport,w="search-engine:update";if(l.model)v=kf.SearchEngineImport,w=`search-engine:update --model ${l.model}`;if(l.settings)v=kf.SearchEnginePushSettings,w="search-engine:update --settings";if(l.flush)v=kf.SearchEngineFlush,w="search-engine:update --flush";let F=await zS(w),B=await US(v,l);if(B.isErr())await rv("While running the stripe:setup command, there was an issue",{startTime:F,useSeconds:!0},B.error),Jw.exit();await rv("Successfully imported model data to search engine.",{startTime:F,useSeconds:!0})}),f.command("search-engine:settings",m.list).option("-m, --model [model]",m.model,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(!l.model)Tw.error("Missing required option --model");Tw.debug("Running `search-engine:settings` ...",l);let v=await zS("search-engine:settings"),w=await US(kf.SearchEngineListSettings,l);if(w.isErr())await rv("While running the stripe:setup command, there was an issue",{startTime:v,useSeconds:!0},w.error),Jw.exit();await rv("Successfully listed search engine index settings.",{startTime:v,useSeconds:!0}),Jw.exit(Y4.Success)})}import Ov from"process";import{runAction as X4}from"@stacksjs/actions";import{intro as J4,log as T4,outro as GS}from"@stacksjs/cli";import{Action as H4}from"@stacksjs/enums";import{ExitCode as NS}from"@stacksjs/types";function SM(f){let m={seed:"Seed your database",project:"Target a specific project",verbose:"Enable verbose output"};f.command("seed",m.seed).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{T4.debug("Running `buddy seed` ...",l);let v=await J4("buddy seed"),w=await X4(H4.Seed,l);if(w.isErr())await GS("While running the seed command, there was an issue",{startTime:v,useSeconds:!0},w.error),Ov.exit(NS.FatalError);let F=Ov.env.APP_ENV||"local";await GS(`Seeded your ${F} database.`,{startTime:v,useSeconds:!0}),Ov.exit(NS.Success)}),f.on("seed:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Ov.exit(1)})}import Rf from"process";import{runAction as Q4}from"@stacksjs/actions";import{log as A,runCommand as Ef}from"@stacksjs/cli";import{Action as V4}from"@stacksjs/enums";import{handleError as Pf}from"@stacksjs/error-handling";import{path as Yf}from"@stacksjs/path";import{storage as k4}from"@stacksjs/storage";import{ExitCode as If}from"@stacksjs/types";function UM(f){let m={setup:"This command ensures your project is setup correctly",ohMyZsh:"Enable Oh My Zsh",aws:"Ensures AWS is connected to the project",project:"Target a specific project",verbose:"Enable verbose output"};f.command("setup",m.setup).alias("ensure").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(A.debug("Running `buddy setup` ...",l),!await P4())await _4();await C4(),await q4(l)}),f.command("setup:oh-my-zsh",m.ohMyZsh).alias("upgrade:oh-my-zsh").option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A.debug("Running `buddy setup:oh-my-zsh` ...",l);let v=await Q4(V4.UpgradeShell);if(v.isErr())A.error(v.error),Rf.exit(If.FatalError)}),f.on("setup:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Rf.exit(If.FatalError)})}async function P4(){if((await Ef("pkgx --version",{silent:!0})).isOk())return!0;return!1}async function _4(){let f=await Ef(Yf.frameworkPath("scripts/pkgx-install"));if(f.isOk())return;Pf(f.error),Rf.exit(If.FatalError)}async function q4(f){A.info("Installing dependencies...");let m=await Ef("bun install",{cwd:f.cwd||Yf.projectPath()});if(m.isErr())Pf(m.error),Rf.exit(If.FatalError);A.success("Installed node_modules"),A4(f);let l=await Ef("buddy key:generate",{cwd:f.cwd||Yf.projectPath()});if(l.isErr())Pf(l.error),Rf.exit(If.FatalError);A.info("Ensuring AWS is connected...");let v=await Ef("buddy configure:aws",{cwd:f.cwd||Yf.projectPath()});if(v.isErr())Pf(v.error),Rf.exit(If.FatalError);A.success("Configured AWS"),A.success("Project is setup"),A.info("Happy coding! \uD83D\uDC99")}async function C4(){return new Promise((f)=>setTimeout(f,300))}async function A4(f){if(A.info("Ensuring .env exists..."),k4.doesNotExist(Yf.projectPath(".env"))){let m=await Ef("cp .env.example .env",{cwd:f.cwd||Yf.projectPath()});if(m.isErr())Pf(m.error),Rf.exit(If.FatalError);A.success(".env created")}else A.success(".env existed")}import s from"process";import{runAction as o}from"@stacksjs/actions";import{intro as _f,log as DS,outro as P}from"@stacksjs/cli";import{Action as u}from"@stacksjs/enums";import{projectPath as t}from"@stacksjs/path";function YM(f){let m={command:"Runs your test suite",types:"Typechecks your codebase",coverage:"Generates a test coverage report",ui:"Runs your test suite in the browser",unit:"Runs your unit tests",feature:"Runs your feature tests",showReport:"Show the test report",project:"Target a specific project",verbose:"Enable verbose output"};f.command("test",m.command).option("-f, --feature",m.feature,{default:!1}).option("-u, --unit",m.unit,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!0}).action(async(l)=>{let v=await _f("buddy test");if(l.feature&&l.unit){let w=await o(u.Test,{...l,cwd:t()});if(w.isErr())await P("While running `buddy test`, there was an issue",{startTime:v,useSeconds:!0},w.error),s.exit()}if(l.feature&&!l.unit){DS.info("Running Feature tests...");let w=await o(u.TestFeature,{...l,cwd:t()});if(w.isErr())await P("While running `buddy test`, there was an issue",{startTime:v,useSeconds:!0},w.error),s.exit()}if(!l.feature&&l.unit){DS.info("Running Unit tests...");let w=await o(u.TestUnit,{...l,cwd:t()});if(w.isErr())await P("While running `buddy test`, there was an issue",{startTime:v,useSeconds:!0},w.error),s.exit()}if(!l.feature&&!l.unit){let w=await o(u.Test,{...l,cwd:t()});if(w.isErr())await P("While running `buddy test`, there was an issue",{startTime:v,useSeconds:!0},w.error),s.exit()}await P("Finished running tests",{startTime:v,useSeconds:!0})}),f.command("test:unit",m.unit).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await _f("buddy test:unit"),w=await o(u.TestUnit,{...l,verbose:!0,cwd:t()});if(w.isErr())await P("While running `buddy test:unit`, there was an issue",{startTime:v,useSeconds:!0},w.error),s.exit();await P("Finished running unit tests",{startTime:v,useSeconds:!0})}),f.command("test:feature",m.feature).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await _f("buddy test:feature"),w=await o(u.TestFeature,{...l,verbose:!0,cwd:t()});if(w.isErr())await P("While running `buddy test:feature`, there was an issue",{startTime:v,useSeconds:!0},w.error),s.exit();await P("Finished running feature tests",{startTime:v,useSeconds:!0})}),f.command("test:ui",m.command).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await _f("buddy test:ui"),w=await o(u.TestUi,{...l,verbose:!0,cwd:t()});if(w.isErr())await P("While running `buddy test:ui`, there was an issue",{startTime:v,useSeconds:!0},w.error),s.exit();await P("Finished running tests in the browser",{startTime:v,useSeconds:!0})}),f.command("test:types",m.types).alias("typecheck").option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await _f("buddy test:types"),w=await o(u.Typecheck,{...l,verbose:!0,cwd:t()});if(w.isErr())await P("While running `buddy test:types`, there was an issue",{startTime:v,useSeconds:!0},w.error),s.exit();await P("Finished running typecheck",{startTime:v,useSeconds:!0})}),f.on("test:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),s.exit(1)})}import Hw from"process";import{intro as j4,log as g4,outro as ZS,runCommand as y4}from"@stacksjs/cli";import{ExitCode as r4}from"@stacksjs/types";function QM(f){let m={tinker:"Tinker with your code",project:"Target a specific project",verbose:"Enable verbose output"};f.command("tinker",m.tinker).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{g4.debug("Running `buddy tinker` ...",l);let v=await j4("buddy tinker"),w=await y4("bun repl",{stdin:"inherit"});if(w.isErr())await ZS("While running the tinker command, there was an issue",{startTime:v,useSeconds:!0},w.error||void 0),Hw.exit();await ZS("Tinker mode exited.",{startTime:v,useSeconds:!0}),Hw.exit(r4.Success)}),f.on("tinker:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Hw.exit(1)})}import O4 from"process";import{generateTypes as a4}from"@stacksjs/actions";import{log as b4}from"@stacksjs/logging";function qM(f){let m={generate:"Generate the types of & for your library/libraries",fix:"wip",project:"Target a specific project",verbose:"Enable verbose output"};f.command("types:generate",m.generate).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{b4.debug("Running `buddy types:generate` ...",l),await a4()}),f.command("types:fix",m.fix).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async()=>{}),f.on("types:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),O4.exit(1)})}import _ from"process";import{runAction as Lf}from"@stacksjs/actions";import{intro as av,log as ff,outro as qf,prompts as d4}from"@stacksjs/cli";import{Action as Kf}from"@stacksjs/enums";import{ExitCode as bv}from"@stacksjs/types";import{isString as x4}from"@stacksjs/validation";function aM(f){let m={command:"Upgrade dependencies, framework, package manager, JS/TS runtime",framework:"Upgrade the Stacks framework",dependencies:"Upgrade your dependencies (pkgx.yaml & package.json)",bun:"Upgrade Bun to the latest version",shell:"Upgrade the to the latest shell integration (currently only supports Oh My Zsh)",binary:"Upgrade the `stacks` binary to the latest version. Please note, the binary is moved to the `~/.stacks/bin` directory",all:"Upgrade Node, package manager, project dependencies, and framework",force:"Overwrite possible local updates with remote framework updates",select:"What are you trying to upgrade?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("upgrade",m.command).option("-d, --dependencies",m.dependencies,{default:!1}).option("-b, --bun",m.bun,{default:!1}).option("-a, --all",m.all,{default:!1}).option("-f, --force",m.force,{default:!1}).option("--framework",m.framework,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("-s, --shell",m.shell,{default:!1}).option("-b, --binary",m.binary,{default:!1}).option("--verbose",m.verbose,{default:!1}).alias("update").example("buddy upgrade -a --verbose").action(async(l)=>{ff.debug("Running `buddy upgrade` ...",l);let v=await av("buddy upgrade");if(i4(l)){let B=(await d4({type:"multiselect",name:"value",message:m.select,choices:[{value:"dependencies",title:"Dependencies"},{value:"framework",title:"Framework"},{value:"bun",title:"Bun"},{value:"shell",title:"Shell"},{value:"binary",title:"Binary"}]})).value;if(B!==null)_.exit(bv.InvalidArgument);if(x4(B))B=[B];l=B.reduce((W,Z)=>{return W[Z]=!0,W},{})}let w=await Lf(Kf.Upgrade,l);if(w.isErr())await qf("While running the buddy:upgrade command, there was an issue",{startTime:v,useSeconds:!0},w.error),_.exit();await qf("Upgrade complete.",{startTime:v,useSeconds:!0}),_.exit()}),f.command("upgrade:framework",m.framework).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).example("buddy upgrade:framework --verbose").action(async(l)=>{ff.debug("Running `buddy upgrade:framework` ...",l),await Lf(Kf.Upgrade,l)}),f.command("upgrade:dependencies",m.dependencies).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).alias("upgrade:deps").example("buddy upgrade:dependencies --verbose").action(async(l)=>{ff.debug("Running `buddy upgrade:dependencies` ...",l),await Lf(Kf.Upgrade,l)}),f.command("upgrade:bun",m.bun).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{ff.debug("Running `buddy upgrade:bun` ...",l);let v=await av("buddy upgrade:bun"),w=await Lf(Kf.UpgradeBun,l);if(w.isErr())await qf("While running the buddy upgrade:bun command, there was an issue",{startTime:v,useSeconds:!0},w.error),_.exit();_.exit(bv.Success)}),f.command("upgrade:all",m.all).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{ff.debug("Running `buddy upgrade:all` ...",l),await Lf(Kf.Upgrade,l)}),f.command("upgrade:shell",m.shell).option("--verbose",m.verbose,{default:!1}).example("buddy upgrade:shell").action(async(l)=>{ff.debug("Running `buddy upgrade:shell` ...",l);let v=await av("buddy upgrade:shell"),w=await Lf(Kf.UpgradeShell,l);if(w.isErr())await qf("While running the buddy upgrade:shell command, there was an issue",{startTime:v,useSeconds:!0},w.error),_.exit();_.exit(bv.Success)}),f.command("upgrade:binary",m.binary).option("--verbose",m.verbose,{default:!1}).example("buddy upgrade:binary").action(async(l)=>{if(_.getuid&&_.getuid()!==0)ff.warn("To upgrade the binary, you need to run this command with sudo, or as root."),_.exit(0);ff.debug("Running `buddy upgrade:binary` ...",l);let v=await av("buddy upgrade:binary"),w=await Lf(Kf.UpgradeBinary,l);if(w.isErr())await qf("While running the buddy upgrade:binary command, there was an issue",{startTime:v,useSeconds:!0},w.error),_.exit();_.exit(bv.Success)}),f.on("upgrade:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),_.exit(1)})}function i4(f){return!f.framework&&!f.dependencies&&!f.bun&&!f.shell&&!f.binary&&!f.all}import s4 from"process";import{bold as ES,dim as YS,green as XS,intro as c4,log as Qw}from"@stacksjs/cli";import{storage as e4}from"@stacksjs/storage";function sM(f){let m={version:"Retrieving Stacks build version"};f.command("version",m.version).action(async()=>{Qw.debug("Running `buddy version` ..."),await c4("buddy version");let l=await e4.readPackageJson("./package.json"),v="wip",w=l.version;Qw.info(XS(ES("@stacksjs/ "))+YS(` ${w}`)),Qw.info(XS(ES("Bun: "))+YS(`   ${v}`))}),f.on("version:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),s4.exit(1)})}export{f8 as Ma,R8 as Na,W8 as Oa,D8 as Pa,RF as Qa,BF as Ra,GF as Sa,QF as Ta,rF as Ua,cF as Va,d2 as Wa,tF as Xa,IB as Ya,WB as Za,DB as _a,cB as $a,tB as ab,w3 as bb,K3 as cb,z3 as db,Y3 as eb,k3 as fb,g3 as gb,d3 as hb,t3 as ib,hW as jb,FW as kb,GW as lb,JW as mb,_W as nb,rW as ob,sW as pb,tW as qb,SM as rb,UM as sb,C4 as tb,A4 as ub,YM as vb,QM as wb,qM as xb,aM as yb,sM as zb};
