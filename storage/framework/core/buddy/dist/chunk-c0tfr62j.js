import{Ad as c1,Bd as o,Cd as p9,Ed as t,Fd as I1,Gd as d9,Id as m9,Kd as h,Ld as g,Md as v}from"./chunk-x9e3h3eh.js";import{Vd as u1}from"./chunk-jpw6wb6x.js";import{Zd as C$}from"./chunk-5b5bjkxb.js";import{_d as BW}from"./chunk-mp45a05d.js";import{ce as I,fe as x0}from"./chunk-1krazvx7.js";var g1=I((V7,x1)=>{var{defineProperty:B0,getOwnPropertyDescriptor:j5,getOwnPropertyNames:S5}=Object,N5=Object.prototype.hasOwnProperty,H0=($,W)=>B0($,"name",{value:W,configurable:!0}),D5=($,W)=>{for(var Z in W)B0($,Z,{get:W[Z],enumerable:!0})},_5=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of S5(W))if(!N5.call($,J)&&J!==Z)B0($,J,{get:()=>W[J],enumerable:!(Y=j5(W,J))||Y.enumerable})}return $},f5=($)=>_5(B0({},"__esModule",{value:!0}),$),_1={};D5(_1,{deserializerMiddleware:()=>f1,deserializerMiddlewareOption:()=>h1,getSerdePlugin:()=>v1,serializerMiddleware:()=>b1,serializerMiddlewareOption:()=>y1});x1.exports=f5(_1);var b5=o(),f1=H0(($,W)=>(Z,Y)=>async(J)=>{let{response:G}=await Z(J);try{let Q=await W(G,$);return{response:G,output:Q}}catch(Q){if(Object.defineProperty(Q,"$response",{value:G}),!("$metadata"in Q)){try{Q.message+=`
  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.`}catch(X){if(!Y.logger||Y.logger?.constructor?.name==="NoOpLogger")console.warn("Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.");else Y.logger?.warn?.("Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.")}if(typeof Q.$responseBodyText!=="undefined"){if(Q.$response)Q.$response.body=Q.$responseBodyText}try{if(b5.HttpResponse.isInstance(G)){let{headers:X={}}=G,F=Object.entries(X);Q.$metadata={httpStatusCode:G.statusCode,requestId:g0(/^x-[\w-]+-request-?id$/,F),extendedRequestId:g0(/^x-[\w-]+-id-2$/,F),cfId:g0(/^x-[\w-]+-cf-id$/,F)}}}catch(X){}}throw Q}},"deserializerMiddleware"),g0=H0(($,W)=>{return(W.find(([Z])=>{return Z.match($)})||[void 0,void 0])[1]},"findHeader"),b1=H0(($,W)=>(Z,Y)=>async(J)=>{let G=$,Q=Y.endpointV2?.url&&G.urlParser?async()=>G.urlParser(Y.endpointV2.url):G.endpoint;if(!Q)throw new Error("No valid endpoint provider available.");let U=await W(J.input,{...$,endpoint:Q});return Z({...J,request:U})},"serializerMiddleware"),h1={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},y1={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function v1($,W,Z){return{applyToStack:(Y)=>{Y.add(f1($,Z),h1),Y.add(b1($,W),y1)}}}H0(v1,"getSerdePlugin")});var p0=I((w7,$8)=>{var{defineProperty:M0,getOwnPropertyDescriptor:h5,getOwnPropertyNames:y5}=Object,v5=Object.prototype.hasOwnProperty,C=($,W)=>M0($,"name",{value:W,configurable:!0}),x5=($,W)=>{for(var Z in W)M0($,Z,{get:W[Z],enumerable:!0})},g5=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of y5(W))if(!v5.call($,J)&&J!==Z)M0($,J,{get:()=>W[J],enumerable:!(Y=h5(W,J))||Y.enumerable})}return $},u5=($)=>g5(M0({},"__esModule",{value:!0}),$),p1={};x5(p1,{DefaultIdentityProviderConfig:()=>e5,EXPIRATION_MS:()=>t1,HttpApiKeyAuthSigner:()=>$9,HttpBearerAuthSigner:()=>W9,NoAuthSigner:()=>Z9,createIsIdentityExpiredFunction:()=>a1,createPaginator:()=>o1,doesIdentityRequireRefresh:()=>e1,getHttpAuthSchemeEndpointRuleSetPlugin:()=>d5,getHttpAuthSchemePlugin:()=>l5,getHttpSigningPlugin:()=>i5,getSmithyContext:()=>c5,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>l1,httpAuthSchemeMiddleware:()=>u0,httpAuthSchemeMiddlewareOptions:()=>s1,httpSigningMiddleware:()=>n1,httpSigningMiddlewareOptions:()=>i1,isIdentityExpired:()=>Y9,memoizeIdentityProvider:()=>G9,normalizeProvider:()=>o5,requestBuilder:()=>t5.requestBuilder,setFeature:()=>r1});$8.exports=u5(p1);var q0=u1(),c5=C(($)=>$[q0.SMITHY_CONTEXT_KEY]||($[q0.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),d1=c1(),p5=C(($,W)=>{if(!W||W.length===0)return $;let Z=[];for(let Y of W)for(let J of $)if(J.schemeId.split("#")[1]===Y)Z.push(J);for(let Y of $)if(!Z.find(({schemeId:J})=>J===Y.schemeId))Z.push(Y);return Z},"resolveAuthOptions");function m1($){let W=new Map;for(let Z of $)W.set(Z.schemeId,Z);return W}C(m1,"convertHttpAuthSchemesToMap");var u0=C(($,W)=>(Z,Y)=>async(J)=>{let G=$.httpAuthSchemeProvider(await W.httpAuthSchemeParametersProvider($,Y,J.input)),Q=$.authSchemePreference?await $.authSchemePreference():[],U=p5(G,Q),X=m1($.httpAuthSchemes),F=d1.getSmithyContext(Y),L=[];for(let K of U){let z=X.get(K.schemeId);if(!z){L.push(`HttpAuthScheme \`${K.schemeId}\` was not enabled for this service.`);continue}let B=z.identityProvider(await W.identityProviderConfigProvider($));if(!B){L.push(`HttpAuthScheme \`${K.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:H={},signingProperties:q={}}=K.propertiesExtractor?.($,Y)||{};K.identityProperties=Object.assign(K.identityProperties||{},H),K.signingProperties=Object.assign(K.signingProperties||{},q),F.selectedHttpAuthScheme={httpAuthOption:K,identity:await B(K.identityProperties),signer:z.signer};break}if(!F.selectedHttpAuthScheme)throw new Error(L.join(`
`));return Z(J)},"httpAuthSchemeMiddleware"),l1={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},d5=C(($,{httpAuthSchemeParametersProvider:W,identityProviderConfigProvider:Z})=>({applyToStack:(Y)=>{Y.addRelativeTo(u0($,{httpAuthSchemeParametersProvider:W,identityProviderConfigProvider:Z}),l1)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),m5=g1(),s1={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:m5.serializerMiddlewareOption.name},l5=C(($,{httpAuthSchemeParametersProvider:W,identityProviderConfigProvider:Z})=>({applyToStack:(Y)=>{Y.addRelativeTo(u0($,{httpAuthSchemeParametersProvider:W,identityProviderConfigProvider:Z}),s1)}}),"getHttpAuthSchemePlugin"),c0=o(),s5=C(($)=>(W)=>{throw W},"defaultErrorHandler"),n5=C(($,W)=>{},"defaultSuccessHandler"),n1=C(($)=>(W,Z)=>async(Y)=>{if(!c0.HttpRequest.isInstance(Y.request))return W(Y);let G=d1.getSmithyContext(Z).selectedHttpAuthScheme;if(!G)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:Q={}},identity:U,signer:X}=G,F=await W({...Y,request:await X.sign(Y.request,U,Q)}).catch((X.errorHandler||s5)(Q));return(X.successHandler||n5)(F.response,Q),F},"httpSigningMiddleware"),i1={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},i5=C(($)=>({applyToStack:(W)=>{W.addRelativeTo(n1($),i1)}}),"getHttpSigningPlugin"),o5=C(($)=>{if(typeof $==="function")return $;let W=Promise.resolve($);return()=>W},"normalizeProvider"),r5=C(async($,W,Z,Y=(G)=>G,...J)=>{let G=new $(Z);return G=Y(G)??G,await W.send(G,...J)},"makePagedClientRequest");function o1($,W,Z,Y,J){return C(async function*G(Q,U,...X){let F=U,L=Q.startingToken??F[Z],K=!0,z;while(K){if(F[Z]=L,J)F[J]=F[J]??Q.pageSize;if(Q.client instanceof $)z=await r5(W,Q.client,U,Q.withCommand,...X);else throw new Error(`Invalid client, expected instance of ${$.name}`);yield z;let B=L;L=a5(z,Y),K=!!(L&&(!Q.stopOnSameToken||L!==B))}return},"paginateOperation")}C(o1,"createPaginator");var a5=C(($,W)=>{let Z=$,Y=W.split(".");for(let J of Y){if(!Z||typeof Z!=="object")return;Z=Z[J]}return Z},"get"),t5=v();function r1($,W,Z){if(!$.__smithy_context)$.__smithy_context={features:{}};else if(!$.__smithy_context.features)$.__smithy_context.features={};$.__smithy_context.features[W]=Z}C(r1,"setFeature");var e5=class{constructor($){this.authSchemes=new Map;for(let[W,Z]of Object.entries($))if(Z!==void 0)this.authSchemes.set(W,Z)}static{C(this,"DefaultIdentityProviderConfig")}getIdentityProvider($){return this.authSchemes.get($)}},$9=class{static{C(this,"HttpApiKeyAuthSigner")}async sign($,W,Z){if(!Z)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!Z.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!Z.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!W.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let Y=c0.HttpRequest.clone($);if(Z.in===q0.HttpApiKeyAuthLocation.QUERY)Y.query[Z.name]=W.apiKey;else if(Z.in===q0.HttpApiKeyAuthLocation.HEADER)Y.headers[Z.name]=Z.scheme?`${Z.scheme} ${W.apiKey}`:W.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+Z.in+"`");return Y}},W9=class{static{C(this,"HttpBearerAuthSigner")}async sign($,W,Z){let Y=c0.HttpRequest.clone($);if(!W.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return Y.headers.Authorization=`Bearer ${W.token}`,Y}},Z9=class{static{C(this,"NoAuthSigner")}async sign($,W,Z){return $}},a1=C(($)=>(W)=>e1(W)&&W.expiration.getTime()-Date.now()<$,"createIsIdentityExpiredFunction"),t1=300000,Y9=a1(t1),e1=C(($)=>$.expiration!==void 0,"doesIdentityRequireRefresh"),G9=C(($,W,Z)=>{if($===void 0)return;let Y=typeof $!=="function"?async()=>Promise.resolve($):$,J,G,Q,U=!1,X=C(async(F)=>{if(!G)G=Y(F);try{J=await G,Q=!0,U=!1}finally{G=void 0}return J},"coalesceProvider");if(W===void 0)return async(F)=>{if(!Q||F?.forceRefresh)J=await X(F);return J};return async(F)=>{if(!Q||F?.forceRefresh)J=await X(F);if(U)return J;if(!Z(J))return U=!0,J;if(W(J))return await X(F),J;return J}},"memoizeIdentityProvider")});var J8=I((O7,G8)=>{var{defineProperty:V0,getOwnPropertyDescriptor:J9,getOwnPropertyNames:Q9}=Object,U9=Object.prototype.hasOwnProperty,_=($,W)=>V0($,"name",{value:W,configurable:!0}),X9=($,W)=>{for(var Z in W)V0($,Z,{get:W[Z],enumerable:!0})},F9=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of Q9(W))if(!U9.call($,J)&&J!==Z)V0($,J,{get:()=>W[J],enumerable:!(Y=J9(W,J))||Y.enumerable})}return $},L9=($)=>F9(V0({},"__esModule",{value:!0}),$),Y8={};X9(Y8,{constructStack:()=>d0});G8.exports=L9(Y8);var d=_(($,W)=>{let Z=[];if($)Z.push($);if(W)for(let Y of W)Z.push(Y);return Z},"getAllAliases"),x=_(($,W)=>{return`${$||"anonymous"}${W&&W.length>0?` (a.k.a. ${W.join(",")})`:""}`},"getMiddlewareNameWithAliases"),d0=_(()=>{let $=[],W=[],Z=!1,Y=new Set,J=_((K)=>K.sort((z,B)=>W8[B.step]-W8[z.step]||Z8[B.priority||"normal"]-Z8[z.priority||"normal"]),"sort"),G=_((K)=>{let z=!1,B=_((H)=>{let q=d(H.name,H.aliases);if(q.includes(K)){z=!0;for(let M of q)Y.delete(M);return!1}return!0},"filterCb");return $=$.filter(B),W=W.filter(B),z},"removeByName"),Q=_((K)=>{let z=!1,B=_((H)=>{if(H.middleware===K){z=!0;for(let q of d(H.name,H.aliases))Y.delete(q);return!1}return!0},"filterCb");return $=$.filter(B),W=W.filter(B),z},"removeByReference"),U=_((K)=>{return $.forEach((z)=>{K.add(z.middleware,{...z})}),W.forEach((z)=>{K.addRelativeTo(z.middleware,{...z})}),K.identifyOnResolve?.(L.identifyOnResolve()),K},"cloneTo"),X=_((K)=>{let z=[];return K.before.forEach((B)=>{if(B.before.length===0&&B.after.length===0)z.push(B);else z.push(...X(B))}),z.push(K),K.after.reverse().forEach((B)=>{if(B.before.length===0&&B.after.length===0)z.push(B);else z.push(...X(B))}),z},"expandRelativeMiddlewareList"),F=_((K=!1)=>{let z=[],B=[],H={};return $.forEach((M)=>{let w={...M,before:[],after:[]};for(let V of d(w.name,w.aliases))H[V]=w;z.push(w)}),W.forEach((M)=>{let w={...M,before:[],after:[]};for(let V of d(w.name,w.aliases))H[V]=w;B.push(w)}),B.forEach((M)=>{if(M.toMiddleware){let w=H[M.toMiddleware];if(w===void 0){if(K)return;throw new Error(`${M.toMiddleware} is not found when adding ${x(M.name,M.aliases)} middleware ${M.relation} ${M.toMiddleware}`)}if(M.relation==="after")w.after.push(M);if(M.relation==="before")w.before.push(M)}}),J(z).map(X).reduce((M,w)=>{return M.push(...w),M},[])},"getMiddlewareList"),L={add:(K,z={})=>{let{name:B,override:H,aliases:q}=z,M={step:"initialize",priority:"normal",middleware:K,...z},w=d(B,q);if(w.length>0){if(w.some((V)=>Y.has(V))){if(!H)throw new Error(`Duplicate middleware name '${x(B,q)}'`);for(let V of w){let A=$.findIndex((k)=>k.name===V||k.aliases?.some((D)=>D===V));if(A===-1)continue;let O=$[A];if(O.step!==M.step||M.priority!==O.priority)throw new Error(`"${x(O.name,O.aliases)}" middleware with ${O.priority} priority in ${O.step} step cannot be overridden by "${x(B,q)}" middleware with ${M.priority} priority in ${M.step} step.`);$.splice(A,1)}}for(let V of w)Y.add(V)}$.push(M)},addRelativeTo:(K,z)=>{let{name:B,override:H,aliases:q}=z,M={middleware:K,...z},w=d(B,q);if(w.length>0){if(w.some((V)=>Y.has(V))){if(!H)throw new Error(`Duplicate middleware name '${x(B,q)}'`);for(let V of w){let A=W.findIndex((k)=>k.name===V||k.aliases?.some((D)=>D===V));if(A===-1)continue;let O=W[A];if(O.toMiddleware!==M.toMiddleware||O.relation!==M.relation)throw new Error(`"${x(O.name,O.aliases)}" middleware ${O.relation} "${O.toMiddleware}" middleware cannot be overridden by "${x(B,q)}" middleware ${M.relation} "${M.toMiddleware}" middleware.`);W.splice(A,1)}}for(let V of w)Y.add(V)}W.push(M)},clone:()=>U(d0()),use:(K)=>{K.applyToStack(L)},remove:(K)=>{if(typeof K==="string")return G(K);else return Q(K)},removeByTag:(K)=>{let z=!1,B=_((H)=>{let{tags:q,name:M,aliases:w}=H;if(q&&q.includes(K)){let V=d(M,w);for(let A of V)Y.delete(A);return z=!0,!1}return!0},"filterCb");return $=$.filter(B),W=W.filter(B),z},concat:(K)=>{let z=U(d0());return z.use(K),z.identifyOnResolve(Z||z.identifyOnResolve()||(K.identifyOnResolve?.()??!1)),z},applyToStack:U,identify:()=>{return F(!0).map((K)=>{let z=K.step??K.relation+" "+K.toMiddleware;return x(K.name,K.aliases)+" - "+z})},identifyOnResolve(K){if(typeof K==="boolean")Z=K;return Z},resolve:(K,z)=>{for(let B of F().map((H)=>H.middleware).reverse())K=B(K,z);if(Z)console.log(L.identify());return K}};return L},"constructStack"),W8={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Z8={high:3,normal:2,low:1}});var m=I((C7,r0)=>{var{defineProperty:w0,getOwnPropertyDescriptor:K9,getOwnPropertyNames:z9}=Object,B9=Object.prototype.hasOwnProperty,T=($,W)=>w0($,"name",{value:W,configurable:!0}),H9=($,W)=>{for(var Z in W)w0($,Z,{get:W[Z],enumerable:!0})},l0=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of z9(W))if(!B9.call($,J)&&J!==Z)w0($,J,{get:()=>W[J],enumerable:!(Y=K9(W,J))||Y.enumerable})}return $},q9=($,W,Z)=>(l0($,W,"default"),Z&&l0(Z,W,"default")),M9=($)=>l0(w0({},"__esModule",{value:!0}),$),i0={};H9(i0,{Client:()=>V9,Command:()=>X8,NoOpLogger:()=>b9,SENSITIVE_STRING:()=>I9,ServiceException:()=>R9,_json:()=>n0,collectBody:()=>m0.collectBody,convertMap:()=>h9,createAggregatedClient:()=>A9,decorateServiceException:()=>F8,emitWarningIfUnsupportedVersion:()=>P9,extendedEncodeURIComponent:()=>m0.extendedEncodeURIComponent,getArrayIfSingleItem:()=>_9,getDefaultClientConfiguration:()=>N9,getDefaultExtensionConfiguration:()=>K8,getValueFromTextNode:()=>z8,isSerializableHeaderValue:()=>f9,loadConfigsForDefaultMode:()=>C9,map:()=>o0,resolveDefaultRuntimeConfig:()=>D9,resolvedPath:()=>m0.resolvedPath,serializeDateTime:()=>c9,serializeFloat:()=>u9,take:()=>y9,throwDefaultError:()=>L8,withBaseException:()=>T9});r0.exports=M9(i0);var U8=J8(),V9=class{constructor($){this.config=$,this.middlewareStack=U8.constructStack()}static{T(this,"Client")}send($,W,Z){let Y=typeof W!=="function"?W:void 0,J=typeof W==="function"?W:Z,G=Y===void 0&&this.config.cacheMiddleware===!0,Q;if(G){if(!this.handlers)this.handlers=new WeakMap;let U=this.handlers;if(U.has($.constructor))Q=U.get($.constructor);else Q=$.resolveMiddleware(this.middlewareStack,this.config,Y),U.set($.constructor,Q)}else delete this.handlers,Q=$.resolveMiddleware(this.middlewareStack,this.config,Y);if(J)Q($).then((U)=>J(null,U.output),(U)=>J(U)).catch(()=>{});else return Q($).then((U)=>U.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},m0=v(),s0=u1(),X8=class{constructor(){this.middlewareStack=U8.constructStack()}static{T(this,"Command")}static classBuilder(){return new w9}resolveMiddlewareWithContext($,W,Z,{middlewareFn:Y,clientName:J,commandName:G,inputFilterSensitiveLog:Q,outputFilterSensitiveLog:U,smithyContext:X,additionalContext:F,CommandCtor:L}){for(let q of Y.bind(this)(L,$,W,Z))this.middlewareStack.use(q);let K=$.concat(this.middlewareStack),{logger:z}=W,B={logger:z,clientName:J,commandName:G,inputFilterSensitiveLog:Q,outputFilterSensitiveLog:U,[s0.SMITHY_CONTEXT_KEY]:{commandInstance:this,...X},...F},{requestHandler:H}=W;return K.resolve((q)=>H.handle(q.request,Z||{}),B)}},w9=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=($)=>$,this._outputFilterSensitiveLog=($)=>$,this._serializer=null,this._deserializer=null}static{T(this,"ClassBuilder")}init($){this._init=$}ep($){return this._ep=$,this}m($){return this._middlewareFn=$,this}s($,W,Z={}){return this._smithyContext={service:$,operation:W,...Z},this}c($={}){return this._additionalContext=$,this}n($,W){return this._clientName=$,this._commandName=W,this}f($=(Z)=>Z,W=(Z)=>Z){return this._inputFilterSensitiveLog=$,this._outputFilterSensitiveLog=W,this}ser($){return this._serializer=$,this}de($){return this._deserializer=$,this}sc($){return this._operationSchema=$,this._smithyContext.operationSchema=$,this}build(){let $=this,W;return W=class extends X8{constructor(...[Z]){super();this.serialize=$._serializer,this.deserialize=$._deserializer,this.input=Z??{},$._init(this),this.schema=$._operationSchema}static{T(this,"CommandRef")}static getEndpointParameterInstructions(){return $._ep}resolveMiddleware(Z,Y,J){return this.resolveMiddlewareWithContext(Z,Y,J,{CommandCtor:W,middlewareFn:$._middlewareFn,clientName:$._clientName,commandName:$._commandName,inputFilterSensitiveLog:$._inputFilterSensitiveLog,outputFilterSensitiveLog:$._outputFilterSensitiveLog,smithyContext:$._smithyContext,additionalContext:$._additionalContext})}}}},I9="***SensitiveInformation***",A9=T(($,W)=>{for(let Z of Object.keys($)){let Y=$[Z],J=T(async function(Q,U,X){let F=new Y(Q);if(typeof U==="function")this.send(F,U);else if(typeof X==="function"){if(typeof U!=="object")throw new Error(`Expected http options but got ${typeof U}`);this.send(F,U||{},X)}else return this.send(F,U)},"methodImpl"),G=(Z[0].toLowerCase()+Z.slice(1)).replace(/Command$/,"");W.prototype[G]=J}},"createAggregatedClient"),R9=class $ extends Error{static{T(this,"ServiceException")}constructor(W){super(W.message);Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=W.name,this.$fault=W.$fault,this.$metadata=W.$metadata}static isInstance(W){if(!W)return!1;let Z=W;return $.prototype.isPrototypeOf(Z)||Boolean(Z.$fault)&&Boolean(Z.$metadata)&&(Z.$fault==="client"||Z.$fault==="server")}static[Symbol.hasInstance](W){if(!W)return!1;let Z=W;if(this===$)return $.isInstance(W);if($.isInstance(W)){if(Z.name&&this.name)return this.prototype.isPrototypeOf(W)||Z.name===this.name;return this.prototype.isPrototypeOf(W)}return!1}},F8=T(($,W={})=>{Object.entries(W).filter(([,Y])=>Y!==void 0).forEach(([Y,J])=>{if($[Y]==null||$[Y]==="")$[Y]=J});let Z=$.message||$.Message||"UnknownError";return $.message=Z,delete $.Message,$},"decorateServiceException"),L8=T(({output:$,parsedBody:W,exceptionCtor:Z,errorCode:Y})=>{let J=O9($),G=J.httpStatusCode?J.httpStatusCode+"":void 0,Q=new Z({name:W?.code||W?.Code||Y||G||"UnknownError",$fault:"client",$metadata:J});throw F8(Q,W)},"throwDefaultError"),T9=T(($)=>{return({output:W,parsedBody:Z,errorCode:Y})=>{L8({output:W,parsedBody:Z,exceptionCtor:$,errorCode:Y})}},"withBaseException"),O9=T(($)=>({httpStatusCode:$.statusCode,requestId:$.headers["x-amzn-requestid"]??$.headers["x-amzn-request-id"]??$.headers["x-amz-request-id"],extendedRequestId:$.headers["x-amz-id-2"],cfId:$.headers["x-amz-cf-id"]}),"deserializeMetadata"),C9=T(($)=>{switch($){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:30000};default:return{}}},"loadConfigsForDefaultMode"),Q8=!1,P9=T(($)=>{if($&&!Q8&&parseInt($.substring(1,$.indexOf(".")))<16)Q8=!0},"emitWarningIfUnsupportedVersion"),E9=T(($)=>{let W=[];for(let Z in s0.AlgorithmId){let Y=s0.AlgorithmId[Z];if($[Y]===void 0)continue;W.push({algorithmId:()=>Y,checksumConstructor:()=>$[Y]})}return{addChecksumAlgorithm(Z){W.push(Z)},checksumAlgorithms(){return W}}},"getChecksumConfiguration"),k9=T(($)=>{let W={};return $.checksumAlgorithms().forEach((Z)=>{W[Z.algorithmId()]=Z.checksumConstructor()}),W},"resolveChecksumRuntimeConfig"),j9=T(($)=>{return{setRetryStrategy(W){$.retryStrategy=W},retryStrategy(){return $.retryStrategy}}},"getRetryConfiguration"),S9=T(($)=>{let W={};return W.retryStrategy=$.retryStrategy(),W},"resolveRetryRuntimeConfig"),K8=T(($)=>{return Object.assign(E9($),j9($))},"getDefaultExtensionConfiguration"),N9=K8,D9=T(($)=>{return Object.assign(k9($),S9($))},"resolveDefaultRuntimeConfig"),_9=T(($)=>Array.isArray($)?$:[$],"getArrayIfSingleItem"),z8=T(($)=>{for(let Z in $)if($.hasOwnProperty(Z)&&$[Z]["#text"]!==void 0)$[Z]=$[Z]["#text"];else if(typeof $[Z]==="object"&&$[Z]!==null)$[Z]=z8($[Z]);return $},"getValueFromTextNode"),f9=T(($)=>{return $!=null},"isSerializableHeaderValue"),b9=class{static{T(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function o0($,W,Z){let Y,J,G;if(typeof W==="undefined"&&typeof Z==="undefined")Y={},G=$;else if(Y=$,typeof W==="function")return J=W,G=Z,v9(Y,J,G);else G=W;for(let Q of Object.keys(G)){if(!Array.isArray(G[Q])){Y[Q]=G[Q];continue}B8(Y,null,G,Q)}return Y}T(o0,"map");var h9=T(($)=>{let W={};for(let[Z,Y]of Object.entries($||{}))W[Z]=[,Y];return W},"convertMap"),y9=T(($,W)=>{let Z={};for(let Y in W)B8(Z,$,W,Y);return Z},"take"),v9=T(($,W,Z)=>{return o0($,Object.entries(Z).reduce((Y,[J,G])=>{if(Array.isArray(G))Y[J]=G;else if(typeof G==="function")Y[J]=[W,G()];else Y[J]=[W,G];return Y},{}))},"mapWithFilter"),B8=T(($,W,Z,Y)=>{if(W!==null){let Q=Z[Y];if(typeof Q==="function")Q=[,Q];let[U=x9,X=g9,F=Y]=Q;if(typeof U==="function"&&U(W[F])||typeof U!=="function"&&!!U)$[Y]=X(W[F]);return}let[J,G]=Z[Y];if(typeof G==="function"){let Q,U=J===void 0&&(Q=G())!=null,X=typeof J==="function"&&!!J(void 0)||typeof J!=="function"&&!!J;if(U)$[Y]=Q;else if(X)$[Y]=G()}else{let Q=J===void 0&&G!=null,U=typeof J==="function"&&!!J(G)||typeof J!=="function"&&!!J;if(Q||U)$[Y]=G}},"applyInstruction"),x9=T(($)=>$!=null,"nonNullish"),g9=T(($)=>$,"pass"),u9=T(($)=>{if($!==$)return"NaN";switch($){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return $}},"serializeFloat"),c9=T(($)=>$.toISOString().replace(".000Z","Z"),"serializeDateTime"),n0=T(($)=>{if($==null)return{};if(Array.isArray($))return $.filter((W)=>W!=null).map(n0);if(typeof $==="object"){let W={};for(let Z of Object.keys($)){if($[Z]==null)continue;W[Z]=n0($[Z])}return W}return $},"_json");q9(i0,g(),r0.exports)});var p8=I((N7,R0)=>{var H8,q8,M8,V8,w8,I8,A8,R8,T8,O8,C8,P8,E8,I0,a0,k8,j8,S8,r,N8,D8,_8,f8,b8,h8,y8,v8,x8,A0,g8,u8,c8;(function($){var W=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd)define("tslib",["exports"],function(Y){$(Z(W,Z(Y)))});else if(typeof R0==="object"&&typeof N7==="object")$(Z(W,Z(N7)));else $(Z(W));function Z(Y,J){if(Y!==W)if(typeof Object.create==="function")Object.defineProperty(Y,"__esModule",{value:!0});else Y.__esModule=!0;return function(G,Q){return Y[G]=J?J(G,Q):Q}}})(function($){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Q){G.__proto__=Q}||function(G,Q){for(var U in Q)if(Object.prototype.hasOwnProperty.call(Q,U))G[U]=Q[U]};H8=function(G,Q){if(typeof Q!=="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");W(G,Q);function U(){this.constructor=G}G.prototype=Q===null?Object.create(Q):(U.prototype=Q.prototype,new U)},q8=Object.assign||function(G){for(var Q,U=1,X=arguments.length;U<X;U++){Q=arguments[U];for(var F in Q)if(Object.prototype.hasOwnProperty.call(Q,F))G[F]=Q[F]}return G},M8=function(G,Q){var U={};for(var X in G)if(Object.prototype.hasOwnProperty.call(G,X)&&Q.indexOf(X)<0)U[X]=G[X];if(G!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var F=0,X=Object.getOwnPropertySymbols(G);F<X.length;F++)if(Q.indexOf(X[F])<0&&Object.prototype.propertyIsEnumerable.call(G,X[F]))U[X[F]]=G[X[F]]}return U},V8=function(G,Q,U,X){var F=arguments.length,L=F<3?Q:X===null?X=Object.getOwnPropertyDescriptor(Q,U):X,K;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")L=Reflect.decorate(G,Q,U,X);else for(var z=G.length-1;z>=0;z--)if(K=G[z])L=(F<3?K(L):F>3?K(Q,U,L):K(Q,U))||L;return F>3&&L&&Object.defineProperty(Q,U,L),L},w8=function(G,Q){return function(U,X){Q(U,X,G)}},I8=function(G,Q,U,X,F,L){function K(D){if(D!==void 0&&typeof D!=="function")throw new TypeError("Function expected");return D}var z=X.kind,B=z==="getter"?"get":z==="setter"?"set":"value",H=!Q&&G?X.static?G:G.prototype:null,q=Q||(H?Object.getOwnPropertyDescriptor(H,X.name):{}),M,w=!1;for(var V=U.length-1;V>=0;V--){var A={};for(var O in X)A[O]=O==="access"?{}:X[O];for(var O in X.access)A.access[O]=X.access[O];A.addInitializer=function(D){if(w)throw new TypeError("Cannot add initializers after decoration has completed");L.push(K(D||null))};var k=U[V](z==="accessor"?{get:q.get,set:q.set}:q[B],A);if(z==="accessor"){if(k===void 0)continue;if(k===null||typeof k!=="object")throw new TypeError("Object expected");if(M=K(k.get))q.get=M;if(M=K(k.set))q.set=M;if(M=K(k.init))F.unshift(M)}else if(M=K(k))if(z==="field")F.unshift(M);else q[B]=M}if(H)Object.defineProperty(H,X.name,q);w=!0},A8=function(G,Q,U){var X=arguments.length>2;for(var F=0;F<Q.length;F++)U=X?Q[F].call(G,U):Q[F].call(G);return X?U:void 0},R8=function(G){return typeof G==="symbol"?G:"".concat(G)},T8=function(G,Q,U){if(typeof Q==="symbol")Q=Q.description?"[".concat(Q.description,"]"):"";return Object.defineProperty(G,"name",{configurable:!0,value:U?"".concat(U," ",Q):Q})},O8=function(G,Q){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(G,Q)},C8=function(G,Q,U,X){function F(L){return L instanceof U?L:new U(function(K){K(L)})}return new(U||(U=Promise))(function(L,K){function z(q){try{H(X.next(q))}catch(M){K(M)}}function B(q){try{H(X.throw(q))}catch(M){K(M)}}function H(q){q.done?L(q.value):F(q.value).then(z,B)}H((X=X.apply(G,Q||[])).next())})},P8=function(G,Q){var U={label:0,sent:function(){if(L[0]&1)throw L[1];return L[1]},trys:[],ops:[]},X,F,L,K=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return K.next=z(0),K.throw=z(1),K.return=z(2),typeof Symbol==="function"&&(K[Symbol.iterator]=function(){return this}),K;function z(H){return function(q){return B([H,q])}}function B(H){if(X)throw new TypeError("Generator is already executing.");while(K&&(K=0,H[0]&&(U=0)),U)try{if(X=1,F&&(L=H[0]&2?F.return:H[0]?F.throw||((L=F.return)&&L.call(F),0):F.next)&&!(L=L.call(F,H[1])).done)return L;if(F=0,L)H=[H[0]&2,L.value];switch(H[0]){case 0:case 1:L=H;break;case 4:return U.label++,{value:H[1],done:!1};case 5:U.label++,F=H[1],H=[0];continue;case 7:H=U.ops.pop(),U.trys.pop();continue;default:if((L=U.trys,!(L=L.length>0&&L[L.length-1]))&&(H[0]===6||H[0]===2)){U=0;continue}if(H[0]===3&&(!L||H[1]>L[0]&&H[1]<L[3])){U.label=H[1];break}if(H[0]===6&&U.label<L[1]){U.label=L[1],L=H;break}if(L&&U.label<L[2]){U.label=L[2],U.ops.push(H);break}if(L[2])U.ops.pop();U.trys.pop();continue}H=Q.call(G,U)}catch(q){H=[6,q],F=0}finally{X=L=0}if(H[0]&5)throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}},E8=function(G,Q){for(var U in G)if(U!=="default"&&!Object.prototype.hasOwnProperty.call(Q,U))A0(Q,G,U)},A0=Object.create?function(G,Q,U,X){if(X===void 0)X=U;var F=Object.getOwnPropertyDescriptor(Q,U);if(!F||("get"in F?!Q.__esModule:F.writable||F.configurable))F={enumerable:!0,get:function(){return Q[U]}};Object.defineProperty(G,X,F)}:function(G,Q,U,X){if(X===void 0)X=U;G[X]=Q[U]},I0=function(G){var Q=typeof Symbol==="function"&&Symbol.iterator,U=Q&&G[Q],X=0;if(U)return U.call(G);if(G&&typeof G.length==="number")return{next:function(){if(G&&X>=G.length)G=void 0;return{value:G&&G[X++],done:!G}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")},a0=function(G,Q){var U=typeof Symbol==="function"&&G[Symbol.iterator];if(!U)return G;var X=U.call(G),F,L=[],K;try{while((Q===void 0||Q-- >0)&&!(F=X.next()).done)L.push(F.value)}catch(z){K={error:z}}finally{try{if(F&&!F.done&&(U=X.return))U.call(X)}finally{if(K)throw K.error}}return L},k8=function(){for(var G=[],Q=0;Q<arguments.length;Q++)G=G.concat(a0(arguments[Q]));return G},j8=function(){for(var G=0,Q=0,U=arguments.length;Q<U;Q++)G+=arguments[Q].length;for(var X=Array(G),F=0,Q=0;Q<U;Q++)for(var L=arguments[Q],K=0,z=L.length;K<z;K++,F++)X[F]=L[K];return X},S8=function(G,Q,U){if(U||arguments.length===2){for(var X=0,F=Q.length,L;X<F;X++)if(L||!(X in Q)){if(!L)L=Array.prototype.slice.call(Q,0,X);L[X]=Q[X]}}return G.concat(L||Array.prototype.slice.call(Q))},r=function(G){return this instanceof r?(this.v=G,this):new r(G)},N8=function(G,Q,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X=U.apply(G,Q||[]),F,L=[];return F=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),z("next"),z("throw"),z("return",K),F[Symbol.asyncIterator]=function(){return this},F;function K(V){return function(A){return Promise.resolve(A).then(V,M)}}function z(V,A){if(X[V]){if(F[V]=function(O){return new Promise(function(k,D){L.push([V,O,k,D])>1||B(V,O)})},A)F[V]=A(F[V])}}function B(V,A){try{H(X[V](A))}catch(O){w(L[0][3],O)}}function H(V){V.value instanceof r?Promise.resolve(V.value.v).then(q,M):w(L[0][2],V)}function q(V){B("next",V)}function M(V){B("throw",V)}function w(V,A){if(V(A),L.shift(),L.length)B(L[0][0],L[0][1])}},D8=function(G){var Q,U;return Q={},X("next"),X("throw",function(F){throw F}),X("return"),Q[Symbol.iterator]=function(){return this},Q;function X(F,L){Q[F]=G[F]?function(K){return(U=!U)?{value:r(G[F](K)),done:!1}:L?L(K):K}:L}},_8=function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=G[Symbol.asyncIterator],U;return Q?Q.call(G):(G=typeof I0==="function"?I0(G):G[Symbol.iterator](),U={},X("next"),X("throw"),X("return"),U[Symbol.asyncIterator]=function(){return this},U);function X(L){U[L]=G[L]&&function(K){return new Promise(function(z,B){K=G[L](K),F(z,B,K.done,K.value)})}}function F(L,K,z,B){Promise.resolve(B).then(function(H){L({value:H,done:z})},K)}},f8=function(G,Q){if(Object.defineProperty)Object.defineProperty(G,"raw",{value:Q});else G.raw=Q;return G};var Z=Object.create?function(G,Q){Object.defineProperty(G,"default",{enumerable:!0,value:Q})}:function(G,Q){G.default=Q},Y=function(G){return Y=Object.getOwnPropertyNames||function(Q){var U=[];for(var X in Q)if(Object.prototype.hasOwnProperty.call(Q,X))U[U.length]=X;return U},Y(G)};b8=function(G){if(G&&G.__esModule)return G;var Q={};if(G!=null){for(var U=Y(G),X=0;X<U.length;X++)if(U[X]!=="default")A0(Q,G,U[X])}return Z(Q,G),Q},h8=function(G){return G&&G.__esModule?G:{default:G}},y8=function(G,Q,U,X){if(U==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof Q==="function"?G!==Q||!X:!Q.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return U==="m"?X:U==="a"?X.call(G):X?X.value:Q.get(G)},v8=function(G,Q,U,X,F){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!F)throw new TypeError("Private accessor was defined without a setter");if(typeof Q==="function"?G!==Q||!F:!Q.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?F.call(G,U):F?F.value=U:Q.set(G,U),U},x8=function(G,Q){if(Q===null||typeof Q!=="object"&&typeof Q!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof G==="function"?Q===G:G.has(Q)},g8=function(G,Q,U){if(Q!==null&&Q!==void 0){if(typeof Q!=="object"&&typeof Q!=="function")throw new TypeError("Object expected.");var X,F;if(U){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");X=Q[Symbol.asyncDispose]}if(X===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");if(X=Q[Symbol.dispose],U)F=X}if(typeof X!=="function")throw new TypeError("Object not disposable.");if(F)X=function(){try{F.call(this)}catch(L){return Promise.reject(L)}};G.stack.push({value:Q,dispose:X,async:U})}else if(U)G.stack.push({async:!0});return Q};var J=typeof SuppressedError==="function"?SuppressedError:function(G,Q,U){var X=new Error(U);return X.name="SuppressedError",X.error=G,X.suppressed=Q,X};u8=function(G){function Q(L){G.error=G.hasError?new J(L,G.error,"An error was suppressed during disposal."):L,G.hasError=!0}var U,X=0;function F(){while(U=G.stack.pop())try{if(!U.async&&X===1)return X=0,G.stack.push(U),Promise.resolve().then(F);if(U.dispose){var L=U.dispose.call(U.value);if(U.async)return X|=2,Promise.resolve(L).then(F,function(K){return Q(K),F()})}else X|=1}catch(K){Q(K)}if(X===1)return G.hasError?Promise.reject(G.error):Promise.resolve();if(G.hasError)throw G.error}return F()},c8=function(G,Q){if(typeof G==="string"&&/^\.\.?\//.test(G))return G.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(U,X,F,L,K){return X?Q?".jsx":".js":F&&(!L||!K)?U:F+L+"."+K.toLowerCase()+"js"});return G},$("__extends",H8),$("__assign",q8),$("__rest",M8),$("__decorate",V8),$("__param",w8),$("__esDecorate",I8),$("__runInitializers",A8),$("__propKey",R8),$("__setFunctionName",T8),$("__metadata",O8),$("__awaiter",C8),$("__generator",P8),$("__exportStar",E8),$("__createBinding",A0),$("__values",I0),$("__read",a0),$("__spread",k8),$("__spreadArrays",j8),$("__spreadArray",S8),$("__await",r),$("__asyncGenerator",N8),$("__asyncDelegator",D8),$("__asyncValues",_8),$("__makeTemplateObject",f8),$("__importStar",b8),$("__importDefault",h8),$("__classPrivateFieldGet",y8),$("__classPrivateFieldSet",v8),$("__classPrivateFieldIn",x8),$("__addDisposableResource",g8),$("__disposeResources",u8),$("__rewriteRelativeImportExtension",c8)})});var M$=I((D7,q$)=>{var{defineProperty:j0,getOwnPropertyDescriptor:l9,getOwnPropertyNames:s9}=Object,n9=Object.prototype.hasOwnProperty,j=($,W)=>j0($,"name",{value:W,configurable:!0}),i9=($,W)=>{for(var Z in W)j0($,Z,{get:W[Z],enumerable:!0})},o9=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of s9(W))if(!n9.call($,J)&&J!==Z)j0($,J,{get:()=>W[J],enumerable:!(Y=l9(W,J))||Y.enumerable})}return $},r9=($)=>o9(j0({},"__esModule",{value:!0}),$),n8={};i9(n8,{ALGORITHM_IDENTIFIER:()=>T0,ALGORITHM_IDENTIFIER_V4A:()=>$W,ALGORITHM_QUERY_PARAM:()=>i8,ALWAYS_UNSIGNABLE_HEADERS:()=>Z$,AMZ_DATE_HEADER:()=>J1,AMZ_DATE_QUERY_PARAM:()=>W1,AUTH_HEADER:()=>G1,CREDENTIAL_QUERY_PARAM:()=>o8,DATE_HEADER:()=>t8,EVENT_ALGORITHM_IDENTIFIER:()=>J$,EXPIRES_QUERY_PARAM:()=>a8,GENERATED_HEADERS:()=>e8,HOST_HEADER:()=>t9,KEY_TYPE_IDENTIFIER:()=>Q1,MAX_CACHE_SIZE:()=>U$,MAX_PRESIGNED_TTL:()=>X$,PROXY_HEADER_PATTERN:()=>Y$,REGION_SET_PARAM:()=>a9,SEC_HEADER_PATTERN:()=>G$,SHA256_HEADER:()=>k0,SIGNATURE_HEADER:()=>$$,SIGNATURE_QUERY_PARAM:()=>Z1,SIGNED_HEADERS_QUERY_PARAM:()=>r8,SignatureV4:()=>KW,SignatureV4Base:()=>H$,TOKEN_HEADER:()=>W$,TOKEN_QUERY_PARAM:()=>Y1,UNSIGNABLE_PATTERNS:()=>e9,UNSIGNED_PAYLOAD:()=>Q$,clearCredentialCache:()=>ZW,createScope:()=>C0,getCanonicalHeaders:()=>t0,getCanonicalQuery:()=>B$,getPayloadHash:()=>P0,getSigningKey:()=>F$,hasHeader:()=>L$,moveHeadersToQuery:()=>z$,prepareRequest:()=>$1,signatureV4aContainer:()=>zW});q$.exports=r9(n8);var d8=t(),i8="X-Amz-Algorithm",o8="X-Amz-Credential",W1="X-Amz-Date",r8="X-Amz-SignedHeaders",a8="X-Amz-Expires",Z1="X-Amz-Signature",Y1="X-Amz-Security-Token",a9="X-Amz-Region-Set",G1="authorization",J1=W1.toLowerCase(),t8="date",e8=[G1,J1,t8],$$=Z1.toLowerCase(),k0="x-amz-content-sha256",W$=Y1.toLowerCase(),t9="host",Z$={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Y$=/^proxy-/,G$=/^sec-/,e9=[/^proxy-/i,/^sec-/i],T0="AWS4-HMAC-SHA256",$W="AWS4-ECDSA-P256-SHA256",J$="AWS4-HMAC-SHA256-PAYLOAD",Q$="UNSIGNED-PAYLOAD",U$=50,Q1="aws4_request",X$=604800,u=m9(),WW=t(),a={},O0=[],C0=j(($,W,Z)=>`${$}/${W}/${Z}/${Q1}`,"createScope"),F$=j(async($,W,Z,Y,J)=>{let G=await m8($,W.secretAccessKey,W.accessKeyId),Q=`${Z}:${Y}:${J}:${u.toHex(G)}:${W.sessionToken}`;if(Q in a)return a[Q];O0.push(Q);while(O0.length>U$)delete a[O0.shift()];let U=`AWS4${W.secretAccessKey}`;for(let X of[Z,Y,J,Q1])U=await m8($,U,X);return a[Q]=U},"getSigningKey"),ZW=j(()=>{O0.length=0,Object.keys(a).forEach(($)=>{delete a[$]})},"clearCredentialCache"),m8=j(($,W,Z)=>{let Y=new $(W);return Y.update(WW.toUint8Array(Z)),Y.digest()},"hmac"),t0=j(({headers:$},W,Z)=>{let Y={};for(let J of Object.keys($).sort()){if($[J]==null)continue;let G=J.toLowerCase();if(G in Z$||W?.has(G)||Y$.test(G)||G$.test(G)){if(!Z||Z&&!Z.has(G))continue}Y[G]=$[J].trim().replace(/\s+/g," ")}return Y},"getCanonicalHeaders"),YW=p9(),GW=t(),P0=j(async({headers:$,body:W},Z)=>{for(let Y of Object.keys($))if(Y.toLowerCase()===k0)return $[Y];if(W==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";else if(typeof W==="string"||ArrayBuffer.isView(W)||YW.isArrayBuffer(W)){let Y=new Z;return Y.update(GW.toUint8Array(W)),u.toHex(await Y.digest())}return Q$},"getPayloadHash"),l8=t(),JW=class{static{j(this,"HeaderFormatter")}format($){let W=[];for(let J of Object.keys($)){let G=l8.fromUtf8(J);W.push(Uint8Array.from([G.byteLength]),G,this.formatHeaderValue($[J]))}let Z=new Uint8Array(W.reduce((J,G)=>J+G.byteLength,0)),Y=0;for(let J of W)Z.set(J,Y),Y+=J.byteLength;return Z}formatHeaderValue($){switch($.type){case"boolean":return Uint8Array.from([$.value?0:1]);case"byte":return Uint8Array.from([2,$.value]);case"short":let W=new DataView(new ArrayBuffer(3));return W.setUint8(0,3),W.setInt16(1,$.value,!1),new Uint8Array(W.buffer);case"integer":let Z=new DataView(new ArrayBuffer(5));return Z.setUint8(0,4),Z.setInt32(1,$.value,!1),new Uint8Array(Z.buffer);case"long":let Y=new Uint8Array(9);return Y[0]=5,Y.set($.value.bytes,1),Y;case"binary":let J=new DataView(new ArrayBuffer(3+$.value.byteLength));J.setUint8(0,6),J.setUint16(1,$.value.byteLength,!1);let G=new Uint8Array(J.buffer);return G.set($.value,3),G;case"string":let Q=l8.fromUtf8($.value),U=new DataView(new ArrayBuffer(3+Q.byteLength));U.setUint8(0,7),U.setUint16(1,Q.byteLength,!1);let X=new Uint8Array(U.buffer);return X.set(Q,3),X;case"timestamp":let F=new Uint8Array(9);return F[0]=8,F.set(UW.fromNumber($.value.valueOf()).bytes,1),F;case"uuid":if(!QW.test($.value))throw new Error(`Invalid UUID received: ${$.value}`);let L=new Uint8Array(17);return L[0]=9,L.set(u.fromHex($.value.replace(/\-/g,"")),1),L}}},QW=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,UW=class ${constructor(W){if(this.bytes=W,W.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{j(this,"Int64")}static fromNumber(W){if(W>9223372036854776000||W<-9223372036854776000)throw new Error(`${W} is too large (or, if negative, too small) to represent as an Int64`);let Z=new Uint8Array(8);for(let Y=7,J=Math.abs(Math.round(W));Y>-1&&J>0;Y--,J/=256)Z[Y]=J;if(W<0)e0(Z);return new $(Z)}valueOf(){let W=this.bytes.slice(0),Z=W[0]&128;if(Z)e0(W);return parseInt(u.toHex(W),16)*(Z?-1:1)}toString(){return String(this.valueOf())}};function e0($){for(let W=0;W<8;W++)$[W]^=255;for(let W=7;W>-1;W--)if($[W]++,$[W]!==0)break}j(e0,"negate");var L$=j(($,W)=>{$=$.toLowerCase();for(let Z of Object.keys(W))if($===Z.toLowerCase())return!0;return!1},"hasHeader"),K$=o(),z$=j(($,W={})=>{let{headers:Z,query:Y={}}=K$.HttpRequest.clone($);for(let J of Object.keys(Z)){let G=J.toLowerCase();if(G.slice(0,6)==="x-amz-"&&!W.unhoistableHeaders?.has(G)||W.hoistableHeaders?.has(G))Y[J]=Z[J],delete Z[J]}return{...$,headers:Z,query:Y}},"moveHeadersToQuery"),$1=j(($)=>{$=K$.HttpRequest.clone($);for(let W of Object.keys($.headers))if(e8.indexOf(W.toLowerCase())>-1)delete $.headers[W];return $},"prepareRequest"),s8=c1(),XW=t(),E0=d9(),B$=j(({query:$={}})=>{let W=[],Z={};for(let Y of Object.keys($)){if(Y.toLowerCase()===$$)continue;let J=E0.escapeUri(Y);W.push(J);let G=$[Y];if(typeof G==="string")Z[J]=`${J}=${E0.escapeUri(G)}`;else if(Array.isArray(G))Z[J]=G.slice(0).reduce((Q,U)=>Q.concat([`${J}=${E0.escapeUri(U)}`]),[]).sort().join("&")}return W.sort().map((Y)=>Z[Y]).filter((Y)=>Y).join("&")},"getCanonicalQuery"),FW=j(($)=>LW($).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),LW=j(($)=>{if(typeof $==="number")return new Date($*1000);if(typeof $==="string"){if(Number($))return new Date(Number($)*1000);return new Date($)}return $},"toDate"),H$=class{static{j(this,"SignatureV4Base")}constructor({applyChecksum:$,credentials:W,region:Z,service:Y,sha256:J,uriEscapePath:G=!0}){this.service=Y,this.sha256=J,this.uriEscapePath=G,this.applyChecksum=typeof $==="boolean"?$:!0,this.regionProvider=s8.normalizeProvider(Z),this.credentialProvider=s8.normalizeProvider(W)}createCanonicalRequest($,W,Z){let Y=Object.keys(W).sort();return`${$.method}
${this.getCanonicalPath($)}
${B$($)}
${Y.map((J)=>`${J}:${W[J]}`).join(`
`)}

${Y.join(";")}
${Z}`}async createStringToSign($,W,Z,Y){let J=new this.sha256;J.update(XW.toUint8Array(Z));let G=await J.digest();return`${Y}
${$}
${W}
${u.toHex(G)}`}getCanonicalPath({path:$}){if(this.uriEscapePath){let W=[];for(let J of $.split("/")){if(J?.length===0)continue;if(J===".")continue;if(J==="..")W.pop();else W.push(J)}let Z=`${$?.startsWith("/")?"/":""}${W.join("/")}${W.length>0&&$?.endsWith("/")?"/":""}`;return E0.escapeUri(Z).replace(/%2F/g,"/")}return $}validateResolvedCredentials($){if(typeof $!=="object"||typeof $.accessKeyId!=="string"||typeof $.secretAccessKey!=="string")throw new Error("Resolved credential object is not valid")}formatDate($){let W=FW($).replace(/[\-:]/g,"");return{longDate:W,shortDate:W.slice(0,8)}}getCanonicalHeaderList($){return Object.keys($).sort().join(";")}},KW=class extends H${constructor({applyChecksum:$,credentials:W,region:Z,service:Y,sha256:J,uriEscapePath:G=!0}){super({applyChecksum:$,credentials:W,region:Z,service:Y,sha256:J,uriEscapePath:G});this.headerFormatter=new JW}static{j(this,"SignatureV4")}async presign($,W={}){let{signingDate:Z=new Date,expiresIn:Y=3600,unsignableHeaders:J,unhoistableHeaders:G,signableHeaders:Q,hoistableHeaders:U,signingRegion:X,signingService:F}=W,L=await this.credentialProvider();this.validateResolvedCredentials(L);let K=X??await this.regionProvider(),{longDate:z,shortDate:B}=this.formatDate(Z);if(Y>X$)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let H=C0(B,K,F??this.service),q=z$($1($),{unhoistableHeaders:G,hoistableHeaders:U});if(L.sessionToken)q.query[Y1]=L.sessionToken;q.query[i8]=T0,q.query[o8]=`${L.accessKeyId}/${H}`,q.query[W1]=z,q.query[a8]=Y.toString(10);let M=t0(q,J,Q);return q.query[r8]=this.getCanonicalHeaderList(M),q.query[Z1]=await this.getSignature(z,H,this.getSigningKey(L,K,B,F),this.createCanonicalRequest(q,M,await P0($,this.sha256))),q}async sign($,W){if(typeof $==="string")return this.signString($,W);else if($.headers&&$.payload)return this.signEvent($,W);else if($.message)return this.signMessage($,W);else return this.signRequest($,W)}async signEvent({headers:$,payload:W},{signingDate:Z=new Date,priorSignature:Y,signingRegion:J,signingService:G}){let Q=J??await this.regionProvider(),{shortDate:U,longDate:X}=this.formatDate(Z),F=C0(U,Q,G??this.service),L=await P0({headers:{},body:W},this.sha256),K=new this.sha256;K.update($);let z=u.toHex(await K.digest()),B=[J$,X,F,Y,z,L].join(`
`);return this.signString(B,{signingDate:Z,signingRegion:Q,signingService:G})}async signMessage($,{signingDate:W=new Date,signingRegion:Z,signingService:Y}){return this.signEvent({headers:this.headerFormatter.format($.message.headers),payload:$.message.body},{signingDate:W,signingRegion:Z,signingService:Y,priorSignature:$.priorSignature}).then((G)=>{return{message:$.message,signature:G}})}async signString($,{signingDate:W=new Date,signingRegion:Z,signingService:Y}={}){let J=await this.credentialProvider();this.validateResolvedCredentials(J);let G=Z??await this.regionProvider(),{shortDate:Q}=this.formatDate(W),U=new this.sha256(await this.getSigningKey(J,G,Q,Y));return U.update(d8.toUint8Array($)),u.toHex(await U.digest())}async signRequest($,{signingDate:W=new Date,signableHeaders:Z,unsignableHeaders:Y,signingRegion:J,signingService:G}={}){let Q=await this.credentialProvider();this.validateResolvedCredentials(Q);let U=J??await this.regionProvider(),X=$1($),{longDate:F,shortDate:L}=this.formatDate(W),K=C0(L,U,G??this.service);if(X.headers[J1]=F,Q.sessionToken)X.headers[W$]=Q.sessionToken;let z=await P0(X,this.sha256);if(!L$(k0,X.headers)&&this.applyChecksum)X.headers[k0]=z;let B=t0(X,Y,Z),H=await this.getSignature(F,K,this.getSigningKey(Q,U,L,G),this.createCanonicalRequest(X,B,z));return X.headers[G1]=`${T0} Credential=${Q.accessKeyId}/${K}, SignedHeaders=${this.getCanonicalHeaderList(B)}, Signature=${H}`,X}async getSignature($,W,Z,Y){let J=await this.createStringToSign($,W,Y,T0),G=new this.sha256(await Z);return G.update(d8.toUint8Array(J)),u.toHex(await G.digest())}getSigningKey($,W,Z,Y){return F$(this.sha256,$,Z,W,Y||this.service)}},zW={SignatureV4a:null}});var D$=I((h7,N$)=>{var{defineProperty:S0,getOwnPropertyDescriptor:HW,getOwnPropertyNames:qW}=Object,MW=Object.prototype.hasOwnProperty,P=($,W)=>S0($,"name",{value:W,configurable:!0}),VW=($,W)=>{for(var Z in W)S0($,Z,{get:W[Z],enumerable:!0})},wW=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of qW(W))if(!MW.call($,J)&&J!==Z)S0($,J,{get:()=>W[J],enumerable:!(Y=HW(W,J))||Y.enumerable})}return $},IW=($)=>wW(S0({},"__esModule",{value:!0}),$),P$={};VW(P$,{AWSSDKSigV4Signer:()=>OW,AwsSdkSigV4ASigner:()=>PW,AwsSdkSigV4Signer:()=>F1,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>EW,NODE_SIGV4A_CONFIG_OPTIONS:()=>SW,getBearerTokenEnvKey:()=>E$,resolveAWSSDKSigV4Config:()=>DW,resolveAwsSdkSigV4AConfig:()=>jW,resolveAwsSdkSigV4Config:()=>k$,validateSigningProperties:()=>X1});N$.exports=IW(P$);var AW=o(),RW=o(),V$=P(($)=>RW.HttpResponse.isInstance($)?$.headers?.date??$.headers?.Date:void 0,"getDateHeader"),U1=P(($)=>new Date(Date.now()+$),"getSkewCorrectedDate"),TW=P(($,W)=>Math.abs(U1(W).getTime()-$)>=300000,"isClockSkewed"),w$=P(($,W)=>{let Z=Date.parse($);if(TW(Z,W))return Z-Date.now();return W},"getUpdatedSystemClockOffset"),Y0=P(($,W)=>{if(!W)throw new Error(`Property \`${$}\` is not resolved for AWS SDK SigV4Auth`);return W},"throwSigningPropertyError"),X1=P(async($)=>{let W=Y0("context",$.context),Z=Y0("config",$.config),Y=W.endpointV2?.properties?.authSchemes?.[0],G=await Y0("signer",Z.signer)(Y),Q=$?.signingRegion,U=$?.signingRegionSet,X=$?.signingName;return{config:Z,signer:G,signingRegion:Q,signingRegionSet:U,signingName:X}},"validateSigningProperties"),F1=class{static{P(this,"AwsSdkSigV4Signer")}async sign($,W,Z){if(!AW.HttpRequest.isInstance($))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let Y=await X1(Z),{config:J,signer:G}=Y,{signingRegion:Q,signingName:U}=Y,X=Z.context;if(X?.authSchemes?.length??0>1){let[L,K]=X.authSchemes;if(L?.name==="sigv4a"&&K?.name==="sigv4")Q=K?.signingRegion??Q,U=K?.signingName??U}return await G.sign($,{signingDate:U1(J.systemClockOffset),signingRegion:Q,signingService:U})}errorHandler($){return(W)=>{let Z=W.ServerTime??V$(W.$response);if(Z){let Y=Y0("config",$.config),J=Y.systemClockOffset;if(Y.systemClockOffset=w$(Z,Y.systemClockOffset),Y.systemClockOffset!==J&&W.$metadata)W.$metadata.clockSkewCorrected=!0}throw W}}successHandler($,W){let Z=V$($);if(Z){let Y=Y0("config",W.config);Y.systemClockOffset=w$(Z,Y.systemClockOffset)}}},OW=F1,CW=o(),PW=class extends F1{static{P(this,"AwsSdkSigV4ASigner")}async sign($,W,Z){if(!CW.HttpRequest.isInstance($))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:Y,signer:J,signingRegion:G,signingRegionSet:Q,signingName:U}=await X1(Z),F=(await Y.sigv4aSigningRegionSet?.()??Q??[G]).join(",");return await J.sign($,{signingDate:U1(Y.systemClockOffset),signingRegion:F,signingService:U})}},I$=P(($)=>typeof $==="string"&&$.length>0?$.split(",").map((W)=>W.trim()):[],"getArrayForCommaSeparatedString"),E$=P(($)=>`AWS_BEARER_TOKEN_${$.replace(/[\s-]/g,"_").toUpperCase()}`,"getBearerTokenEnvKey"),A$="AWS_AUTH_SCHEME_PREFERENCE",R$="auth_scheme_preference",EW={environmentVariableSelector:P(($,W)=>{if(W?.signingName){if(E$(W.signingName)in $)return["httpBearerAuth"]}if(!(A$ in $))return;return I$($[A$])},"environmentVariableSelector"),configFileSelector:P(($)=>{if(!(R$ in $))return;return I$($[R$])},"configFileSelector"),default:[]},kW=p0(),T$=BW(),jW=P(($)=>{return $.sigv4aSigningRegionSet=kW.normalizeProvider($.sigv4aSigningRegionSet),$},"resolveAwsSdkSigV4AConfig"),SW={environmentVariableSelector($){if($.AWS_SIGV4A_SIGNING_REGION_SET)return $.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map((W)=>W.trim());throw new T$.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector($){if($.sigv4a_signing_region_set)return($.sigv4a_signing_region_set??"").split(",").map((W)=>W.trim());throw new T$.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0},NW=C$(),l=p0(),O$=M$(),k$=P(($)=>{let W=$.credentials,Z=!!$.credentials,Y=void 0;Object.defineProperty($,"credentials",{set(F){if(F&&F!==W&&F!==Y)Z=!0;W=F;let L=j$($,{credentials:W,credentialDefaultProvider:$.credentialDefaultProvider}),K=S$($,L);if(Z&&!K.attributed)Y=P(async(z)=>K(z).then((B)=>NW.setCredentialFeature(B,"CREDENTIALS_CODE","e")),"resolvedCredentials"),Y.memoized=K.memoized,Y.configBound=K.configBound,Y.attributed=!0;else Y=K},get(){return Y},enumerable:!0,configurable:!0}),$.credentials=W;let{signingEscapePath:J=!0,systemClockOffset:G=$.systemClockOffset||0,sha256:Q}=$,U;if($.signer)U=l.normalizeProvider($.signer);else if($.regionInfoProvider)U=P(()=>l.normalizeProvider($.region)().then(async(F)=>[await $.regionInfoProvider(F,{useFipsEndpoint:await $.useFipsEndpoint(),useDualstackEndpoint:await $.useDualstackEndpoint()})||{},F]).then(([F,L])=>{let{signingRegion:K,signingService:z}=F;$.signingRegion=$.signingRegion||K||L,$.signingName=$.signingName||z||$.serviceId;let B={...$,credentials:$.credentials,region:$.signingRegion,service:$.signingName,sha256:Q,uriEscapePath:J};return new($.signerConstructor||O$.SignatureV4)(B)}),"signer");else U=P(async(F)=>{F=Object.assign({},{name:"sigv4",signingName:$.signingName||$.defaultSigningName,signingRegion:await l.normalizeProvider($.region)(),properties:{}},F);let{signingRegion:L,signingName:K}=F;$.signingRegion=$.signingRegion||L,$.signingName=$.signingName||K||$.serviceId;let z={...$,credentials:$.credentials,region:$.signingRegion,service:$.signingName,sha256:Q,uriEscapePath:J};return new($.signerConstructor||O$.SignatureV4)(z)},"signer");return Object.assign($,{systemClockOffset:G,signingEscapePath:J,signer:U})},"resolveAwsSdkSigV4Config"),DW=k$;function j$($,{credentials:W,credentialDefaultProvider:Z}){let Y;if(W)if(!W?.memoized)Y=l.memoizeIdentityProvider(W,l.isIdentityExpired,l.doesIdentityRequireRefresh);else Y=W;else if(Z)Y=l.normalizeProvider(Z(Object.assign({},$,{parentClientConfig:$})));else Y=P(async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},"credentialsProvider");return Y.memoized=!0,Y}P(j$,"normalizeCredentialProvider");function S$($,W){if(W.configBound)return W;let Z=P(async(Y)=>W({...Y,callerClientConfig:$}),"fn");return Z.memoized=W.memoized,Z.configBound=!0,Z}P(S$,"bindCallerConfig")});var G0=I((x7,b$)=>{var{defineProperty:N0,getOwnPropertyDescriptor:_W,getOwnPropertyNames:fW}=Object,bW=Object.prototype.hasOwnProperty,hW=($,W)=>N0($,"name",{value:W,configurable:!0}),yW=($,W)=>{for(var Z in W)N0($,Z,{get:W[Z],enumerable:!0})},vW=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of fW(W))if(!bW.call($,J)&&J!==Z)N0($,J,{get:()=>W[J],enumerable:!(Y=_W(W,J))||Y.enumerable})}return $},xW=($)=>vW(N0({},"__esModule",{value:!0}),$),f$={};yW(f$,{calculateBodyLength:()=>gW});b$.exports=xW(f$);var _$=typeof TextEncoder=="function"?new TextEncoder:null,gW=hW(($)=>{if(typeof $==="string"){if(_$)return _$.encode($).byteLength;let W=$.length;for(let Z=W-1;Z>=0;Z--){let Y=$.charCodeAt(Z);if(Y>127&&Y<=2047)W++;else if(Y>2047&&Y<=65535)W+=2;if(Y>=56320&&Y<=57343)Z--}return W}else if(typeof $.byteLength==="number")return $.byteLength;else if(typeof $.size==="number")return $.size;throw new Error(`Body Length computation failed for ${$}`)},"calculateBodyLength")});var D0=I((mW)=>{var uW=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",h$="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]["+uW+"]*",cW=new RegExp("^"+h$+"$"),pW=function($,W){let Z=[],Y=W.exec($);while(Y){let J=[];J.startIndex=W.lastIndex-Y[0].length;let G=Y.length;for(let Q=0;Q<G;Q++)J.push(Y[Q]);Z.push(J),Y=W.exec($)}return Z},dW=function($){let W=cW.exec($);return!(W===null||typeof W==="undefined")};mW.isExist=function($){return typeof $!=="undefined"};mW.isEmptyObject=function($){return Object.keys($).length===0};mW.merge=function($,W,Z){if(W){let Y=Object.keys(W),J=Y.length;for(let G=0;G<J;G++)if(Z==="strict")$[Y[G]]=[W[Y[G]]];else $[Y[G]]=W[Y[G]]}};mW.getValue=function($){if(mW.isExist($))return $;else return""};mW.isName=dW;mW.getAllMatches=pW;mW.nameRegexp=h$});var K1=I((Q2)=>{var L1=D0(),aW={allowBooleanAttributes:!1,unpairedTags:[]};Q2.validate=function($,W){W=Object.assign({},aW,W);let Z=[],Y=!1,J=!1;if($[0]==="\uFEFF")$=$.substr(1);for(let G=0;G<$.length;G++)if($[G]==="<"&&$[G+1]==="?"){if(G+=2,G=x$($,G),G.err)return G}else if($[G]==="<"){let Q=G;if(G++,$[G]==="!"){G=g$($,G);continue}else{let U=!1;if($[G]==="/")U=!0,G++;let X="";for(;G<$.length&&$[G]!==">"&&$[G]!==" "&&$[G]!=="\t"&&$[G]!==`
`&&$[G]!=="\r";G++)X+=$[G];if(X=X.trim(),X[X.length-1]==="/")X=X.substring(0,X.length-1),G--;if(!J2(X)){let K;if(X.trim().length===0)K="Invalid space after '<'.";else K="Tag '"+X+"' is an invalid name.";return E("InvalidTag",K,N($,G))}let F=$2($,G);if(F===!1)return E("InvalidAttr","Attributes for '"+X+"' have open quote.",N($,G));let L=F.value;if(G=F.index,L[L.length-1]==="/"){let K=G-L.length;L=L.substring(0,L.length-1);let z=u$(L,W);if(z===!0)Y=!0;else return E(z.err.code,z.err.msg,N($,K+z.err.line))}else if(U)if(!F.tagClosed)return E("InvalidTag","Closing tag '"+X+"' doesn't have proper closing.",N($,G));else if(L.trim().length>0)return E("InvalidTag","Closing tag '"+X+"' can't have attributes or invalid starting.",N($,Q));else if(Z.length===0)return E("InvalidTag","Closing tag '"+X+"' has not been opened.",N($,Q));else{let K=Z.pop();if(X!==K.tagName){let z=N($,K.tagStartPos);return E("InvalidTag","Expected closing tag '"+K.tagName+"' (opened in line "+z.line+", col "+z.col+") instead of closing tag '"+X+"'.",N($,Q))}if(Z.length==0)J=!0}else{let K=u$(L,W);if(K!==!0)return E(K.err.code,K.err.msg,N($,G-L.length+K.err.line));if(J===!0)return E("InvalidXml","Multiple possible root nodes found.",N($,G));else if(W.unpairedTags.indexOf(X)!==-1);else Z.push({tagName:X,tagStartPos:Q});Y=!0}for(G++;G<$.length;G++)if($[G]==="<")if($[G+1]==="!"){G++,G=g$($,G);continue}else if($[G+1]==="?"){if(G=x$($,++G),G.err)return G}else break;else if($[G]==="&"){let K=Y2($,G);if(K==-1)return E("InvalidChar","char '&' is not expected.",N($,G));G=K}else if(J===!0&&!v$($[G]))return E("InvalidXml","Extra text at the end",N($,G));if($[G]==="<")G--}}else{if(v$($[G]))continue;return E("InvalidChar","char '"+$[G]+"' is not expected.",N($,G))}if(!Y)return E("InvalidXml","Start tag expected.",1);else if(Z.length==1)return E("InvalidTag","Unclosed tag '"+Z[0].tagName+"'.",N($,Z[0].tagStartPos));else if(Z.length>0)return E("InvalidXml","Invalid '"+JSON.stringify(Z.map((G)=>G.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1});return!0};function v$($){return $===" "||$==="\t"||$===`
`||$==="\r"}function x$($,W){let Z=W;for(;W<$.length;W++)if($[W]=="?"||$[W]==" "){let Y=$.substr(Z,W-Z);if(W>5&&Y==="xml")return E("InvalidXml","XML declaration allowed only at the start of the document.",N($,W));else if($[W]=="?"&&$[W+1]==">"){W++;break}else continue}return W}function g$($,W){if($.length>W+5&&$[W+1]==="-"&&$[W+2]==="-"){for(W+=3;W<$.length;W++)if($[W]==="-"&&$[W+1]==="-"&&$[W+2]===">"){W+=2;break}}else if($.length>W+8&&$[W+1]==="D"&&$[W+2]==="O"&&$[W+3]==="C"&&$[W+4]==="T"&&$[W+5]==="Y"&&$[W+6]==="P"&&$[W+7]==="E"){let Z=1;for(W+=8;W<$.length;W++)if($[W]==="<")Z++;else if($[W]===">"){if(Z--,Z===0)break}}else if($.length>W+9&&$[W+1]==="["&&$[W+2]==="C"&&$[W+3]==="D"&&$[W+4]==="A"&&$[W+5]==="T"&&$[W+6]==="A"&&$[W+7]==="["){for(W+=8;W<$.length;W++)if($[W]==="]"&&$[W+1]==="]"&&$[W+2]===">"){W+=2;break}}return W}var tW='"',eW="'";function $2($,W){let Z="",Y="",J=!1;for(;W<$.length;W++){if($[W]===tW||$[W]===eW)if(Y==="")Y=$[W];else if(Y!==$[W]);else Y="";else if($[W]===">"){if(Y===""){J=!0;break}}Z+=$[W]}if(Y!=="")return!1;return{value:Z,index:W,tagClosed:J}}var W2=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function u$($,W){let Z=L1.getAllMatches($,W2),Y={};for(let J=0;J<Z.length;J++){if(Z[J][1].length===0)return E("InvalidAttr","Attribute '"+Z[J][2]+"' has no space in starting.",J0(Z[J]));else if(Z[J][3]!==void 0&&Z[J][4]===void 0)return E("InvalidAttr","Attribute '"+Z[J][2]+"' is without value.",J0(Z[J]));else if(Z[J][3]===void 0&&!W.allowBooleanAttributes)return E("InvalidAttr","boolean attribute '"+Z[J][2]+"' is not allowed.",J0(Z[J]));let G=Z[J][2];if(!G2(G))return E("InvalidAttr","Attribute '"+G+"' is an invalid name.",J0(Z[J]));if(!Y.hasOwnProperty(G))Y[G]=1;else return E("InvalidAttr","Attribute '"+G+"' is repeated.",J0(Z[J]))}return!0}function Z2($,W){let Z=/\d/;if($[W]==="x")W++,Z=/[\da-fA-F]/;for(;W<$.length;W++){if($[W]===";")return W;if(!$[W].match(Z))break}return-1}function Y2($,W){if(W++,$[W]===";")return-1;if($[W]==="#")return W++,Z2($,W);let Z=0;for(;W<$.length;W++,Z++){if($[W].match(/\w/)&&Z<20)continue;if($[W]===";")break;return-1}return W}function E($,W,Z){return{err:{code:$,msg:W,line:Z.line||Z,col:Z.col}}}function G2($){return L1.isName($)}function J2($){return L1.isName($)}function N($,W){let Z=$.substring(0,W).split(/\r?\n/);return{line:Z.length,col:Z[Z.length-1].length+1}}function J0($){return $.startIndex+$[1].length}});var p$=I((F2)=>{var c$={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function($,W){return W},attributeValueProcessor:function($,W){return W},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function($,W,Z){return $}},X2=function($){return Object.assign({},c$,$)};F2.buildOptions=X2;F2.defaultOptions=c$});var l$=I((p7,m$)=>{class d${constructor($){this.tagname=$,this.child=[],this[":@"]={}}add($,W){if($==="__proto__")$="#__proto__";this.child.push({[$]:W})}addChild($){if($.tagname==="__proto__")$.tagname="#__proto__";if($[":@"]&&Object.keys($[":@"]).length>0)this.child.push({[$.tagname]:$.child,[":@"]:$[":@"]});else this.child.push({[$.tagname]:$.child})}}m$.exports=d$});var n$=I((d7,s$)=>{var z2=D0();function B2($,W){let Z={};if($[W+3]==="O"&&$[W+4]==="C"&&$[W+5]==="T"&&$[W+6]==="Y"&&$[W+7]==="P"&&$[W+8]==="E"){W=W+9;let Y=1,J=!1,G=!1,Q="";for(;W<$.length;W++)if($[W]==="<"&&!G){if(J&&M2($,W)){if(W+=7,[entityName,val,W]=H2($,W+1),val.indexOf("&")===-1)Z[A2(entityName)]={regx:RegExp(`&${entityName};`,"g"),val}}else if(J&&V2($,W))W+=8;else if(J&&w2($,W))W+=8;else if(J&&I2($,W))W+=9;else if(q2)G=!0;else throw new Error("Invalid DOCTYPE");Y++,Q=""}else if($[W]===">"){if(G){if($[W-1]==="-"&&$[W-2]==="-")G=!1,Y--}else Y--;if(Y===0)break}else if($[W]==="[")J=!0;else Q+=$[W];if(Y!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:Z,i:W}}function H2($,W){let Z="";for(;W<$.length&&($[W]!=="'"&&$[W]!=='"');W++)Z+=$[W];if(Z=Z.trim(),Z.indexOf(" ")!==-1)throw new Error("External entites are not supported");let Y=$[W++],J="";for(;W<$.length&&$[W]!==Y;W++)J+=$[W];return[Z,J,W]}function q2($,W){if($[W+1]==="!"&&$[W+2]==="-"&&$[W+3]==="-")return!0;return!1}function M2($,W){if($[W+1]==="!"&&$[W+2]==="E"&&$[W+3]==="N"&&$[W+4]==="T"&&$[W+5]==="I"&&$[W+6]==="T"&&$[W+7]==="Y")return!0;return!1}function V2($,W){if($[W+1]==="!"&&$[W+2]==="E"&&$[W+3]==="L"&&$[W+4]==="E"&&$[W+5]==="M"&&$[W+6]==="E"&&$[W+7]==="N"&&$[W+8]==="T")return!0;return!1}function w2($,W){if($[W+1]==="!"&&$[W+2]==="A"&&$[W+3]==="T"&&$[W+4]==="T"&&$[W+5]==="L"&&$[W+6]==="I"&&$[W+7]==="S"&&$[W+8]==="T")return!0;return!1}function I2($,W){if($[W+1]==="!"&&$[W+2]==="N"&&$[W+3]==="O"&&$[W+4]==="T"&&$[W+5]==="A"&&$[W+6]==="T"&&$[W+7]==="I"&&$[W+8]==="O"&&$[W+9]==="N")return!0;return!1}function A2($){if(z2.isName($))return $;else throw new Error(`Invalid entity name ${$}`)}s$.exports=B2});var o$=I((m7,i$)=>{var R2=/^[-+]?0x[a-fA-F0-9]+$/,T2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,O2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function C2($,W={}){if(W=Object.assign({},O2,W),!$||typeof $!=="string")return $;let Z=$.trim();if(W.skipLike!==void 0&&W.skipLike.test(Z))return $;else if($==="0")return 0;else if(W.hex&&R2.test(Z))return E2(Z,16);else if(Z.search(/[eE]/)!==-1){let Y=Z.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(Y){if(W.leadingZeros)Z=(Y[1]||"")+Y[3];else if(Y[2]==="0"&&Y[3][0]===".");else return $;return W.eNotation?Number(Z):$}else return $}else{let Y=T2.exec(Z);if(Y){let J=Y[1],G=Y[2],Q=P2(Y[3]);if(!W.leadingZeros&&G.length>0&&J&&Z[2]!==".")return $;else if(!W.leadingZeros&&G.length>0&&!J&&Z[1]!==".")return $;else if(W.leadingZeros&&G===$)return 0;else{let U=Number(Z),X=""+U;if(X.search(/[eE]/)!==-1)if(W.eNotation)return U;else return $;else if(Z.indexOf(".")!==-1)if(X==="0"&&Q==="")return U;else if(X===Q)return U;else if(J&&X==="-"+Q)return U;else return $;if(G)return Q===X||J+Q===X?U:$;else return Z===X||Z===J+X?U:$}}else return $}}function P2($){if($&&$.indexOf(".")!==-1){if($=$.replace(/0+$/,""),$===".")$="0";else if($[0]===".")$="0"+$;else if($[$.length-1]===".")$=$.substr(0,$.length-1);return $}return $}function E2($,W){if(parseInt)return parseInt($,W);else if(Number.parseInt)return Number.parseInt($,W);else if(window&&window.parseInt)return window.parseInt($,W);else throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}i$.exports=C2});var e$=I((l7,t$)=>{var r$=D0(),Q0=l$(),k2=n$(),j2=o$();class a${constructor($){this.options=$,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(W,Z)=>String.fromCharCode(Number.parseInt(Z,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(W,Z)=>String.fromCharCode(Number.parseInt(Z,16))}},this.addExternalEntities=S2,this.parseXml=b2,this.parseTextData=N2,this.resolveNameSpace=D2,this.buildAttributesMap=f2,this.isItStopNode=x2,this.replaceEntitiesValue=y2,this.readStopNodeData=u2,this.saveTextToParentTag=v2,this.addChild=h2}}function S2($){let W=Object.keys($);for(let Z=0;Z<W.length;Z++){let Y=W[Z];this.lastEntities[Y]={regex:new RegExp("&"+Y+";","g"),val:$[Y]}}}function N2($,W,Z,Y,J,G,Q){if($!==void 0){if(this.options.trimValues&&!Y)$=$.trim();if($.length>0){if(!Q)$=this.replaceEntitiesValue($);let U=this.options.tagValueProcessor(W,$,Z,J,G);if(U===null||U===void 0)return $;else if(typeof U!==typeof $||U!==$)return U;else if(this.options.trimValues)return B1($,this.options.parseTagValue,this.options.numberParseOptions);else if($.trim()===$)return B1($,this.options.parseTagValue,this.options.numberParseOptions);else return $}}}function D2($){if(this.options.removeNSPrefix){let W=$.split(":"),Z=$.charAt(0)==="/"?"/":"";if(W[0]==="xmlns")return"";if(W.length===2)$=Z+W[1]}return $}var _2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function f2($,W,Z){if(!this.options.ignoreAttributes&&typeof $==="string"){let Y=r$.getAllMatches($,_2),J=Y.length,G={};for(let Q=0;Q<J;Q++){let U=this.resolveNameSpace(Y[Q][1]),X=Y[Q][4],F=this.options.attributeNamePrefix+U;if(U.length){if(this.options.transformAttributeName)F=this.options.transformAttributeName(F);if(F==="__proto__")F="#__proto__";if(X!==void 0){if(this.options.trimValues)X=X.trim();X=this.replaceEntitiesValue(X);let L=this.options.attributeValueProcessor(U,X,W);if(L===null||L===void 0)G[F]=X;else if(typeof L!==typeof X||L!==X)G[F]=L;else G[F]=B1(X,this.options.parseAttributeValue,this.options.numberParseOptions)}else if(this.options.allowBooleanAttributes)G[F]=!0}}if(!Object.keys(G).length)return;if(this.options.attributesGroupName){let Q={};return Q[this.options.attributesGroupName]=G,Q}return G}}var b2=function($){$=$.replace(/\r\n?/g,`
`);let W=new Q0("!xml"),Z=W,Y="",J="";for(let G=0;G<$.length;G++)if($[G]==="<")if($[G+1]==="/"){let U=s($,">",G,"Closing Tag is not closed."),X=$.substring(G+2,U).trim();if(this.options.removeNSPrefix){let K=X.indexOf(":");if(K!==-1)X=X.substr(K+1)}if(this.options.transformTagName)X=this.options.transformTagName(X);if(Z)Y=this.saveTextToParentTag(Y,Z,J);let F=J.substring(J.lastIndexOf(".")+1);if(X&&this.options.unpairedTags.indexOf(X)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${X}>`);let L=0;if(F&&this.options.unpairedTags.indexOf(F)!==-1)L=J.lastIndexOf(".",J.lastIndexOf(".")-1),this.tagsNodeStack.pop();else L=J.lastIndexOf(".");J=J.substring(0,L),Z=this.tagsNodeStack.pop(),Y="",G=U}else if($[G+1]==="?"){let U=z1($,G,!1,"?>");if(!U)throw new Error("Pi Tag is not closed.");if(Y=this.saveTextToParentTag(Y,Z,J),this.options.ignoreDeclaration&&U.tagName==="?xml"||this.options.ignorePiTags);else{let X=new Q0(U.tagName);if(X.add(this.options.textNodeName,""),U.tagName!==U.tagExp&&U.attrExpPresent)X[":@"]=this.buildAttributesMap(U.tagExp,J,U.tagName);this.addChild(Z,X,J)}G=U.closeIndex+1}else if($.substr(G+1,3)==="!--"){let U=s($,"-->",G+4,"Comment is not closed.");if(this.options.commentPropName){let X=$.substring(G+4,U-2);Y=this.saveTextToParentTag(Y,Z,J),Z.add(this.options.commentPropName,[{[this.options.textNodeName]:X}])}G=U}else if($.substr(G+1,2)==="!D"){let U=k2($,G);this.docTypeEntities=U.entities,G=U.i}else if($.substr(G+1,2)==="!["){let U=s($,"]]>",G,"CDATA is not closed.")-2,X=$.substring(G+9,U);Y=this.saveTextToParentTag(Y,Z,J);let F=this.parseTextData(X,Z.tagname,J,!0,!1,!0,!0);if(F==null)F="";if(this.options.cdataPropName)Z.add(this.options.cdataPropName,[{[this.options.textNodeName]:X}]);else Z.add(this.options.textNodeName,F);G=U+2}else{let U=z1($,G,this.options.removeNSPrefix),X=U.tagName,F=U.rawTagName,L=U.tagExp,K=U.attrExpPresent,z=U.closeIndex;if(this.options.transformTagName)X=this.options.transformTagName(X);if(Z&&Y){if(Z.tagname!=="!xml")Y=this.saveTextToParentTag(Y,Z,J,!1)}let B=Z;if(B&&this.options.unpairedTags.indexOf(B.tagname)!==-1)Z=this.tagsNodeStack.pop(),J=J.substring(0,J.lastIndexOf("."));if(X!==W.tagname)J+=J?"."+X:X;if(this.isItStopNode(this.options.stopNodes,J,X)){let H="";if(L.length>0&&L.lastIndexOf("/")===L.length-1){if(X[X.length-1]==="/")X=X.substr(0,X.length-1),J=J.substr(0,J.length-1),L=X;else L=L.substr(0,L.length-1);G=U.closeIndex}else if(this.options.unpairedTags.indexOf(X)!==-1)G=U.closeIndex;else{let M=this.readStopNodeData($,F,z+1);if(!M)throw new Error(`Unexpected end of ${F}`);G=M.i,H=M.tagContent}let q=new Q0(X);if(X!==L&&K)q[":@"]=this.buildAttributesMap(L,J,X);if(H)H=this.parseTextData(H,X,J,!0,K,!0,!0);J=J.substr(0,J.lastIndexOf(".")),q.add(this.options.textNodeName,H),this.addChild(Z,q,J)}else{if(L.length>0&&L.lastIndexOf("/")===L.length-1){if(X[X.length-1]==="/")X=X.substr(0,X.length-1),J=J.substr(0,J.length-1),L=X;else L=L.substr(0,L.length-1);if(this.options.transformTagName)X=this.options.transformTagName(X);let H=new Q0(X);if(X!==L&&K)H[":@"]=this.buildAttributesMap(L,J,X);this.addChild(Z,H,J),J=J.substr(0,J.lastIndexOf("."))}else{let H=new Q0(X);if(this.tagsNodeStack.push(Z),X!==L&&K)H[":@"]=this.buildAttributesMap(L,J,X);this.addChild(Z,H,J),Z=H}Y="",G=z}}else Y+=$[G];return W.child};function h2($,W,Z){let Y=this.options.updateTag(W.tagname,Z,W[":@"]);if(Y===!1);else if(typeof Y==="string")W.tagname=Y,$.addChild(W);else $.addChild(W)}var y2=function($){if(this.options.processEntities){for(let W in this.docTypeEntities){let Z=this.docTypeEntities[W];$=$.replace(Z.regx,Z.val)}for(let W in this.lastEntities){let Z=this.lastEntities[W];$=$.replace(Z.regex,Z.val)}if(this.options.htmlEntities)for(let W in this.htmlEntities){let Z=this.htmlEntities[W];$=$.replace(Z.regex,Z.val)}$=$.replace(this.ampEntity.regex,this.ampEntity.val)}return $};function v2($,W,Z,Y){if($){if(Y===void 0)Y=Object.keys(W.child).length===0;if($=this.parseTextData($,W.tagname,Z,!1,W[":@"]?Object.keys(W[":@"]).length!==0:!1,Y),$!==void 0&&$!=="")W.add(this.options.textNodeName,$);$=""}return $}function x2($,W,Z){let Y="*."+Z;for(let J in $){let G=$[J];if(Y===G||W===G)return!0}return!1}function g2($,W,Z=">"){let Y,J="";for(let G=W;G<$.length;G++){let Q=$[G];if(Y){if(Q===Y)Y=""}else if(Q==='"'||Q==="'")Y=Q;else if(Q===Z[0])if(Z[1]){if($[G+1]===Z[1])return{data:J,index:G}}else return{data:J,index:G};else if(Q==="\t")Q=" ";J+=Q}}function s($,W,Z,Y){let J=$.indexOf(W,Z);if(J===-1)throw new Error(Y);else return J+W.length-1}function z1($,W,Z,Y=">"){let J=g2($,W+1,Y);if(!J)return;let{data:G,index:Q}=J,U=G.search(/\s/),X=G,F=!0;if(U!==-1)X=G.substring(0,U),G=G.substring(U+1).trimStart();let L=X;if(Z){let K=X.indexOf(":");if(K!==-1)X=X.substr(K+1),F=X!==J.data.substr(K+1)}return{tagName:X,tagExp:G,closeIndex:Q,attrExpPresent:F,rawTagName:L}}function u2($,W,Z){let Y=Z,J=1;for(;Z<$.length;Z++)if($[Z]==="<")if($[Z+1]==="/"){let G=s($,">",Z,`${W} is not closed`);if($.substring(Z+2,G).trim()===W){if(J--,J===0)return{tagContent:$.substring(Y,Z),i:G}}Z=G}else if($[Z+1]==="?")Z=s($,"?>",Z+1,"StopNode is not closed.");else if($.substr(Z+1,3)==="!--")Z=s($,"-->",Z+3,"StopNode is not closed.");else if($.substr(Z+1,2)==="![")Z=s($,"]]>",Z,"StopNode is not closed.")-2;else{let G=z1($,Z,">");if(G){if((G&&G.tagName)===W&&G.tagExp[G.tagExp.length-1]!=="/")J++;Z=G.closeIndex}}}function B1($,W,Z){if(W&&typeof $==="string"){let Y=$.trim();if(Y==="true")return!0;else if(Y==="false")return!1;else return j2($,Z)}else if(r$.isExist($))return $;else return""}t$.exports=a$});var W4=I((l2)=>{function c2($,W){return $4($,W)}function $4($,W,Z){let Y,J={};for(let G=0;G<$.length;G++){let Q=$[G],U=p2(Q),X="";if(Z===void 0)X=U;else X=Z+"."+U;if(U===W.textNodeName)if(Y===void 0)Y=Q[U];else Y+=""+Q[U];else if(U===void 0)continue;else if(Q[U]){let F=$4(Q[U],W,X),L=m2(F,W);if(Q[":@"])d2(F,Q[":@"],X,W);else if(Object.keys(F).length===1&&F[W.textNodeName]!==void 0&&!W.alwaysCreateTextNode)F=F[W.textNodeName];else if(Object.keys(F).length===0)if(W.alwaysCreateTextNode)F[W.textNodeName]="";else F="";if(J[U]!==void 0&&J.hasOwnProperty(U)){if(!Array.isArray(J[U]))J[U]=[J[U]];J[U].push(F)}else if(W.isArray(U,X,L))J[U]=[F];else J[U]=F}}if(typeof Y==="string"){if(Y.length>0)J[W.textNodeName]=Y}else if(Y!==void 0)J[W.textNodeName]=Y;return J}function p2($){let W=Object.keys($);for(let Z=0;Z<W.length;Z++){let Y=W[Z];if(Y!==":@")return Y}}function d2($,W,Z,Y){if(W){let J=Object.keys(W),G=J.length;for(let Q=0;Q<G;Q++){let U=J[Q];if(Y.isArray(U,Z+"."+U,!0,!0))$[U]=[W[U]];else $[U]=W[U]}}}function m2($,W){let{textNodeName:Z}=W,Y=Object.keys($).length;if(Y===0)return!0;if(Y===1&&($[Z]||typeof $[Z]==="boolean"||$[Z]===0))return!0;return!1}l2.prettify=c2});var G4=I((n7,Y4)=>{var{buildOptions:n2}=p$(),i2=e$(),{prettify:o2}=W4(),r2=K1();class Z4{constructor($){this.externalEntities={},this.options=n2($)}parse($,W){if(typeof $==="string");else if($.toString)$=$.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(W){if(W===!0)W={};let J=r2.validate($,W);if(J!==!0)throw Error(`${J.err.msg}:${J.err.line}:${J.err.col}`)}let Z=new i2(this.options);Z.addExternalEntities(this.externalEntities);let Y=Z.parseXml($);if(this.options.preserveOrder||Y===void 0)return Y;else return o2(Y,this.options)}addEntity($,W){if(W.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");else if($.indexOf("&")!==-1||$.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");else if(W==="&")throw new Error("An entity with value '&' is not permitted");else this.externalEntities[$]=W}}Y4.exports=Z4});var F4=I((i7,X4)=>{function a2($,W){let Z="";if(W.format&&W.indentBy.length>0)Z=`
`;return Q4($,W,"",Z)}function Q4($,W,Z,Y){let J="",G=!1;for(let Q=0;Q<$.length;Q++){let U=$[Q],X=t2(U);if(X===void 0)continue;let F="";if(Z.length===0)F=X;else F=`${Z}.${X}`;if(X===W.textNodeName){let H=U[X];if(!e2(F,W))H=W.tagValueProcessor(X,H),H=U4(H,W);if(G)J+=Y;J+=H,G=!1;continue}else if(X===W.cdataPropName){if(G)J+=Y;J+=`<![CDATA[${U[X][0][W.textNodeName]}]]>`,G=!1;continue}else if(X===W.commentPropName){J+=Y+`<!--${U[X][0][W.textNodeName]}-->`,G=!0;continue}else if(X[0]==="?"){let H=J4(U[":@"],W),q=X==="?xml"?"":Y,M=U[X][0][W.textNodeName];M=M.length!==0?" "+M:"",J+=q+`<${X}${M}${H}?>`,G=!0;continue}let L=Y;if(L!=="")L+=W.indentBy;let K=J4(U[":@"],W),z=Y+`<${X}${K}`,B=Q4(U[X],W,F,L);if(W.unpairedTags.indexOf(X)!==-1)if(W.suppressUnpairedNode)J+=z+">";else J+=z+"/>";else if((!B||B.length===0)&&W.suppressEmptyNode)J+=z+"/>";else if(B&&B.endsWith(">"))J+=z+`>${B}${Y}</${X}>`;else{if(J+=z+">",B&&Y!==""&&(B.includes("/>")||B.includes("</")))J+=Y+W.indentBy+B+Y;else J+=B;J+=`</${X}>`}G=!0}return J}function t2($){let W=Object.keys($);for(let Z=0;Z<W.length;Z++){let Y=W[Z];if(!$.hasOwnProperty(Y))continue;if(Y!==":@")return Y}}function J4($,W){let Z="";if($&&!W.ignoreAttributes)for(let Y in $){if(!$.hasOwnProperty(Y))continue;let J=W.attributeValueProcessor(Y,$[Y]);if(J=U4(J,W),J===!0&&W.suppressBooleanAttributes)Z+=` ${Y.substr(W.attributeNamePrefix.length)}`;else Z+=` ${Y.substr(W.attributeNamePrefix.length)}="${J}"`}return Z}function e2($,W){$=$.substr(0,$.length-W.textNodeName.length-1);let Z=$.substr($.lastIndexOf(".")+1);for(let Y in W.stopNodes)if(W.stopNodes[Y]===$||W.stopNodes[Y]==="*."+Z)return!0;return!1}function U4($,W){if($&&$.length>0&&W.processEntities)for(let Z=0;Z<W.entities.length;Z++){let Y=W.entities[Z];$=$.replace(Y.regex,Y.val)}return $}X4.exports=a2});var K4=I((o7,L4)=>{var $Z=F4(),WZ={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function($,W){return W},attributeValueProcessor:function($,W){return W},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function c($){if(this.options=Object.assign({},WZ,$),this.options.ignoreAttributes||this.options.attributesGroupName)this.isAttribute=function(){return!1};else this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=GZ;if(this.processTextOrObjNode=ZZ,this.options.format)this.indentate=YZ,this.tagEndChar=`>
`,this.newLine=`
`;else this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""}c.prototype.build=function($){if(this.options.preserveOrder)return $Z($,this.options);else{if(Array.isArray($)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1)$={[this.options.arrayNodeName]:$};return this.j2x($,0).val}};c.prototype.j2x=function($,W){let Z="",Y="";for(let J in $){if(!Object.prototype.hasOwnProperty.call($,J))continue;if(typeof $[J]==="undefined"){if(this.isAttribute(J))Y+=""}else if($[J]===null)if(this.isAttribute(J))Y+="";else if(J[0]==="?")Y+=this.indentate(W)+"<"+J+"?"+this.tagEndChar;else Y+=this.indentate(W)+"<"+J+"/"+this.tagEndChar;else if($[J]instanceof Date)Y+=this.buildTextValNode($[J],J,"",W);else if(typeof $[J]!=="object"){let G=this.isAttribute(J);if(G)Z+=this.buildAttrPairStr(G,""+$[J]);else if(J===this.options.textNodeName){let Q=this.options.tagValueProcessor(J,""+$[J]);Y+=this.replaceEntitiesValue(Q)}else Y+=this.buildTextValNode($[J],J,"",W)}else if(Array.isArray($[J])){let G=$[J].length,Q="",U="";for(let X=0;X<G;X++){let F=$[J][X];if(typeof F==="undefined");else if(F===null)if(J[0]==="?")Y+=this.indentate(W)+"<"+J+"?"+this.tagEndChar;else Y+=this.indentate(W)+"<"+J+"/"+this.tagEndChar;else if(typeof F==="object")if(this.options.oneListGroup){let L=this.j2x(F,W+1);if(Q+=L.val,this.options.attributesGroupName&&F.hasOwnProperty(this.options.attributesGroupName))U+=L.attrStr}else Q+=this.processTextOrObjNode(F,J,W);else if(this.options.oneListGroup){let L=this.options.tagValueProcessor(J,F);L=this.replaceEntitiesValue(L),Q+=L}else Q+=this.buildTextValNode(F,J,"",W)}if(this.options.oneListGroup)Q=this.buildObjectNode(Q,J,U,W);Y+=Q}else if(this.options.attributesGroupName&&J===this.options.attributesGroupName){let G=Object.keys($[J]),Q=G.length;for(let U=0;U<Q;U++)Z+=this.buildAttrPairStr(G[U],""+$[J][G[U]])}else Y+=this.processTextOrObjNode($[J],J,W)}return{attrStr:Z,val:Y}};c.prototype.buildAttrPairStr=function($,W){if(W=this.options.attributeValueProcessor($,""+W),W=this.replaceEntitiesValue(W),this.options.suppressBooleanAttributes&&W==="true")return" "+$;else return" "+$+'="'+W+'"'};function ZZ($,W,Z){let Y=this.j2x($,Z+1);if($[this.options.textNodeName]!==void 0&&Object.keys($).length===1)return this.buildTextValNode($[this.options.textNodeName],W,Y.attrStr,Z);else return this.buildObjectNode(Y.val,W,Y.attrStr,Z)}c.prototype.buildObjectNode=function($,W,Z,Y){if($==="")if(W[0]==="?")return this.indentate(Y)+"<"+W+Z+"?"+this.tagEndChar;else return this.indentate(Y)+"<"+W+Z+this.closeTag(W)+this.tagEndChar;else{let J="</"+W+this.tagEndChar,G="";if(W[0]==="?")G="?",J="";if((Z||Z==="")&&$.indexOf("<")===-1)return this.indentate(Y)+"<"+W+Z+G+">"+$+J;else if(this.options.commentPropName!==!1&&W===this.options.commentPropName&&G.length===0)return this.indentate(Y)+`<!--${$}-->`+this.newLine;else return this.indentate(Y)+"<"+W+Z+G+this.tagEndChar+$+this.indentate(Y)+J}};c.prototype.closeTag=function($){let W="";if(this.options.unpairedTags.indexOf($)!==-1){if(!this.options.suppressUnpairedNode)W="/"}else if(this.options.suppressEmptyNode)W="/";else W=`></${$}`;return W};c.prototype.buildTextValNode=function($,W,Z,Y){if(this.options.cdataPropName!==!1&&W===this.options.cdataPropName)return this.indentate(Y)+`<![CDATA[${$}]]>`+this.newLine;else if(this.options.commentPropName!==!1&&W===this.options.commentPropName)return this.indentate(Y)+`<!--${$}-->`+this.newLine;else if(W[0]==="?")return this.indentate(Y)+"<"+W+Z+"?"+this.tagEndChar;else{let J=this.options.tagValueProcessor(W,$);if(J=this.replaceEntitiesValue(J),J==="")return this.indentate(Y)+"<"+W+Z+this.closeTag(W)+this.tagEndChar;else return this.indentate(Y)+"<"+W+Z+">"+J+"</"+W+this.tagEndChar}};c.prototype.replaceEntitiesValue=function($){if($&&$.length>0&&this.options.processEntities)for(let W=0;W<this.options.entities.length;W++){let Z=this.options.entities[W];$=$.replace(Z.regex,Z.val)}return $};function YZ($){return this.options.indentBy.repeat($)}function GZ($){if($.startsWith(this.options.attributeNamePrefix)&&$!==this.options.textNodeName)return $.substr(this.attrPrefixLen);else return!1}L4.exports=c});var H1=I((r7,z4)=>{var JZ=K1(),QZ=G4(),UZ=K4();z4.exports={XMLParser:QZ,XMLValidator:JZ,XMLBuilder:UZ}});var w4=I((a7,V4)=>{var{defineProperty:_0,getOwnPropertyDescriptor:XZ,getOwnPropertyNames:FZ}=Object,LZ=Object.prototype.hasOwnProperty,f0=($,W)=>_0($,"name",{value:W,configurable:!0}),KZ=($,W)=>{for(var Z in W)_0($,Z,{get:W[Z],enumerable:!0})},zZ=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of FZ(W))if(!LZ.call($,J)&&J!==Z)_0($,J,{get:()=>W[J],enumerable:!(Y=XZ(W,J))||Y.enumerable})}return $},BZ=($)=>zZ(_0({},"__esModule",{value:!0}),$),B4={};KZ(B4,{XmlNode:()=>HZ,XmlText:()=>M4});V4.exports=BZ(B4);function H4($){return $.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}f0(H4,"escapeAttribute");function q4($){return $.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}f0(q4,"escapeElement");var M4=class{constructor($){this.value=$}static{f0(this,"XmlText")}toString(){return q4(""+this.value)}},HZ=class ${constructor(W,Z=[]){this.name=W,this.children=Z}static{f0(this,"XmlNode")}attributes={};static of(W,Z,Y){let J=new $(W);if(Z!==void 0)J.addChildNode(new M4(Z));if(Y!==void 0)J.withName(Y);return J}withName(W){return this.name=W,this}addAttribute(W,Z){return this.attributes[W]=Z,this}addChildNode(W){return this.children.push(W),this}removeAttribute(W){return delete this.attributes[W],this}n(W){return this.name=W,this}c(W){return this.children.push(W),this}a(W,Z){if(Z!=null)this.attributes[W]=Z;return this}cc(W,Z,Y=Z){if(W[Z]!=null){let J=$.of(Z,W[Z]).withName(Y);this.c(J)}}l(W,Z,Y,J){if(W[Z]!=null)J().map((Q)=>{Q.withName(Y),this.c(Q)})}lc(W,Z,Y,J){if(W[Z]!=null){let G=J(),Q=new $(Y);G.map((U)=>{Q.c(U)}),this.c(Q)}}toString(){let W=Boolean(this.children.length),Z=`<${this.name}`,Y=this.attributes;for(let J of Object.keys(Y)){let G=Y[J];if(G!=null)Z+=` ${J}="${H4(""+G)}"`}return Z+=!W?"/>":`>${this.children.map((J)=>J.toString()).join("")}</${this.name}>`}}});var b4=I((e7,f4)=>{var{defineProperty:h0,getOwnPropertyDescriptor:qZ,getOwnPropertyNames:MZ}=Object,VZ=Object.prototype.hasOwnProperty,R=($,W)=>h0($,"name",{value:W,configurable:!0}),wZ=($,W)=>{for(var Z in W)h0($,Z,{get:W[Z],enumerable:!0})},IZ=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let J of MZ(W))if(!VZ.call($,J)&&J!==Z)h0($,J,{get:()=>W[J],enumerable:!(Y=qZ(W,J))||Y.enumerable})}return $},AZ=($)=>IZ(h0({},"__esModule",{value:!0}),$),O4={};wZ(O4,{AwsEc2QueryProtocol:()=>oZ,AwsJson1_0Protocol:()=>bZ,AwsJson1_1Protocol:()=>hZ,AwsJsonRpcProtocol:()=>O1,AwsQueryProtocol:()=>j4,AwsRestJsonProtocol:()=>vZ,AwsRestXmlProtocol:()=>W6,JsonCodec:()=>T1,JsonShapeDeserializer:()=>E4,JsonShapeSerializer:()=>k4,XmlCodec:()=>_4,XmlShapeDeserializer:()=>C1,XmlShapeSerializer:()=>D4,_toBool:()=>TZ,_toNum:()=>OZ,_toStr:()=>RZ,awsExpectUnion:()=>gZ,loadRestJsonErrorCode:()=>R1,loadRestXmlErrorCode:()=>N4,parseJsonBody:()=>A1,parseJsonErrorBody:()=>SZ,parseXmlBody:()=>S4,parseXmlErrorBody:()=>eZ});f4.exports=AZ(O4);var RZ=R(($)=>{if($==null)return $;if(typeof $==="number"||typeof $==="bigint"){let W=new Error(`Received number ${$} where a string was expected.`);return W.name="Warning",console.warn(W),String($)}if(typeof $==="boolean"){let W=new Error(`Received boolean ${$} where a string was expected.`);return W.name="Warning",console.warn(W),String($)}return $},"_toStr"),TZ=R(($)=>{if($==null)return $;if(typeof $==="string"){let W=$.toLowerCase();if($!==""&&W!=="false"&&W!=="true"){let Z=new Error(`Received string "${$}" where a boolean was expected.`);Z.name="Warning",console.warn(Z)}return $!==""&&W!=="false"}return $},"_toBool"),OZ=R(($)=>{if($==null)return $;if(typeof $==="string"){let W=Number($);if(W.toString()!==$){let Z=new Error(`Received string "${$}" where a number was expected.`);return Z.name="Warning",console.warn(Z),$}return W}return $},"_toNum"),CZ=v(),e=h(),PZ=G0(),i=class{static{R(this,"SerdeContextConfig")}serdeContext;setSerdeContext($){this.serdeContext=$}},U0=h(),$0=g(),EZ=I1(),kZ=g();function C4($,W,Z){if(Z?.source){let Y=Z.source;if(typeof W==="number"){if(W>Number.MAX_SAFE_INTEGER||W<Number.MIN_SAFE_INTEGER||Y!==String(W))if(Y.includes("."))return new kZ.NumericValue(Y,"bigDecimal");else return BigInt(Y)}}return W}R(C4,"jsonReviver");var jZ=m(),P4=R(($,W)=>jZ.collectBody($,W).then((Z)=>W.utf8Encoder(Z)),"collectBodyString"),A1=R(($,W)=>P4($,W).then((Z)=>{if(Z.length)try{return JSON.parse(Z)}catch(Y){if(Y?.name==="SyntaxError")Object.defineProperty(Y,"$responseBodyText",{value:Z});throw Y}return{}}),"parseJsonBody"),SZ=R(async($,W)=>{let Z=await A1($,W);return Z.message=Z.message??Z.Message,Z},"parseJsonErrorBody"),R1=R(($,W)=>{let Z=R((G,Q)=>Object.keys(G).find((U)=>U.toLowerCase()===Q.toLowerCase()),"findKey"),Y=R((G)=>{let Q=G;if(typeof Q==="number")Q=Q.toString();if(Q.indexOf(",")>=0)Q=Q.split(",")[0];if(Q.indexOf(":")>=0)Q=Q.split(":")[0];if(Q.indexOf("#")>=0)Q=Q.split("#")[1];return Q},"sanitizeErrorCode"),J=Z($.headers,"x-amzn-errortype");if(J!==void 0)return Y($.headers[J]);if(W&&typeof W==="object"){let G=Z(W,"code");if(G&&W[G]!==void 0)return Y(W[G]);if(W.__type!==void 0)return Y(W.__type)}},"loadRestJsonErrorCode"),E4=class extends i{constructor($){super();this.settings=$}static{R(this,"JsonShapeDeserializer")}async read($,W){return this._read($,typeof W==="string"?JSON.parse(W,C4):await A1(W,this.serdeContext))}readObject($,W){return this._read($,W)}_read($,W){let Z=W!==null&&typeof W==="object",Y=U0.NormalizedSchema.of($);if(Y.isListSchema()&&Array.isArray(W)){let G=Y.getValueSchema(),Q=[],U=!!Y.getMergedTraits().sparse;for(let X of W)if(U||X!=null)Q.push(this._read(G,X));return Q}else if(Y.isMapSchema()&&Z){let G=Y.getValueSchema(),Q={},U=!!Y.getMergedTraits().sparse;for(let[X,F]of Object.entries(W))if(U||F!=null)Q[X]=this._read(G,F);return Q}else if(Y.isStructSchema()&&Z){let G={};for(let[Q,U]of Y.structIterator()){let X=this.settings.jsonName?U.getMergedTraits().jsonName??Q:Q,F=this._read(U,W[X]);if(F!=null)G[Q]=F}return G}if(Y.isBlobSchema()&&typeof W==="string")return EZ.fromBase64(W);let J=Y.getMergedTraits().mediaType;if(Y.isStringSchema()&&typeof W==="string"&&J){if(J==="application/json"||J.endsWith("+json"))return $0.LazyJsonString.from(W)}if(Y.isTimestampSchema()){let G=this.settings.timestampFormat;switch(G.useTrait?Y.getSchema()===U0.SCHEMA.TIMESTAMP_DEFAULT?G.default:Y.getSchema()??G.default:G.default){case U0.SCHEMA.TIMESTAMP_DATE_TIME:return $0.parseRfc3339DateTimeWithOffset(W);case U0.SCHEMA.TIMESTAMP_HTTP_DATE:return $0.parseRfc7231DateTime(W);case U0.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return $0.parseEpochTimestamp(W);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",W),new Date(W)}}if(Y.isBigIntegerSchema()&&(typeof W==="number"||typeof W==="string"))return BigInt(W);if(Y.isBigDecimalSchema()&&W!=null){if(W instanceof $0.NumericValue)return W;return new $0.NumericValue(String(W),"bigDecimal")}if(Y.isNumericSchema()&&typeof W==="string")switch(W){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return W}},W0=h(),NZ=g(),DZ=g(),_Z=g(),I4=String.fromCharCode(925),fZ=class{static{R(this,"JsonReplacer")}values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,($,W)=>{if(W instanceof _Z.NumericValue){let Z=`${I4+NaN+this.counter++}_`+W.string;return this.values.set(`"${Z}"`,W.string),Z}if(typeof W==="bigint"){let Z=W.toString(),Y=`${I4+"b"+this.counter++}_`+Z;return this.values.set(`"${Y}"`,Z),Y}return W}}replaceInJson($){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return $;for(let[W,Z]of this.values)$=$.replace(W,Z);return $}},k4=class extends i{constructor($){super();this.settings=$}static{R(this,"JsonShapeSerializer")}buffer;rootSchema;write($,W){this.rootSchema=W0.NormalizedSchema.of($),this.buffer=this._write(this.rootSchema,W)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let $=new fZ;return $.replaceInJson(JSON.stringify(this.buffer,$.createReplacer(),0))}return this.buffer}_write($,W,Z){let Y=W!==null&&typeof W==="object",J=W0.NormalizedSchema.of($);if(J.isListSchema()&&Array.isArray(W)){let Q=J.getValueSchema(),U=[],X=!!J.getMergedTraits().sparse;for(let F of W)if(X||F!=null)U.push(this._write(Q,F));return U}else if(J.isMapSchema()&&Y){let Q=J.getValueSchema(),U={},X=!!J.getMergedTraits().sparse;for(let[F,L]of Object.entries(W))if(X||L!=null)U[F]=this._write(Q,L);return U}else if(J.isStructSchema()&&Y){let Q={};for(let[U,X]of J.structIterator()){let F=this.settings.jsonName?X.getMergedTraits().jsonName??U:U,L=this._write(X,W[U],J);if(L!==void 0)Q[F]=L}return Q}if(W===null&&Z?.isStructSchema())return;if(J.isBlobSchema()&&(W instanceof Uint8Array||typeof W==="string")){if(J===this.rootSchema)return W;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(W)}if(J.isTimestampSchema()&&W instanceof Date){let Q=this.settings.timestampFormat;switch(Q.useTrait?J.getSchema()===W0.SCHEMA.TIMESTAMP_DEFAULT?Q.default:J.getSchema()??Q.default:Q.default){case W0.SCHEMA.TIMESTAMP_DATE_TIME:return W.toISOString().replace(".000Z","Z");case W0.SCHEMA.TIMESTAMP_HTTP_DATE:return NZ.dateToUtcString(W);case W0.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return W.getTime()/1000;default:return console.warn("Missing timestamp format, using epoch seconds",W),W.getTime()/1000}}if(J.isNumericSchema()&&typeof W==="number"){if(Math.abs(W)===1/0||isNaN(W))return String(W)}let G=J.getMergedTraits().mediaType;if(J.isStringSchema()&&typeof W==="string"&&G){if(G==="application/json"||G.endsWith("+json"))return DZ.LazyJsonString.from(W)}return W}},T1=class extends i{constructor($){super();this.settings=$}static{R(this,"JsonCodec")}createSerializer(){let $=new k4(this.settings);return $.setSerdeContext(this.serdeContext),$}createDeserializer(){let $=new E4(this.settings);return $.setSerdeContext(this.serdeContext),$}},O1=class extends CZ.RpcProtocol{static{R(this,"AwsJsonRpcProtocol")}serializer;deserializer;codec;constructor({defaultNamespace:$}){super({defaultNamespace:$});this.codec=new T1({timestampFormat:{useTrait:!0,default:e.SCHEMA.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest($,W,Z){let Y=await super.serializeRequest($,W,Z);if(!Y.path.endsWith("/"))Y.path+="/";if(Object.assign(Y.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+e.NormalizedSchema.of($).getName()}),e.deref($.input)==="unit"||!Y.body)Y.body="{}";try{Y.headers["content-length"]=String(PZ.calculateBodyLength(Y.body))}catch(J){}return Y}getPayloadCodec(){return this.codec}async handleError($,W,Z,Y,J){let G=R1(Z,Y)??"Unknown",Q=this.options.defaultNamespace,U=G;if(G.includes("#"))[Q,U]=G.split("#");let X=e.TypeRegistry.for(Q),F;try{F=X.getSchema(G)}catch(H){let q=e.TypeRegistry.for("smithy.ts.sdk.synthetic."+Q).getBaseException();if(q){let M=q.ctor;throw Object.assign(new M(U),Y)}throw new Error(U)}let L=e.NormalizedSchema.of(F),K=Y.message??Y.Message??"Unknown",z=new F.ctor(K);await this.deserializeHttpMessage(F,W,Z,Y);let B={};for(let[H,q]of L.structIterator()){let M=q.getMergedTraits().jsonName??H;B[H]=this.codec.createDeserializer().readObject(q,Y[M])}throw Object.assign(z,{$metadata:J,$response:Z,$fault:L.getMergedTraits().error,message:K,...B}),z}},bZ=class extends O1{static{R(this,"AwsJson1_0Protocol")}constructor({defaultNamespace:$}){super({defaultNamespace:$})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}},hZ=class extends O1{static{R(this,"AwsJson1_1Protocol")}constructor({defaultNamespace:$}){super({defaultNamespace:$})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}},q1=v(),X0=h(),yZ=G0(),vZ=class extends q1.HttpBindingProtocol{static{R(this,"AwsRestJsonProtocol")}serializer;deserializer;codec;constructor({defaultNamespace:$}){super({defaultNamespace:$});let W={timestampFormat:{useTrait:!0,default:X0.SCHEMA.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new T1(W),this.serializer=new q1.HttpInterceptingShapeSerializer(this.codec.createSerializer(),W),this.deserializer=new q1.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),W)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext($){this.codec.setSerdeContext($),super.setSerdeContext($)}async serializeRequest($,W,Z){let Y=await super.serializeRequest($,W,Z),J=X0.NormalizedSchema.of($.input),G=J.getMemberSchemas();if(!Y.headers["content-type"]){let Q=Object.values(G).find((U)=>{return!!U.getMergedTraits().httpPayload});if(Q){let U=Q.getMergedTraits().mediaType;if(U)Y.headers["content-type"]=U;else if(Q.isStringSchema())Y.headers["content-type"]="text/plain";else if(Q.isBlobSchema())Y.headers["content-type"]="application/octet-stream";else Y.headers["content-type"]="application/json"}else if(!J.isUnitSchema()){if(Object.values(G).find((X)=>{let{httpQuery:F,httpQueryParams:L,httpHeader:K,httpLabel:z,httpPrefixHeaders:B}=X.getMergedTraits();return!F&&!L&&!K&&!z&&B===void 0}))Y.headers["content-type"]="application/json"}}if(Y.headers["content-type"]&&!Y.body)Y.body="{}";if(Y.body)try{Y.headers["content-length"]=String(yZ.calculateBodyLength(Y.body))}catch(Q){}return Y}async handleError($,W,Z,Y,J){let G=R1(Z,Y)??"Unknown",Q=this.options.defaultNamespace,U=G;if(G.includes("#"))[Q,U]=G.split("#");let X=X0.TypeRegistry.for(Q),F;try{F=X.getSchema(G)}catch(H){let q=X0.TypeRegistry.for("smithy.ts.sdk.synthetic."+Q).getBaseException();if(q){let M=q.ctor;throw Object.assign(new M(U),Y)}throw new Error(U)}let L=X0.NormalizedSchema.of(F),K=Y.message??Y.Message??"Unknown",z=new F.ctor(K);await this.deserializeHttpMessage(F,W,Z,Y);let B={};for(let[H,q]of L.structIterator()){let M=q.getMergedTraits().jsonName??H;B[H]=this.codec.createDeserializer().readObject(q,Y[M])}throw Object.assign(z,{$metadata:J,$response:Z,$fault:L.getMergedTraits().error,message:K,...B}),z}},xZ=m(),gZ=R(($)=>{if($==null)return;if(typeof $==="object"&&"__type"in $)delete $.__type;return xZ.expectUnion($)},"awsExpectUnion"),M1=v(),p=h(),uZ=G0(),cZ=v(),A4=h(),pZ=m(),dZ=t(),mZ=H1(),C1=class extends i{constructor($){super();this.settings=$,this.stringDeserializer=new cZ.FromStringShapeDeserializer($)}static{R(this,"XmlShapeDeserializer")}stringDeserializer;setSerdeContext($){this.serdeContext=$,this.stringDeserializer.setSerdeContext($)}read($,W,Z){let Y=A4.NormalizedSchema.of($),J=Y.getMemberSchemas();if(Y.isStructSchema()&&Y.isMemberSchema()&&!!Object.values(J).find((X)=>{return!!X.getMemberTraits().eventPayload})){let X={},F=Object.keys(J)[0];if(J[F].isBlobSchema())X[F]=W;else X[F]=this.read(J[F],W);return X}let Q=(this.serdeContext?.utf8Encoder??dZ.toUtf8)(W),U=this.parseXml(Q);return this.readSchema($,Z?U[Z]:U)}readSchema($,W){let Z=A4.NormalizedSchema.of($),Y=Z.getMergedTraits(),J=Z.getSchema();if(Z.isListSchema()&&!Array.isArray(W))return this.readSchema(J,[W]);if(W==null)return W;if(typeof W==="object"){let G=!!Y.sparse,Q=!!Y.xmlFlattened;if(Z.isListSchema()){let X=Z.getValueSchema(),F=[],L=X.getMergedTraits().xmlName??"member",K=Q?W:(W[0]??W)[L],z=Array.isArray(K)?K:[K];for(let B of z)if(B!=null||G)F.push(this.readSchema(X,B));return F}let U={};if(Z.isMapSchema()){let X=Z.getKeySchema(),F=Z.getValueSchema(),L;if(Q)L=Array.isArray(W)?W:[W];else L=Array.isArray(W.entry)?W.entry:[W.entry];let K=X.getMergedTraits().xmlName??"key",z=F.getMergedTraits().xmlName??"value";for(let B of L){let H=B[K],q=B[z];if(q!=null||G)U[H]=this.readSchema(F,q)}return U}if(Z.isStructSchema()){for(let[X,F]of Z.structIterator()){let L=F.getMergedTraits(),K=!L.httpPayload?F.getMemberTraits().xmlName??X:L.xmlName??F.getName();if(W[K]!=null)U[X]=this.readSchema(F,W[K])}return U}if(Z.isDocumentSchema())return W;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${Z.getName(!0)}`)}else{if(Z.isListSchema())return[];else if(Z.isMapSchema()||Z.isStructSchema())return{};return this.stringDeserializer.read(Z,W)}}parseXml($){if($.length){let W=new mZ.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:R((Q,U)=>U.trim()===""&&U.includes(`
`)?"":void 0,"tagValueProcessor")});W.addEntity("#xD","\r"),W.addEntity("#10",`
`);let Z;try{Z=W.parse($,!0)}catch(Q){if(Q&&typeof Q==="object")Object.defineProperty(Q,"$responseBodyText",{value:$});throw Q}let Y="#text",J=Object.keys(Z)[0],G=Z[J];if(G[Y])G[J]=G[Y],delete G[Y];return pZ.getValueFromTextNode(G)}return{}}},V1=v(),b0=h(),lZ=g(),sZ=m(),nZ=I1(),iZ=class extends i{constructor($){super();this.settings=$}static{R(this,"QueryShapeSerializer")}buffer;write($,W,Z=""){if(this.buffer===void 0)this.buffer="";let Y=b0.NormalizedSchema.of($);if(Z&&!Z.endsWith("."))Z+=".";if(Y.isBlobSchema()){if(typeof W==="string"||W instanceof Uint8Array)this.writeKey(Z),this.writeValue((this.serdeContext?.base64Encoder??nZ.toBase64)(W))}else if(Y.isBooleanSchema()||Y.isNumericSchema()||Y.isStringSchema()){if(W!=null)this.writeKey(Z),this.writeValue(String(W))}else if(Y.isBigIntegerSchema()){if(W!=null)this.writeKey(Z),this.writeValue(String(W))}else if(Y.isBigDecimalSchema()){if(W!=null)this.writeKey(Z),this.writeValue(W instanceof lZ.NumericValue?W.string:String(W))}else if(Y.isTimestampSchema()){if(W instanceof Date)switch(this.writeKey(Z),V1.determineTimestampFormat(Y,this.settings)){case b0.SCHEMA.TIMESTAMP_DATE_TIME:this.writeValue(W.toISOString().replace(".000Z","Z"));break;case b0.SCHEMA.TIMESTAMP_HTTP_DATE:this.writeValue(sZ.dateToUtcString(W));break;case b0.SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(W.getTime()/1000));break}}else if(Y.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${Y.getName(!0)}`);else if(Y.isListSchema()){if(Array.isArray(W))if(W.length===0){if(this.settings.serializeEmptyLists)this.writeKey(Z),this.writeValue("")}else{let J=Y.getValueSchema(),G=this.settings.flattenLists||Y.getMergedTraits().xmlFlattened,Q=1;for(let U of W){if(U==null)continue;let X=this.getKey("member",J.getMergedTraits().xmlName),F=G?`${Z}${Q}`:`${Z}${X}.${Q}`;this.write(J,U,F),++Q}}}else if(Y.isMapSchema()){if(W&&typeof W==="object"){let J=Y.getKeySchema(),G=Y.getValueSchema(),Q=Y.getMergedTraits().xmlFlattened,U=1;for(let[X,F]of Object.entries(W)){if(F==null)continue;let L=this.getKey("key",J.getMergedTraits().xmlName),K=Q?`${Z}${U}.${L}`:`${Z}entry.${U}.${L}`,z=this.getKey("value",G.getMergedTraits().xmlName),B=Q?`${Z}${U}.${z}`:`${Z}entry.${U}.${z}`;this.write(J,X,K),this.write(G,F,B),++U}}}else if(Y.isStructSchema()){if(W&&typeof W==="object")for(let[J,G]of Y.structIterator()){if(W[J]==null)continue;let Q=this.getKey(J,G.getMergedTraits().xmlName),U=`${Z}${Q}`;this.write(G,W[J],U)}}else if(Y.isUnitSchema());else throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${Y.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let $=this.buffer;return delete this.buffer,$}getKey($,W){let Z=W??$;if(this.settings.capitalizeKeys)return Z[0].toUpperCase()+Z.slice(1);return Z}writeKey($){if($.endsWith("."))$=$.slice(0,$.length-1);this.buffer+=`&${V1.extendedEncodeURIComponent($)}=`}writeValue($){this.buffer+=V1.extendedEncodeURIComponent($)}},j4=class extends M1.RpcProtocol{constructor($){super({defaultNamespace:$.defaultNamespace});this.options=$;let W={timestampFormat:{useTrait:!0,default:p.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:$.xmlNamespace,serviceNamespace:$.defaultNamespace,serializeEmptyLists:!0};this.serializer=new iZ(W),this.deserializer=new C1(W)}static{R(this,"AwsQueryProtocol")}serializer;deserializer;getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext($){this.serializer.setSerdeContext($),this.deserializer.setSerdeContext($)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest($,W,Z){let Y=await super.serializeRequest($,W,Z);if(!Y.path.endsWith("/"))Y.path+="/";if(Object.assign(Y.headers,{"content-type":"application/x-www-form-urlencoded"}),p.deref($.input)==="unit"||!Y.body)Y.body="";if(Y.body=`Action=${$.name.split("#")[1]}&Version=${this.options.version}`+Y.body,Y.body.endsWith("&"))Y.body=Y.body.slice(-1);try{Y.headers["content-length"]=String(uZ.calculateBodyLength(Y.body))}catch(J){}return Y}async deserializeResponse($,W,Z){let Y=this.deserializer,J=p.NormalizedSchema.of($.output),G={};if(Z.statusCode>=300){let F=await M1.collectBody(Z.body,W);if(F.byteLength>0)Object.assign(G,await Y.read(p.SCHEMA.DOCUMENT,F));await this.handleError($,W,Z,G,this.deserializeMetadata(Z))}for(let F in Z.headers){let L=Z.headers[F];delete Z.headers[F],Z.headers[F.toLowerCase()]=L}let Q=J.isStructSchema()&&this.useNestedResult()?$.name.split("#")[1]+"Result":void 0,U=await M1.collectBody(Z.body,W);if(U.byteLength>0)Object.assign(G,await Y.read(J,U,Q));return{$metadata:this.deserializeMetadata(Z),...G}}useNestedResult(){return!0}async handleError($,W,Z,Y,J){let G=this.loadQueryErrorCode(Z,Y)??"Unknown",Q=this.options.defaultNamespace,U=G;if(G.includes("#"))[Q,U]=G.split("#");let X=this.loadQueryError(Y),F=p.TypeRegistry.for(Q),L;try{if(L=F.find((q)=>p.NormalizedSchema.of(q).getMergedTraits().awsQueryError?.[0]===U),!L)L=F.getSchema(G)}catch(q){let M=p.TypeRegistry.for("smithy.ts.sdk.synthetic."+Q).getBaseException();if(M){let w=M.ctor;throw Object.assign(new w(U),X)}throw new Error(U)}let K=p.NormalizedSchema.of(L),z=this.loadQueryErrorMessage(Y),B=new L.ctor(z),H={};for(let[q,M]of K.structIterator()){let w=M.getMergedTraits().xmlName??q,V=X[w]??Y[w];H[q]=this.deserializer.readSchema(M,V)}throw Object.assign(B,{$metadata:J,$response:Z,$fault:K.getMergedTraits().error,message:z,...H}),B}loadQueryErrorCode($,W){let Z=(W.Errors?.[0]?.Error??W.Errors?.Error??W.Error)?.Code;if(Z!==void 0)return Z;if($.statusCode==404)return"NotFound"}loadQueryError($){return $.Errors?.[0]?.Error??$.Errors?.Error??$.Error}loadQueryErrorMessage($){let W=this.loadQueryError($);return W?.message??W?.Message??$.message??$.Message??"Unknown"}},oZ=class extends j4{constructor($){super($);this.options=$;let W={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,W)}static{R(this,"AwsEc2QueryProtocol")}useNestedResult(){return!1}},w1=v(),F0=h(),rZ=G0(),aZ=m(),tZ=H1(),S4=R(($,W)=>P4($,W).then((Z)=>{if(Z.length){let Y=new tZ.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:R((X,F)=>F.trim()===""&&F.includes(`
`)?"":void 0,"tagValueProcessor")});Y.addEntity("#xD","\r"),Y.addEntity("#10",`
`);let J;try{J=Y.parse(Z,!0)}catch(X){if(X&&typeof X==="object")Object.defineProperty(X,"$responseBodyText",{value:Z});throw X}let G="#text",Q=Object.keys(J)[0],U=J[Q];if(U[G])U[Q]=U[G],delete U[G];return aZ.getValueFromTextNode(U)}return{}}),"parseXmlBody"),eZ=R(async($,W)=>{let Z=await S4($,W);if(Z.Error)Z.Error.message=Z.Error.message??Z.Error.Message;return Z},"parseXmlErrorBody"),N4=R(($,W)=>{if(W?.Error?.Code!==void 0)return W.Error.Code;if(W?.Code!==void 0)return W.Code;if($.statusCode==404)return"NotFound"},"loadRestXmlErrorCode"),b=w4(),n=h(),$6=g(),R4=m(),T4=I1(),D4=class extends i{constructor($){super();this.settings=$}static{R(this,"XmlShapeSerializer")}stringBuffer;byteBuffer;buffer;write($,W){let Z=n.NormalizedSchema.of($);if(Z.isStringSchema()&&typeof W==="string")this.stringBuffer=W;else if(Z.isBlobSchema())this.byteBuffer="byteLength"in W?W:(this.serdeContext?.base64Decoder??T4.fromBase64)(W);else{this.buffer=this.writeStruct(Z,W,void 0);let Y=Z.getMergedTraits();if(Y.httpPayload&&!Y.xmlName)this.buffer.withName(Z.getName())}}flush(){if(this.byteBuffer!==void 0){let W=this.byteBuffer;return delete this.byteBuffer,W}if(this.stringBuffer!==void 0){let W=this.stringBuffer;return delete this.stringBuffer,W}let $=this.buffer;if(this.settings.xmlNamespace){if(!$?.attributes?.xmlns)$.addAttribute("xmlns",this.settings.xmlNamespace)}return delete this.buffer,$.toString()}writeStruct($,W,Z){let Y=$.getMergedTraits(),J=$.isMemberSchema()&&!Y.httpPayload?$.getMemberTraits().xmlName??$.getMemberName():Y.xmlName??$.getName();if(!J||!$.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${$.getName(!0)}.`);let G=b.XmlNode.of(J),[Q,U]=this.getXmlnsAttribute($,Z);if(U)G.addAttribute(Q,U);for(let[X,F]of $.structIterator()){let L=W[X];if(L!=null){if(F.getMergedTraits().xmlAttribute){G.addAttribute(F.getMergedTraits().xmlName??X,this.writeSimple(F,L));continue}if(F.isListSchema())this.writeList(F,L,G,U);else if(F.isMapSchema())this.writeMap(F,L,G,U);else if(F.isStructSchema())G.addChildNode(this.writeStruct(F,L,U));else{let K=b.XmlNode.of(F.getMergedTraits().xmlName??F.getMemberName());this.writeSimpleInto(F,L,K,U),G.addChildNode(K)}}}return G}writeList($,W,Z,Y){if(!$.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${$.getName(!0)}`);let J=$.getMergedTraits(),G=$.getValueSchema(),Q=G.getMergedTraits(),U=!!Q.sparse,X=!!J.xmlFlattened,[F,L]=this.getXmlnsAttribute($,Y),K=R((z,B)=>{if(G.isListSchema())this.writeList(G,Array.isArray(B)?B:[B],z,L);else if(G.isMapSchema())this.writeMap(G,B,z,L);else if(G.isStructSchema()){let H=this.writeStruct(G,B,L);z.addChildNode(H.withName(X?J.xmlName??$.getMemberName():Q.xmlName??"member"))}else{let H=b.XmlNode.of(X?J.xmlName??$.getMemberName():Q.xmlName??"member");this.writeSimpleInto(G,B,H,L),z.addChildNode(H)}},"writeItem");if(X){for(let z of W)if(U||z!=null)K(Z,z)}else{let z=b.XmlNode.of(J.xmlName??$.getMemberName());if(L)z.addAttribute(F,L);for(let B of W)if(U||B!=null)K(z,B);Z.addChildNode(z)}}writeMap($,W,Z,Y,J=!1){if(!$.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${$.getName(!0)}`);let G=$.getMergedTraits(),Q=$.getKeySchema(),X=Q.getMergedTraits().xmlName??"key",F=$.getValueSchema(),L=F.getMergedTraits(),K=L.xmlName??"value",z=!!L.sparse,B=!!G.xmlFlattened,[H,q]=this.getXmlnsAttribute($,Y),M=R((w,V,A)=>{let O=b.XmlNode.of(X,V),[k,D]=this.getXmlnsAttribute(Q,q);if(D)O.addAttribute(k,D);w.addChildNode(O);let Z0=b.XmlNode.of(K);if(F.isListSchema())this.writeList(F,A,Z0,q);else if(F.isMapSchema())this.writeMap(F,A,Z0,q,!0);else if(F.isStructSchema())Z0=this.writeStruct(F,A,q);else this.writeSimpleInto(F,A,Z0,q);w.addChildNode(Z0)},"addKeyValue");if(B){for(let[w,V]of Object.entries(W))if(z||V!=null){let A=b.XmlNode.of(G.xmlName??$.getMemberName());M(A,w,V),Z.addChildNode(A)}}else{let w;if(!J){if(w=b.XmlNode.of(G.xmlName??$.getMemberName()),q)w.addAttribute(H,q);Z.addChildNode(w)}for(let[V,A]of Object.entries(W))if(z||A!=null){let O=b.XmlNode.of("entry");M(O,V,A),(J?Z:w).addChildNode(O)}}}writeSimple($,W){if(W===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let Z=n.NormalizedSchema.of($),Y=null;if(W&&typeof W==="object")if(Z.isBlobSchema())Y=(this.serdeContext?.base64Encoder??T4.toBase64)(W);else if(Z.isTimestampSchema()&&W instanceof Date){let J=this.settings.timestampFormat;switch(J.useTrait?Z.getSchema()===n.SCHEMA.TIMESTAMP_DEFAULT?J.default:Z.getSchema()??J.default:J.default){case n.SCHEMA.TIMESTAMP_DATE_TIME:Y=W.toISOString().replace(".000Z","Z");break;case n.SCHEMA.TIMESTAMP_HTTP_DATE:Y=R4.dateToUtcString(W);break;case n.SCHEMA.TIMESTAMP_EPOCH_SECONDS:Y=String(W.getTime()/1000);break;default:console.warn("Missing timestamp format, using http date",W),Y=R4.dateToUtcString(W);break}}else if(Z.isBigDecimalSchema()&&W){if(W instanceof $6.NumericValue)return W.string;return String(W)}else if(Z.isMapSchema()||Z.isListSchema())throw new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead.");else throw new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${Z.getName(!0)}`);if(Z.isStringSchema()||Z.isBooleanSchema()||Z.isNumericSchema()||Z.isBigIntegerSchema()||Z.isBigDecimalSchema())Y=String(W);if(Y===null)throw new Error(`Unhandled schema-value pair ${Z.getName(!0)}=${W}`);return Y}writeSimpleInto($,W,Z,Y){let J=this.writeSimple($,W),G=n.NormalizedSchema.of($),Q=new b.XmlText(J),[U,X]=this.getXmlnsAttribute(G,Y);if(X)Z.addAttribute(U,X);Z.addChildNode(Q)}getXmlnsAttribute($,W){let Z=$.getMergedTraits(),[Y,J]=Z.xmlNamespace??[];if(J&&J!==W)return[Y?`xmlns:${Y}`:"xmlns",J];return[void 0,void 0]}},_4=class extends i{constructor($){super();this.settings=$}static{R(this,"XmlCodec")}createSerializer(){let $=new D4(this.settings);return $.setSerdeContext(this.serdeContext),$}createDeserializer(){let $=new C1(this.settings);return $.setSerdeContext(this.serdeContext),$}},W6=class extends w1.HttpBindingProtocol{static{R(this,"AwsRestXmlProtocol")}codec;serializer;deserializer;constructor($){super($);let W={timestampFormat:{useTrait:!0,default:F0.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:$.xmlNamespace,serviceNamespace:$.defaultNamespace};this.codec=new _4(W),this.serializer=new w1.HttpInterceptingShapeSerializer(this.codec.createSerializer(),W),this.deserializer=new w1.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),W)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest($,W,Z){let Y=await super.serializeRequest($,W,Z),J=F0.NormalizedSchema.of($.input),G=J.getMemberSchemas();if(Y.path=String(Y.path).split("/").filter((Q)=>{return Q!=="{Bucket}"}).join("/")||"/",!Y.headers["content-type"]){let Q=Object.values(G).find((U)=>{return!!U.getMergedTraits().httpPayload});if(Q){let U=Q.getMergedTraits().mediaType;if(U)Y.headers["content-type"]=U;else if(Q.isStringSchema())Y.headers["content-type"]="text/plain";else if(Q.isBlobSchema())Y.headers["content-type"]="application/octet-stream";else Y.headers["content-type"]="application/xml"}else if(!J.isUnitSchema()){if(Object.values(G).find((X)=>{let{httpQuery:F,httpQueryParams:L,httpHeader:K,httpLabel:z,httpPrefixHeaders:B}=X.getMergedTraits();return!F&&!L&&!K&&!z&&B===void 0}))Y.headers["content-type"]="application/xml"}}if(Y.headers["content-type"]==="application/xml"){if(typeof Y.body==="string")Y.body='<?xml version="1.0" encoding="UTF-8"?>'+Y.body}if(Y.body)try{Y.headers["content-length"]=String(rZ.calculateBodyLength(Y.body))}catch(Q){}return Y}async deserializeResponse($,W,Z){return super.deserializeResponse($,W,Z)}async handleError($,W,Z,Y,J){let G=N4(Z,Y)??"Unknown",Q=this.options.defaultNamespace,U=G;if(G.includes("#"))[Q,U]=G.split("#");let X=F0.TypeRegistry.for(Q),F;try{F=X.getSchema(G)}catch(H){let q=F0.TypeRegistry.for("smithy.ts.sdk.synthetic."+Q).getBaseException();if(q){let M=q.ctor;throw Object.assign(new M(U),Y)}throw new Error(U)}let L=F0.NormalizedSchema.of(F),K=Y.Error?.message??Y.Error?.Message??Y.message??Y.Message??"Unknown",z=new F.ctor(K);await this.deserializeHttpMessage(F,W,Z,Y);let B={};for(let[H,q]of L.structIterator()){let M=q.getMergedTraits().xmlName??H,w=Y.Error?.[M]??Y[M];B[H]=this.codec.createDeserializer().readSchema(q,w)}throw Object.assign(z,{$metadata:J,$response:Z,$fault:L.getMergedTraits().error,message:K,...B}),z}}});var Z6=I((L0)=>{Object.defineProperty(L0,"__esModule",{value:!0});var P1=p8();P1.__exportStar(C$(),L0);P1.__exportStar(D$(),L0);P1.__exportStar(b4(),L0)});var E1=I((h4)=>{Object.defineProperty(h4,"__esModule",{value:!0});h4.default=J6;var Y6=G6(x0("crypto"));function G6($){return $&&$.__esModule?$:{default:$}}var v0=new Uint8Array(256),y0=v0.length;function J6(){if(y0>v0.length-16)Y6.default.randomFillSync(v0),y0=0;return v0.slice(y0,y0+=16)}});var x4=I((y4)=>{Object.defineProperty(y4,"__esModule",{value:!0});y4.default=void 0;var U6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;y4.default=U6});var K0=I((g4)=>{Object.defineProperty(g4,"__esModule",{value:!0});g4.default=void 0;var X6=F6(x4());function F6($){return $&&$.__esModule?$:{default:$}}function L6($){return typeof $==="string"&&X6.default.test($)}var K6=L6;g4.default=K6});var z0=I((p4)=>{Object.defineProperty(p4,"__esModule",{value:!0});p4.default=void 0;p4.unsafeStringify=c4;var z6=B6(K0());function B6($){return $&&$.__esModule?$:{default:$}}var S=[];for(let $=0;$<256;++$)S.push(($+256).toString(16).slice(1));function c4($,W=0){return S[$[W+0]]+S[$[W+1]]+S[$[W+2]]+S[$[W+3]]+"-"+S[$[W+4]]+S[$[W+5]]+"-"+S[$[W+6]]+S[$[W+7]]+"-"+S[$[W+8]]+S[$[W+9]]+"-"+S[$[W+10]]+S[$[W+11]]+S[$[W+12]]+S[$[W+13]]+S[$[W+14]]+S[$[W+15]]}function H6($,W=0){let Z=c4($,W);if(!z6.default(Z))throw TypeError("Stringified UUID is invalid");return Z}var q6=H6;p4.default=q6});var n4=I((l4)=>{Object.defineProperty(l4,"__esModule",{value:!0});l4.default=void 0;var V6=I6(E1()),w6=z0();function I6($){return $&&$.__esModule?$:{default:$}}var m4,k1,j1=0,S1=0;function A6($,W,Z){let Y=W&&Z||0,J=W||new Array(16);$=$||{};let G=$.node||m4,Q=$.clockseq!==void 0?$.clockseq:k1;if(G==null||Q==null){let z=$.random||($.rng||V6.default)();if(G==null)G=m4=[z[0]|1,z[1],z[2],z[3],z[4],z[5]];if(Q==null)Q=k1=(z[6]<<8|z[7])&16383}let U=$.msecs!==void 0?$.msecs:Date.now(),X=$.nsecs!==void 0?$.nsecs:S1+1,F=U-j1+(X-S1)/1e4;if(F<0&&$.clockseq===void 0)Q=Q+1&16383;if((F<0||U>j1)&&$.nsecs===void 0)X=0;if(X>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");j1=U,S1=X,k1=Q,U+=12219292800000;let L=((U&268435455)*1e4+X)%4294967296;J[Y++]=L>>>24&255,J[Y++]=L>>>16&255,J[Y++]=L>>>8&255,J[Y++]=L&255;let K=U/4294967296*1e4&268435455;J[Y++]=K>>>8&255,J[Y++]=K&255,J[Y++]=K>>>24&15|16,J[Y++]=K>>>16&255,J[Y++]=Q>>>8|128,J[Y++]=Q&255;for(let z=0;z<6;++z)J[Y+z]=G[z];return W||w6.unsafeStringify(J)}var R6=A6;l4.default=R6});var N1=I((i4)=>{Object.defineProperty(i4,"__esModule",{value:!0});i4.default=void 0;var T6=O6(K0());function O6($){return $&&$.__esModule?$:{default:$}}function C6($){if(!T6.default($))throw TypeError("Invalid UUID");let W,Z=new Uint8Array(16);return Z[0]=(W=parseInt($.slice(0,8),16))>>>24,Z[1]=W>>>16&255,Z[2]=W>>>8&255,Z[3]=W&255,Z[4]=(W=parseInt($.slice(9,13),16))>>>8,Z[5]=W&255,Z[6]=(W=parseInt($.slice(14,18),16))>>>8,Z[7]=W&255,Z[8]=(W=parseInt($.slice(19,23),16))>>>8,Z[9]=W&255,Z[10]=(W=parseInt($.slice(24,36),16))/1099511627776&255,Z[11]=W/4294967296&255,Z[12]=W>>>24&255,Z[13]=W>>>16&255,Z[14]=W>>>8&255,Z[15]=W&255,Z}var P6=C6;i4.default=P6});var D1=I((t4)=>{Object.defineProperty(t4,"__esModule",{value:!0});t4.URL=t4.DNS=void 0;t4.default=N6;var E6=z0(),k6=j6(N1());function j6($){return $&&$.__esModule?$:{default:$}}function S6($){$=unescape(encodeURIComponent($));let W=[];for(let Z=0;Z<$.length;++Z)W.push($.charCodeAt(Z));return W}var r4="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t4.DNS=r4;var a4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t4.URL=a4;function N6($,W,Z){function Y(J,G,Q,U){var X;if(typeof J==="string")J=S6(J);if(typeof G==="string")G=k6.default(G);if(((X=G)===null||X===void 0?void 0:X.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let F=new Uint8Array(16+J.length);if(F.set(G),F.set(J,G.length),F=Z(F),F[6]=F[6]&15|W,F[8]=F[8]&63|128,Q){U=U||0;for(let L=0;L<16;++L)Q[U+L]=F[L];return Q}return E6.unsafeStringify(F)}try{Y.name=$}catch(J){}return Y.DNS=r4,Y.URL=a4,Y}});var Z5=I(($5)=>{Object.defineProperty($5,"__esModule",{value:!0});$5.default=void 0;var f6=b6(x0("crypto"));function b6($){return $&&$.__esModule?$:{default:$}}function h6($){if(Array.isArray($))$=Buffer.from($);else if(typeof $==="string")$=Buffer.from($,"utf8");return f6.default.createHash("md5").update($).digest()}var y6=h6;$5.default=y6});var Q5=I((G5)=>{Object.defineProperty(G5,"__esModule",{value:!0});G5.default=void 0;var v6=Y5(D1()),x6=Y5(Z5());function Y5($){return $&&$.__esModule?$:{default:$}}var g6=v6.default("v3",48,x6.default),u6=g6;G5.default=u6});var F5=I((U5)=>{Object.defineProperty(U5,"__esModule",{value:!0});U5.default=void 0;var c6=p6(x0("crypto"));function p6($){return $&&$.__esModule?$:{default:$}}var d6={randomUUID:c6.default.randomUUID};U5.default=d6});var H5=I((z5)=>{Object.defineProperty(z5,"__esModule",{value:!0});z5.default=void 0;var L5=K5(F5()),m6=K5(E1()),l6=z0();function K5($){return $&&$.__esModule?$:{default:$}}function s6($,W,Z){if(L5.default.randomUUID&&!W&&!$)return L5.default.randomUUID();$=$||{};let Y=$.random||($.rng||m6.default)();if(Y[6]=Y[6]&15|64,Y[8]=Y[8]&63|128,W){Z=Z||0;for(let J=0;J<16;++J)W[Z+J]=Y[J];return W}return l6.unsafeStringify(Y)}var n6=s6;z5.default=n6});var V5=I((q5)=>{Object.defineProperty(q5,"__esModule",{value:!0});q5.default=void 0;var i6=o6(x0("crypto"));function o6($){return $&&$.__esModule?$:{default:$}}function r6($){if(Array.isArray($))$=Buffer.from($);else if(typeof $==="string")$=Buffer.from($,"utf8");return i6.default.createHash("sha1").update($).digest()}var a6=r6;q5.default=a6});var R5=I((I5)=>{Object.defineProperty(I5,"__esModule",{value:!0});I5.default=void 0;var t6=w5(D1()),e6=w5(V5());function w5($){return $&&$.__esModule?$:{default:$}}var $7=t6.default("v5",80,e6.default),W7=$7;I5.default=W7});var C5=I((T5)=>{Object.defineProperty(T5,"__esModule",{value:!0});T5.default=void 0;var Z7="00000000-0000-0000-0000-000000000000";T5.default=Z7});var k5=I((P5)=>{Object.defineProperty(P5,"__esModule",{value:!0});P5.default=void 0;var Y7=G7(K0());function G7($){return $&&$.__esModule?$:{default:$}}function J7($){if(!Y7.default($))throw TypeError("Invalid UUID");return parseInt($.slice(14,15),16)}var Q7=J7;P5.default=Q7});var M7=I((f)=>{Object.defineProperty(f,"__esModule",{value:!0});Object.defineProperty(f,"NIL",{enumerable:!0,get:function(){return K7.default}});Object.defineProperty(f,"parse",{enumerable:!0,get:function(){return q7.default}});Object.defineProperty(f,"stringify",{enumerable:!0,get:function(){return H7.default}});Object.defineProperty(f,"v1",{enumerable:!0,get:function(){return U7.default}});Object.defineProperty(f,"v3",{enumerable:!0,get:function(){return X7.default}});Object.defineProperty(f,"v4",{enumerable:!0,get:function(){return F7.default}});Object.defineProperty(f,"v5",{enumerable:!0,get:function(){return L7.default}});Object.defineProperty(f,"validate",{enumerable:!0,get:function(){return B7.default}});Object.defineProperty(f,"version",{enumerable:!0,get:function(){return z7.default}});var U7=y(n4()),X7=y(Q5()),F7=y(H5()),L7=y(R5()),K7=y(C5()),z7=y(k5()),B7=y(K0()),H7=y(z0()),q7=y(N1());function y($){return $&&$.__esModule?$:{default:$}}});
export{g1 as td,p0 as ud,p8 as vd,m as wd,w4 as xd,Z6 as yd,M7 as zd};
