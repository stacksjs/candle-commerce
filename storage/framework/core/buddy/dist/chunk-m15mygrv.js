var A=/\d/,S=["-","_","/","."];function P(t=""){if(A.test(t))return;return t!==t.toLowerCase()}function E(t,e){let o=e??S,r=[];if(!t||typeof t!=="string")return r;let n="",s,c;for(let i of t){let h=o.includes(i);if(h===!0){r.push(n),n="",s=void 0;continue}let a=P(i);if(c===!1){if(s===!1&&a===!0){r.push(n),n=i,s=a;continue}if(s===!0&&a===!1&&n.length>1){let u=n.at(-1);r.push(n.slice(0,Math.max(0,n.length-1))),n=u+i,s=a;continue}}n+=i,s=a,c=h}return r.push(n),r}function I(t){return t?t[0].toUpperCase()+t.slice(1):""}function O(t){return t?t[0].toLowerCase()+t.slice(1):""}function U(t,e){return t?(Array.isArray(t)?t:E(t)).map((o)=>I(e?.normalize?o.toLowerCase():o)).join(""):""}function Z(t,e){return O(U(t||"",e))}function tt(t,e){return t?(Array.isArray(t)?t:E(t)).map((o)=>o.toLowerCase()).join(e??"-"):""}var nt=String.fromCharCode;var v=/#/g,N=/&/g,T=/\//g,j=/=/g;var g=/\+/g,b=/%5e/gi,F=/%60/gi;var W=/%7c/gi;var H=/%20/gi;function $(t){return encodeURI(""+t).replace(W,"|")}function l(t){return $(typeof t==="string"?t:JSON.stringify(t)).replace(g,"%2B").replace(H,"+").replace(v,"%23").replace(N,"%26").replace(F,"`").replace(b,"^").replace(T,"%2F")}function f(t){return l(t).replace(j,"%3D")}function y(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Q(t){return y(t.replace(g," "))}function x(t){return y(t.replace(g," "))}function R(t=""){let e=Object.create(null);if(t[0]==="?")t=t.slice(1);for(let o of t.split("&")){let r=o.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;let n=Q(r[1]);if(n==="__proto__"||n==="constructor")continue;let s=x(r[2]||"");if(e[n]===void 0)e[n]=s;else if(Array.isArray(e[n]))e[n].push(s);else e[n]=[e[n],s]}return e}function B(t,e){if(typeof e==="number"||typeof e==="boolean")e=String(e);if(!e)return f(t);if(Array.isArray(e))return e.map((o)=>`${f(t)}=${l(o)}`).join("&");return`${f(t)}=${l(e)}`}function M(t){return Object.keys(t).filter((e)=>t[e]!==void 0).map((e)=>B(e,t[e])).filter(Boolean).join("&")}var q=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,G=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,z=/^([/\\]\s*){2,}[^/\\]/;var D=/\/$|\/\?|\/#/,J=/^\.?\//;function X(t,e={}){if(typeof e==="boolean")e={acceptRelative:e};if(e.strict)return q.test(t);return G.test(t)||(e.acceptRelative?z.test(t):!1)}function K(t="",e){if(!e)return t.endsWith("/");return D.test(t)}function C(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(K(t,!0))return t||"/";let o=t,r="",n=t.indexOf("#");if(n!==-1){if(o=t.slice(0,n),r=t.slice(n),!o)return r}let[s,...c]=o.split("?");return s+"/"+(c.length>0?`?${c.join("?")}`:"")+r}function V(t=""){return t.startsWith("/")}function k(t=""){return(V(t)?t.slice(1):t)||"/"}function rt(t=""){return t.split("://").map((e)=>e.replace(/\/{2,}/g,"/")).join("://")}function w(t){return t&&t!=="/"}function ot(t,...e){let o=t||"";for(let r of e.filter((n)=>w(n)))if(o){let n=r.replace(J,"");o=C(o)+n}else o=r;return o}function st(t="",...e){if(typeof t!=="string")throw new TypeError(`URL input should be string received ${typeof t} (${t})`);let o=e.filter((n)=>w(n));if(o.length===0)return t;let r=p(t);for(let n of o){let s=p(n);if(s.pathname)r.pathname=C(r.pathname)+k(s.pathname);if(s.hash&&s.hash!=="#")r.hash=s.hash;if(s.search&&s.search!=="?")if(r.search&&r.search!=="?"){let c=M({...R(r.search),...R(s.search)});r.search=c.length>0?"?"+c:""}else r.search=s.search}return Y(r)}var L=Symbol.for("ufo:protocolRelative");function p(t="",e){let o=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(o){let[,m,d=""]=o;return{protocol:m.toLowerCase(),pathname:d,href:m+d,auth:"",host:"",search:"",hash:""}}if(!X(t,{acceptRelative:!0}))return e?p(e+t):_(t);let[,r="",n,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,c="",i=""]=s.match(/([^#/?]*)(.*)?/)||[];if(r==="file:")i=i.replace(/\/(?=[A-Za-z]:)/,"");let{pathname:h,search:a,hash:u}=_(i);return{protocol:r.toLowerCase(),auth:n?n.slice(0,Math.max(0,n.length-1)):"",host:c,pathname:h,search:a,hash:u,[L]:!r}}function _(t=""){let[e="",o="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:o,hash:r}}function Y(t){let e=t.pathname||"",o=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",n=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[L]?(t.protocol||"")+"//":"")+n+s+e+o+r}
export{rt as Kb,ot as Lb,st as Mb,U as Nb,Z as Ob,tt as Pb};
