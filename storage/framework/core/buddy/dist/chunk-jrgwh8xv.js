import{Ab as Q0,Bb as VS}from"./chunk-1564ksjq.js";import{Ac as M0,Bc as U0,Cc as s0,Dc as c0,Ec as hS,Fc as e0,Gc as z0,Hc as G0,Ic as n0,Jc as $0,Kc as o0,Lc as E0,Mc as X0,Nc as J0,Oc as H0,Pc as T0,Qc as j0,Rc as g0,mc as O0,nc as r0,oc as a0,pc as b0,qc as x0,rc as v0,sc as w0,tc as S0,uc as h0,vc as i0,wc as B0,xc as W0,yc as jw,zc as ev}from"./chunk-f7b4q8w7.js";import{Sc as s,Tc as I0}from"./chunk-dy44vw1s.js";import{Uc as _0,Vc as q0,Yc as p0,_c as RS,bd as u0,cd as L,dd as fS,ed as D0,fd as Z0,hd as C0,id as A0,jd as lS,ld as L0,md as I,qd as h,rd as N0,sd as Y0}from"./chunk-mwyf46cf.js";import{td as c4,ud as d0,xd as dh,yd as Af}from"./chunk-c0tfr62j.js";import{Ed as ah,Fd as bh}from"./chunk-x9e3h3eh.js";import{ae as q,fe as NS}from"./chunk-1krazvx7.js";import Pw from"process";import{runAction as Nh}from"@stacksjs/actions";import{intro as Yh,log as Eh,outro as kw}from"@stacksjs/cli";import{Action as Xh}from"@stacksjs/enums";import{ExitCode as Jh}from"@stacksjs/types";function u2(f){let m={token:"Create a personal access client token",project:"Target a specific project",verbose:"Enable verbose output"};f.command("auth:token",m.token).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Eh.debug("Running `buddy auth:token` ...",l);let v=await Yh("buddy auth:token"),w=await Nh(Xh.CreatePersonalAccessClient,l);if(w.isErr())await kw("While creating the personal access client token, there was an issue",{startTime:v,useSeconds:!0},w.error),Pw.exit();await kw("Personal access client token created successfully.",{startTime:v,useSeconds:!0}),Pw.exit(Jh.Success)})}import ff from"process";import{runAction as E}from"@stacksjs/actions";import{intro as iv,log as Q,outro as Cf,prompts as Hh}from"@stacksjs/cli";import{Action as X}from"@stacksjs/enums";import{ExitCode as sv}from"@stacksjs/types";function SK(f){let m={build:"Build any of your libraries (packages) for production use",components:"Build your component library",vueComponents:"Build your Vue component library",webComponents:"Build your framework agnostic web component library",elements:"An alias to the -w flag",buddy:"Build the Buddy binary",functions:"Build your function library",desktop:"Build the Desktop Application",pages:"Build your frontend",docs:"Build your documentation",framework:"Build Stacks framework",cli:"Automagically build the CLI",server:"Build the Stacks cloud server (Docker image)",select:"What are you trying to build?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("build [type]",m.build).option("-c, --components",m.components).option("-v, --vue-components",m.vueComponents).option("-w, --web-components",m.webComponents).option("-e, --elements",m.elements).option("-f, --functions",m.functions).option("-p, --views",m.pages).option("--pages",m.pages).option("-d, --docs",m.docs).option("-b, --buddy",m.buddy,{default:!1}).option("-s, --stacks",m.framework,{default:!1}).option("--project [project]",m.project,{default:!1}).option("--server",m.server,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{switch(Q.debug("Running `buddy build` ...",v),l){case"components":v.components=!0;break;case"vue":v.vueComponents=!0;break;case"web-components":v.webComponents=!0;break;case"functions":v.functions=!0;break;case"views":v.views=!0;break;case"docs":v.docs=!0;break;case"buddy":v.buddy=!0;break;case"cli":v.buddy=!0;break;case"stacks":v.stacks=!0;break;case"server":v.server=!0;break;default:break}if(console.log("server",l,v),Th(v)){console.log("has no");let w=await Hh({type:"multiselect",name:"build",message:m.select,choices:[{title:"Components",value:"components"},{title:"Web Components",value:"web-components"},{title:"Functions",value:"functions"},{title:"Views",value:"views"},{title:"Documentation",value:"docs"}]});if(console.log("answers",w),w!==null)ff.exit(sv.InvalidArgument)}else console.log("has op");if(v.docs)await E(X.BuildDocs);if(v.components)await E(X.BuildComponentLibs);if(v.vueComponents)await E(X.BuildVueComponentLib);if(v.webComponents)await E(X.BuildWebComponentLib);if(v.functions)await E(X.BuildFunctionLib);if(v.views)await E(X.BuildViews);if(v.stacks)await E(X.BuildStacks);if(v.buddy)await E(X.BuildCli);if(v.server)await E(X.BuildServer);ff.exit(sv.Success)}),f.command("build:components","Automagically build component libraries for production use & npm/CDN distribution").alias("prod:components").option("-c, --components",m.components,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:components` ...",l),await E(X.BuildComponentLibs,l)}),f.command("build:cli",m.cli).alias("prod:cli").option("-b, --buddy",m.buddy,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:cli` ...",l),await E(X.BuildCli,l)}),f.command("build:server",m.server).alias("prod:server").alias("build:docker").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:server` ...",l),await E(X.BuildServer,l)}),f.command("build:functions","Automagically build function library for npm/CDN distribution").option("-f, --functions",m.functions,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy `build:functions` ...",l),await E(X.BuildFunctionLib,l)}),f.command("build:vue-components","Automagically build Vue component library for npm/CDN distribution").alias("build:vue").alias("prod:vue-components").alias("prod:vue").option("-v, --vue-components",m.vueComponents,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).alias("build:vue").action(async(l)=>{Q.debug("Running `buddy build:vue-components` ...",l),await E(X.BuildVueComponentLib,l)}),f.command("build:web-components","Automagically build Web Component library for npm/CDN distribution").alias("build:wc").alias("prod:web-components").alias("prod:wc").option("-w, --web-components",m.webComponents,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:web-components` ...",l),await E(X.BuildWebComponentLib,l)}),f.command("build:docs","Automagically build your documentation site.").alias("prod:docs").alias("build:documentation").alias("prod:documentation").option("-d, --docs",m.docs,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:docs` ...",l),await E(X.BuildDocs,l)}),f.command("build:core","Automagically build the Stacks core.").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:core` ...",l);let v=await iv("buddy build:core"),w=await E(X.BuildCore,l);if(w.isErr())Q.error("Failed to build the Stacks core.",w.error),ff.exit();await Cf("Core packages built successfully",{startTime:v,useSeconds:!0})}),f.command("build:desktop",m.desktop).alias("prod:desktop").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:desktop` ...",l);let v=await iv("buddy build:desktop"),w=await E(X.BuildDesktop,l);if(w.isErr())await Cf("While running the build:desktop command, there was an issue",{startTime:v,useSeconds:!0},w.error),ff.exit();console.log(""),await Cf("Exited",{startTime:v,useSeconds:!0}),ff.exit(sv.Success)}),f.command("build:stacks","Build the Stacks framework.").option("-s, --stacks",m.framework,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Q.debug("Running `buddy build:stacks` ...",l);let v=await iv("buddy build:stacks"),w=await E(X.BuildStacks,l);if(w.isErr())Q.error("Failed to build Stacks.",w.error),ff.exit();await Cf("Stacks built successfully",{startTime:v,useSeconds:!0})}),f.on("build:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),ff.exit(1)})}function Th(f){return!f.components&&!f.vueComponents&&!f.webComponents&&!f.elements&&!f.functions&&!f.views&&!f.docs&&!f.stacks&&!f.buddy}import _w from"process";import{runAction as Qh}from"@stacksjs/actions";import{intro as Vh,log as Ph,outro as qw}from"@stacksjs/cli";import{Action as kh}from"@stacksjs/enums";function FK(f){let m={changelog:"Create a CHANGELOG.md file",quiet:"Minimal output",dryRun:"Do not write the file, just output the changes",project:"Target a specific project",verbose:"Enable verbose output"};f.command("changelog",m.changelog).option("-q, --quiet",m.quiet,{default:!1}).option("-d, --dry-run",m.dryRun,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Ph.debug("Running `buddy changelog` ...",l);let v=await Vh("buddy changelog"),w=await Qh(kh.Changelog,l);if(w.isErr())await qw("While running the changelog command, there was an issue",{...l,startTime:v,useSeconds:!0},w.error),_w.exit();await qw("Generated CHANGELOG.md",{...l,startTime:v,useSeconds:!0,type:"success"})}),f.on("changelog:*",()=>{console.log("Invalid command: %s",f.args.join(" ")),console.log("See --help for a list of available commands."),_w.exit(1)})}import cv from"process";import{runAction as _h}from"@stacksjs/actions";import{intro as qh,log as Ch,outro as Cw}from"@stacksjs/cli";import{Action as Ah}from"@stacksjs/enums";import{ExitCode as Aw}from"@stacksjs/types";function $K(f){let m={clean:"Removes all node_modules & lock files",project:"Target a specific project",verbose:"Enable verbose output"};f.command("clean",m.clean).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Ch.debug("Running `buddy clean` ...",l);let v=await qh("buddy clean"),w=await _h(Ah.Clean,l);if(w.isErr())await Cw("While running the clean command, there was an issue",{startTime:v,useSeconds:!0},w.error),cv.exit(Aw.FatalError);await Cw("Cleaned up",{startTime:v,useSeconds:!0,message:"Cleaned up"}),cv.exit(Aw.Success)}),f.on("clean:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),cv.exit(1)})}import M from"process";var Ff=q(d0(),1);var gw=q(Af(),1);var yw=async(f,m,l)=>{return{operation:jw(m).operation,region:await ev(f.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}};function jh(f){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cloudfront",region:f.region},propertiesExtractor:(m,l)=>({signingProperties:{config:m,context:l}})}}var Ow=(f)=>{let m=[];switch(f.operation){default:m.push(jh(f))}return m},rw=(f)=>{let m=gw.resolveAwsSdkSigV4Config(f);return Object.assign(m,{authSchemePreference:ev(f.authSchemePreference??[])})};var aw=(f)=>{return Object.assign(f,{useDualstackEndpoint:f.useDualstackEndpoint??!1,useFipsEndpoint:f.useFipsEndpoint??!1,defaultSigningName:"cloudfront"})},bw={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var dw={name:"@aws-sdk/client-cloudfront",description:"AWS SDK for JavaScript Cloudfront Client for Node.js, Browser and React Native",version:"3.840.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cloudfront","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudfront"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.840.0","@aws-sdk/credential-provider-node":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.840.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.840.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.840.0","@aws-sdk/xml-builder":"3.821.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.6.0","@smithy/fetch-http-handler":"^5.0.4","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.13","@smithy/middleware-retry":"^4.1.14","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.0.6","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.5","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.21","@smithy/util-defaults-mode-node":"^4.0.21","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-stream":"^4.2.2","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.6",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudfront",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudfront"}};var yf=q(Af(),1);var K0=q(Af(),1);var jf=q(bh(),1),gf=q(ah(),1);var xw={["required"]:!1,type:"String"},iw={["required"]:!0,default:!1,type:"Boolean"},sw={["ref"]:"Endpoint"},pv={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!0]},l0={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!0]},V={},cw={["fn"]:"stringEquals",["argv"]:[{["fn"]:"getAttr",["argv"]:[{["ref"]:"PartitionResult"},"name"]},"aws"]},yh={["fn"]:"getAttr",["argv"]:[{["ref"]:"PartitionResult"},"name"]},ew={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseFIPS"},!1]},nv={["fn"]:"booleanEquals",["argv"]:[{["ref"]:"UseDualStack"},!1]},nw={authSchemes:[{name:"sigv4",signingName:"cloudfront",signingRegion:"us-east-1"}]},pw={["fn"]:"getAttr",["argv"]:[{["ref"]:"PartitionResult"},"supportsFIPS"]},ow={["fn"]:"booleanEquals",["argv"]:[!0,{["fn"]:"getAttr",["argv"]:[{["ref"]:"PartitionResult"},"supportsDualStack"]}]},uw=[pv],tw=[l0],f0=[{["ref"]:"Region"}],Oh={version:"1.0",parameters:{Region:xw,UseDualStack:iw,UseFIPS:iw,Endpoint:xw},rules:[{conditions:[{["fn"]:"isSet",["argv"]:[sw]}],rules:[{conditions:uw,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:"error"},{conditions:tw,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:"error"},{endpoint:{url:sw,properties:V,headers:V},type:"endpoint"}],type:"tree"},{conditions:[{["fn"]:"isSet",["argv"]:f0}],rules:[{conditions:[{["fn"]:"aws.partition",["argv"]:f0,assign:"PartitionResult"}],rules:[{conditions:[cw,ew,nv],endpoint:{url:"https://cloudfront.amazonaws.com",properties:nw,headers:V},type:"endpoint"},{conditions:[cw,pv,nv],endpoint:{url:"https://cloudfront-fips.amazonaws.com",properties:nw,headers:V},type:"endpoint"},{conditions:[{["fn"]:"stringEquals",["argv"]:[yh,"aws-cn"]},ew,nv],endpoint:{url:"https://cloudfront.cn-northwest-1.amazonaws.com.cn",properties:{authSchemes:[{name:"sigv4",signingName:"cloudfront",signingRegion:"cn-northwest-1"}]},headers:V},type:"endpoint"},{conditions:[pv,l0],rules:[{conditions:[{["fn"]:"booleanEquals",["argv"]:[!0,pw]},ow],rules:[{endpoint:{url:"https://cloudfront-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:V,headers:V},type:"endpoint"}],type:"tree"},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:"error"}],type:"tree"},{conditions:uw,rules:[{conditions:[{["fn"]:"booleanEquals",["argv"]:[pw,!0]}],rules:[{endpoint:{url:"https://cloudfront-fips.{Region}.{PartitionResult#dnsSuffix}",properties:V,headers:V},type:"endpoint"}],type:"tree"},{error:"FIPS is enabled but this partition does not support FIPS",type:"error"}],type:"tree"},{conditions:tw,rules:[{conditions:[ow],rules:[{endpoint:{url:"https://cloudfront.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:V,headers:V},type:"endpoint"}],type:"tree"},{error:"DualStack is enabled but this partition does not support DualStack",type:"error"}],type:"tree"},{endpoint:{url:"https://cloudfront.{Region}.{PartitionResult#dnsSuffix}",properties:V,headers:V},type:"endpoint"}],type:"tree"}],type:"tree"},{error:"Invalid Configuration: Missing Region",type:"error"}]},m0=Oh;var rh=new v0({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),R0=(f,m={})=>{return rh.get(f,()=>S0(m0,{endpointParams:f,logger:m.logger}))};w0.aws=h0;var F0=(f)=>{return{apiVersion:"2020-05-31",base64Decoder:f?.base64Decoder??jf.fromBase64,base64Encoder:f?.base64Encoder??jf.toBase64,disableHostPrefix:f?.disableHostPrefix??!1,endpointProvider:f?.endpointProvider??R0,extensions:f?.extensions??[],httpAuthSchemeProvider:f?.httpAuthSchemeProvider??Ow,httpAuthSchemes:f?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:(m)=>m.getIdentityProvider("aws.auth#sigv4"),signer:new K0.AwsSdkSigV4Signer}],logger:f?.logger??new L0,serviceId:f?.serviceId??"CloudFront",urlParser:f?.urlParser??I0,utf8Decoder:f?.utf8Decoder??gf.fromUtf8,utf8Encoder:f?.utf8Encoder??gf.toUtf8}};var V0=(f)=>{Z0(process.version);let m=T0(f),l=()=>m().then(D0),v=F0(f);yf.emitWarningIfUnsupportedVersion(process.version);let w={profile:f?.profile,logger:v.logger};return{...v,...f,runtime:"node",defaultsMode:m,authSchemePreference:f?.authSchemePreference??s(yf.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,w),bodyLengthChecker:f?.bodyLengthChecker??H0,credentialDefaultProvider:f?.credentialDefaultProvider??Q0,defaultUserAgentProvider:f?.defaultUserAgentProvider??E0({serviceId:v.serviceId,clientVersion:dw.version}),maxAttempts:f?.maxAttempts??s(G0,f),region:f?.region??s(M0,{...U0,...w}),requestHandler:N0.create(f?.requestHandler??l),retryMode:f?.retryMode??s({...$0,default:async()=>(await l()).retryMode||z0},f),sha256:f?.sha256??J0.bind(null,"sha256"),streamCollector:f?.streamCollector??Y0,useDualstackEndpoint:f?.useDualstackEndpoint??s(B0,w),useFipsEndpoint:f?.useFipsEndpoint??s(W0,w),userAgentAppId:f?.userAgentAppId??s(X0,w)}};var P0=(f)=>{let{httpAuthSchemes:m,httpAuthSchemeProvider:l,credentials:v}=f;return{setHttpAuthScheme(w){let F=m.findIndex((B)=>B.schemeId===w.schemeId);if(F===-1)m.push(w);else m.splice(F,1,w)},httpAuthSchemes(){return m},setHttpAuthSchemeProvider(w){l=w},httpAuthSchemeProvider(){return l},setCredentials(w){v=w},credentials(){return v}}},k0=(f)=>{return{httpAuthSchemes:f.httpAuthSchemes(),httpAuthSchemeProvider:f.httpAuthSchemeProvider(),credentials:f.credentials()}};var y0=(f,m)=>{let l=Object.assign(j0(f),C0(f),_0(f),P0(f));return m.forEach((v)=>v.configure(l)),Object.assign(f,g0(l),A0(l),q0(l),k0(l))};class ov extends p0{config;constructor(...[f]){let m=V0(f||{});super(m);this.initConfig=m;let l=aw(m),v=x0(l),w=n0(v),F=s0(w),B=O0(F),W=e0(B),N=rw(W),Z=y0(N,f?.extensions||[]);this.config=Z,this.middlewareStack.use(i0(this.config)),this.middlewareStack.use(o0(this.config)),this.middlewareStack.use(c0(this.config)),this.middlewareStack.use(r0(this.config)),this.middlewareStack.use(a0(this.config)),this.middlewareStack.use(b0(this.config)),this.middlewareStack.use(Ff.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:yw,identityProviderConfigProvider:async(Y)=>new Ff.DefaultIdentityProviderConfig({"aws.auth#sigv4":Y.credentials})})),this.middlewareStack.use(Ff.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}}var zf=q(Af(),1),Uf=q(dh(),1),mS=q(d0(),1);class R extends u0{constructor(f){super(f);Object.setPrototypeOf(this,R.prototype)}}class Of extends R{name="AccessDenied";$fault="client";Message;constructor(f){super({name:"AccessDenied",$fault:"client",...f});Object.setPrototypeOf(this,Of.prototype),this.Message=f.Message}}class rf extends R{name="IllegalUpdate";$fault="client";Message;constructor(f){super({name:"IllegalUpdate",$fault:"client",...f});Object.setPrototypeOf(this,rf.prototype),this.Message=f.Message}}class af extends R{name="InvalidArgument";$fault="client";Message;constructor(f){super({name:"InvalidArgument",$fault:"client",...f});Object.setPrototypeOf(this,af.prototype),this.Message=f.Message}}class bf extends R{name="NoSuchDistribution";$fault="client";Message;constructor(f){super({name:"NoSuchDistribution",$fault:"client",...f});Object.setPrototypeOf(this,bf.prototype),this.Message=f.Message}}class df extends R{name="TooManyDistributionCNAMEs";$fault="client";Message;constructor(f){super({name:"TooManyDistributionCNAMEs",$fault:"client",...f});Object.setPrototypeOf(this,df.prototype),this.Message=f.Message}}class xf extends R{name="EntityNotFound";$fault="client";Message;constructor(f){super({name:"EntityNotFound",$fault:"client",...f});Object.setPrototypeOf(this,xf.prototype),this.Message=f.Message}}class sf extends R{name="InvalidIfMatchVersion";$fault="client";Message;constructor(f){super({name:"InvalidIfMatchVersion",$fault:"client",...f});Object.setPrototypeOf(this,sf.prototype),this.Message=f.Message}}class cf extends R{name="PreconditionFailed";$fault="client";Message;constructor(f){super({name:"PreconditionFailed",$fault:"client",...f});Object.setPrototypeOf(this,cf.prototype),this.Message=f.Message}}class ef extends R{name="BatchTooLarge";$fault="client";Message;constructor(f){super({name:"BatchTooLarge",$fault:"client",...f});Object.setPrototypeOf(this,ef.prototype),this.Message=f.Message}}class nf extends R{name="CachePolicyAlreadyExists";$fault="client";Message;constructor(f){super({name:"CachePolicyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,nf.prototype),this.Message=f.Message}}class pf extends R{name="CachePolicyInUse";$fault="client";Message;constructor(f){super({name:"CachePolicyInUse",$fault:"client",...f});Object.setPrototypeOf(this,pf.prototype),this.Message=f.Message}}class of extends R{name="CannotChangeImmutablePublicKeyFields";$fault="client";Message;constructor(f){super({name:"CannotChangeImmutablePublicKeyFields",$fault:"client",...f});Object.setPrototypeOf(this,of.prototype),this.Message=f.Message}}class uf extends R{name="CannotDeleteEntityWhileInUse";$fault="client";Message;constructor(f){super({name:"CannotDeleteEntityWhileInUse",$fault:"client",...f});Object.setPrototypeOf(this,uf.prototype),this.Message=f.Message}}class tf extends R{name="CannotUpdateEntityWhileInUse";$fault="client";Message;constructor(f){super({name:"CannotUpdateEntityWhileInUse",$fault:"client",...f});Object.setPrototypeOf(this,tf.prototype),this.Message=f.Message}}class fl extends R{name="CNAMEAlreadyExists";$fault="client";Message;constructor(f){super({name:"CNAMEAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,fl.prototype),this.Message=f.Message}}class ll extends R{name="DistributionAlreadyExists";$fault="client";Message;constructor(f){super({name:"DistributionAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,ll.prototype),this.Message=f.Message}}class ml extends R{name="IllegalFieldLevelEncryptionConfigAssociationWithCacheBehavior";$fault="client";Message;constructor(f){super({name:"IllegalFieldLevelEncryptionConfigAssociationWithCacheBehavior",$fault:"client",...f});Object.setPrototypeOf(this,ml.prototype),this.Message=f.Message}}class vl extends R{name="InconsistentQuantities";$fault="client";Message;constructor(f){super({name:"InconsistentQuantities",$fault:"client",...f});Object.setPrototypeOf(this,vl.prototype),this.Message=f.Message}}class wl extends R{name="InvalidDefaultRootObject";$fault="client";Message;constructor(f){super({name:"InvalidDefaultRootObject",$fault:"client",...f});Object.setPrototypeOf(this,wl.prototype),this.Message=f.Message}}class Sl extends R{name="InvalidErrorCode";$fault="client";Message;constructor(f){super({name:"InvalidErrorCode",$fault:"client",...f});Object.setPrototypeOf(this,Sl.prototype),this.Message=f.Message}}class hl extends R{name="InvalidForwardCookies";$fault="client";Message;constructor(f){super({name:"InvalidForwardCookies",$fault:"client",...f});Object.setPrototypeOf(this,hl.prototype),this.Message=f.Message}}class Rl extends R{name="InvalidFunctionAssociation";$fault="client";Message;constructor(f){super({name:"InvalidFunctionAssociation",$fault:"client",...f});Object.setPrototypeOf(this,Rl.prototype),this.Message=f.Message}}class Il extends R{name="InvalidGeoRestrictionParameter";$fault="client";Message;constructor(f){super({name:"InvalidGeoRestrictionParameter",$fault:"client",...f});Object.setPrototypeOf(this,Il.prototype),this.Message=f.Message}}class Ll extends R{name="InvalidHeadersForS3Origin";$fault="client";Message;constructor(f){super({name:"InvalidHeadersForS3Origin",$fault:"client",...f});Object.setPrototypeOf(this,Ll.prototype),this.Message=f.Message}}class Kl extends R{name="InvalidLambdaFunctionAssociation";$fault="client";Message;constructor(f){super({name:"InvalidLambdaFunctionAssociation",$fault:"client",...f});Object.setPrototypeOf(this,Kl.prototype),this.Message=f.Message}}class Fl extends R{name="InvalidLocationCode";$fault="client";Message;constructor(f){super({name:"InvalidLocationCode",$fault:"client",...f});Object.setPrototypeOf(this,Fl.prototype),this.Message=f.Message}}class Bl extends R{name="InvalidMinimumProtocolVersion";$fault="client";Message;constructor(f){super({name:"InvalidMinimumProtocolVersion",$fault:"client",...f});Object.setPrototypeOf(this,Bl.prototype),this.Message=f.Message}}class Wl extends R{name="InvalidOrigin";$fault="client";Message;constructor(f){super({name:"InvalidOrigin",$fault:"client",...f});Object.setPrototypeOf(this,Wl.prototype),this.Message=f.Message}}class Ml extends R{name="InvalidOriginAccessControl";$fault="client";Message;constructor(f){super({name:"InvalidOriginAccessControl",$fault:"client",...f});Object.setPrototypeOf(this,Ml.prototype),this.Message=f.Message}}class Ul extends R{name="InvalidOriginAccessIdentity";$fault="client";Message;constructor(f){super({name:"InvalidOriginAccessIdentity",$fault:"client",...f});Object.setPrototypeOf(this,Ul.prototype),this.Message=f.Message}}class zl extends R{name="InvalidOriginKeepaliveTimeout";$fault="client";Message;constructor(f){super({name:"InvalidOriginKeepaliveTimeout",$fault:"client",...f});Object.setPrototypeOf(this,zl.prototype),this.Message=f.Message}}class Gl extends R{name="InvalidOriginReadTimeout";$fault="client";Message;constructor(f){super({name:"InvalidOriginReadTimeout",$fault:"client",...f});Object.setPrototypeOf(this,Gl.prototype),this.Message=f.Message}}class $l extends R{name="InvalidProtocolSettings";$fault="client";Message;constructor(f){super({name:"InvalidProtocolSettings",$fault:"client",...f});Object.setPrototypeOf(this,$l.prototype),this.Message=f.Message}}class Dl extends R{name="InvalidQueryStringParameters";$fault="client";Message;constructor(f){super({name:"InvalidQueryStringParameters",$fault:"client",...f});Object.setPrototypeOf(this,Dl.prototype),this.Message=f.Message}}class Zl extends R{name="InvalidRelativePath";$fault="client";Message;constructor(f){super({name:"InvalidRelativePath",$fault:"client",...f});Object.setPrototypeOf(this,Zl.prototype),this.Message=f.Message}}class Nl extends R{name="InvalidRequiredProtocol";$fault="client";Message;constructor(f){super({name:"InvalidRequiredProtocol",$fault:"client",...f});Object.setPrototypeOf(this,Nl.prototype),this.Message=f.Message}}class Yl extends R{name="InvalidResponseCode";$fault="client";Message;constructor(f){super({name:"InvalidResponseCode",$fault:"client",...f});Object.setPrototypeOf(this,Yl.prototype),this.Message=f.Message}}class El extends R{name="InvalidTTLOrder";$fault="client";Message;constructor(f){super({name:"InvalidTTLOrder",$fault:"client",...f});Object.setPrototypeOf(this,El.prototype),this.Message=f.Message}}class Xl extends R{name="InvalidViewerCertificate";$fault="client";Message;constructor(f){super({name:"InvalidViewerCertificate",$fault:"client",...f});Object.setPrototypeOf(this,Xl.prototype),this.Message=f.Message}}class Jl extends R{name="InvalidWebACLId";$fault="client";Message;constructor(f){super({name:"InvalidWebACLId",$fault:"client",...f});Object.setPrototypeOf(this,Jl.prototype),this.Message=f.Message}}class Hl extends R{name="MissingBody";$fault="client";Message;constructor(f){super({name:"MissingBody",$fault:"client",...f});Object.setPrototypeOf(this,Hl.prototype),this.Message=f.Message}}class Tl extends R{name="NoSuchCachePolicy";$fault="client";Message;constructor(f){super({name:"NoSuchCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,Tl.prototype),this.Message=f.Message}}class Ql extends R{name="NoSuchFieldLevelEncryptionConfig";$fault="client";Message;constructor(f){super({name:"NoSuchFieldLevelEncryptionConfig",$fault:"client",...f});Object.setPrototypeOf(this,Ql.prototype),this.Message=f.Message}}class Vl extends R{name="NoSuchOrigin";$fault="client";Message;constructor(f){super({name:"NoSuchOrigin",$fault:"client",...f});Object.setPrototypeOf(this,Vl.prototype),this.Message=f.Message}}class Pl extends R{name="NoSuchOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"NoSuchOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,Pl.prototype),this.Message=f.Message}}class kl extends R{name="NoSuchRealtimeLogConfig";$fault="client";Message;constructor(f){super({name:"NoSuchRealtimeLogConfig",$fault:"client",...f});Object.setPrototypeOf(this,kl.prototype),this.Message=f.Message}}class _l extends R{name="NoSuchResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"NoSuchResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,_l.prototype),this.Message=f.Message}}class ql extends R{name="RealtimeLogConfigOwnerMismatch";$fault="client";Message;constructor(f){super({name:"RealtimeLogConfigOwnerMismatch",$fault:"client",...f});Object.setPrototypeOf(this,ql.prototype),this.Message=f.Message}}class Cl extends R{name="TooManyCacheBehaviors";$fault="client";Message;constructor(f){super({name:"TooManyCacheBehaviors",$fault:"client",...f});Object.setPrototypeOf(this,Cl.prototype),this.Message=f.Message}}class Al extends R{name="TooManyCertificates";$fault="client";Message;constructor(f){super({name:"TooManyCertificates",$fault:"client",...f});Object.setPrototypeOf(this,Al.prototype),this.Message=f.Message}}class jl extends R{name="TooManyCookieNamesInWhiteList";$fault="client";Message;constructor(f){super({name:"TooManyCookieNamesInWhiteList",$fault:"client",...f});Object.setPrototypeOf(this,jl.prototype),this.Message=f.Message}}class gl extends R{name="TooManyDistributions";$fault="client";Message;constructor(f){super({name:"TooManyDistributions",$fault:"client",...f});Object.setPrototypeOf(this,gl.prototype),this.Message=f.Message}}class yl extends R{name="TooManyDistributionsAssociatedToCachePolicy";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,yl.prototype),this.Message=f.Message}}class Ol extends R{name="TooManyDistributionsAssociatedToFieldLevelEncryptionConfig";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToFieldLevelEncryptionConfig",$fault:"client",...f});Object.setPrototypeOf(this,Ol.prototype),this.Message=f.Message}}class rl extends R{name="TooManyDistributionsAssociatedToKeyGroup";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToKeyGroup",$fault:"client",...f});Object.setPrototypeOf(this,rl.prototype),this.Message=f.Message}}class al extends R{name="TooManyDistributionsAssociatedToOriginAccessControl";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToOriginAccessControl",$fault:"client",...f});Object.setPrototypeOf(this,al.prototype),this.Message=f.Message}}class bl extends R{name="TooManyDistributionsAssociatedToOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,bl.prototype),this.Message=f.Message}}class dl extends R{name="TooManyDistributionsAssociatedToResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsAssociatedToResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,dl.prototype),this.Message=f.Message}}class xl extends R{name="TooManyDistributionsWithFunctionAssociations";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsWithFunctionAssociations",$fault:"client",...f});Object.setPrototypeOf(this,xl.prototype),this.Message=f.Message}}class il extends R{name="TooManyDistributionsWithLambdaAssociations";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsWithLambdaAssociations",$fault:"client",...f});Object.setPrototypeOf(this,il.prototype),this.Message=f.Message}}class sl extends R{name="TooManyDistributionsWithSingleFunctionARN";$fault="client";Message;constructor(f){super({name:"TooManyDistributionsWithSingleFunctionARN",$fault:"client",...f});Object.setPrototypeOf(this,sl.prototype),this.Message=f.Message}}class cl extends R{name="TooManyFunctionAssociations";$fault="client";Message;constructor(f){super({name:"TooManyFunctionAssociations",$fault:"client",...f});Object.setPrototypeOf(this,cl.prototype),this.Message=f.Message}}class el extends R{name="TooManyHeadersInForwardedValues";$fault="client";Message;constructor(f){super({name:"TooManyHeadersInForwardedValues",$fault:"client",...f});Object.setPrototypeOf(this,el.prototype),this.Message=f.Message}}class nl extends R{name="TooManyKeyGroupsAssociatedToDistribution";$fault="client";Message;constructor(f){super({name:"TooManyKeyGroupsAssociatedToDistribution",$fault:"client",...f});Object.setPrototypeOf(this,nl.prototype),this.Message=f.Message}}class pl extends R{name="TooManyLambdaFunctionAssociations";$fault="client";Message;constructor(f){super({name:"TooManyLambdaFunctionAssociations",$fault:"client",...f});Object.setPrototypeOf(this,pl.prototype),this.Message=f.Message}}class ol extends R{name="TooManyOriginCustomHeaders";$fault="client";Message;constructor(f){super({name:"TooManyOriginCustomHeaders",$fault:"client",...f});Object.setPrototypeOf(this,ol.prototype),this.Message=f.Message}}class ul extends R{name="TooManyOriginGroupsPerDistribution";$fault="client";Message;constructor(f){super({name:"TooManyOriginGroupsPerDistribution",$fault:"client",...f});Object.setPrototypeOf(this,ul.prototype),this.Message=f.Message}}class tl extends R{name="TooManyOrigins";$fault="client";Message;constructor(f){super({name:"TooManyOrigins",$fault:"client",...f});Object.setPrototypeOf(this,tl.prototype),this.Message=f.Message}}class fm extends R{name="TooManyQueryStringParameters";$fault="client";Message;constructor(f){super({name:"TooManyQueryStringParameters",$fault:"client",...f});Object.setPrototypeOf(this,fm.prototype),this.Message=f.Message}}class lm extends R{name="TooManyTrustedSigners";$fault="client";Message;constructor(f){super({name:"TooManyTrustedSigners",$fault:"client",...f});Object.setPrototypeOf(this,lm.prototype),this.Message=f.Message}}class mm extends R{name="TrustedKeyGroupDoesNotExist";$fault="client";Message;constructor(f){super({name:"TrustedKeyGroupDoesNotExist",$fault:"client",...f});Object.setPrototypeOf(this,mm.prototype),this.Message=f.Message}}class vm extends R{name="TrustedSignerDoesNotExist";$fault="client";Message;constructor(f){super({name:"TrustedSignerDoesNotExist",$fault:"client",...f});Object.setPrototypeOf(this,vm.prototype),this.Message=f.Message}}class wm extends R{name="EntityAlreadyExists";$fault="client";Message;constructor(f){super({name:"EntityAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,wm.prototype),this.Message=f.Message}}class Sm extends R{name="EntityLimitExceeded";$fault="client";Message;constructor(f){super({name:"EntityLimitExceeded",$fault:"client",...f});Object.setPrototypeOf(this,Sm.prototype),this.Message=f.Message}}class hm extends R{name="InvalidTagging";$fault="client";Message;constructor(f){super({name:"InvalidTagging",$fault:"client",...f});Object.setPrototypeOf(this,hm.prototype),this.Message=f.Message}}class Rm extends R{name="UnsupportedOperation";$fault="client";Message;constructor(f){super({name:"UnsupportedOperation",$fault:"client",...f});Object.setPrototypeOf(this,Rm.prototype),this.Message=f.Message}}class Im extends R{name="TooManyCachePolicies";$fault="client";Message;constructor(f){super({name:"TooManyCachePolicies",$fault:"client",...f});Object.setPrototypeOf(this,Im.prototype),this.Message=f.Message}}class Lm extends R{name="TooManyCookiesInCachePolicy";$fault="client";Message;constructor(f){super({name:"TooManyCookiesInCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,Lm.prototype),this.Message=f.Message}}class Km extends R{name="TooManyHeadersInCachePolicy";$fault="client";Message;constructor(f){super({name:"TooManyHeadersInCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,Km.prototype),this.Message=f.Message}}class Fm extends R{name="TooManyQueryStringsInCachePolicy";$fault="client";Message;constructor(f){super({name:"TooManyQueryStringsInCachePolicy",$fault:"client",...f});Object.setPrototypeOf(this,Fm.prototype),this.Message=f.Message}}class Bm extends R{name="CloudFrontOriginAccessIdentityAlreadyExists";$fault="client";Message;constructor(f){super({name:"CloudFrontOriginAccessIdentityAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Bm.prototype),this.Message=f.Message}}class Wm extends R{name="TooManyCloudFrontOriginAccessIdentities";$fault="client";Message;constructor(f){super({name:"TooManyCloudFrontOriginAccessIdentities",$fault:"client",...f});Object.setPrototypeOf(this,Wm.prototype),this.Message=f.Message}}class Mm extends R{name="ContinuousDeploymentPolicyAlreadyExists";$fault="client";Message;constructor(f){super({name:"ContinuousDeploymentPolicyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Mm.prototype),this.Message=f.Message}}class Um extends R{name="StagingDistributionInUse";$fault="client";Message;constructor(f){super({name:"StagingDistributionInUse",$fault:"client",...f});Object.setPrototypeOf(this,Um.prototype),this.Message=f.Message}}class zm extends R{name="TooManyContinuousDeploymentPolicies";$fault="client";Message;constructor(f){super({name:"TooManyContinuousDeploymentPolicies",$fault:"client",...f});Object.setPrototypeOf(this,zm.prototype),this.Message=f.Message}}class Gm extends R{name="ContinuousDeploymentPolicyInUse";$fault="client";Message;constructor(f){super({name:"ContinuousDeploymentPolicyInUse",$fault:"client",...f});Object.setPrototypeOf(this,Gm.prototype),this.Message=f.Message}}class $m extends R{name="IllegalOriginAccessConfiguration";$fault="client";Message;constructor(f){super({name:"IllegalOriginAccessConfiguration",$fault:"client",...f});Object.setPrototypeOf(this,$m.prototype),this.Message=f.Message}}class Dm extends R{name="InvalidDomainNameForOriginAccessControl";$fault="client";Message;constructor(f){super({name:"InvalidDomainNameForOriginAccessControl",$fault:"client",...f});Object.setPrototypeOf(this,Dm.prototype),this.Message=f.Message}}class Zm extends R{name="NoSuchContinuousDeploymentPolicy";$fault="client";Message;constructor(f){super({name:"NoSuchContinuousDeploymentPolicy",$fault:"client",...f});Object.setPrototypeOf(this,Zm.prototype),this.Message=f.Message}}class Nm extends R{name="InvalidAssociation";$fault="client";Message;constructor(f){super({name:"InvalidAssociation",$fault:"client",...f});Object.setPrototypeOf(this,Nm.prototype),this.Message=f.Message}}class Ym extends R{name="FieldLevelEncryptionConfigAlreadyExists";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionConfigAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Ym.prototype),this.Message=f.Message}}class Em extends R{name="NoSuchFieldLevelEncryptionProfile";$fault="client";Message;constructor(f){super({name:"NoSuchFieldLevelEncryptionProfile",$fault:"client",...f});Object.setPrototypeOf(this,Em.prototype),this.Message=f.Message}}class Xm extends R{name="QueryArgProfileEmpty";$fault="client";Message;constructor(f){super({name:"QueryArgProfileEmpty",$fault:"client",...f});Object.setPrototypeOf(this,Xm.prototype),this.Message=f.Message}}class Jm extends R{name="TooManyFieldLevelEncryptionConfigs";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionConfigs",$fault:"client",...f});Object.setPrototypeOf(this,Jm.prototype),this.Message=f.Message}}class Hm extends R{name="TooManyFieldLevelEncryptionContentTypeProfiles";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionContentTypeProfiles",$fault:"client",...f});Object.setPrototypeOf(this,Hm.prototype),this.Message=f.Message}}class Tm extends R{name="TooManyFieldLevelEncryptionQueryArgProfiles";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionQueryArgProfiles",$fault:"client",...f});Object.setPrototypeOf(this,Tm.prototype),this.Message=f.Message}}class Qm extends R{name="FieldLevelEncryptionProfileAlreadyExists";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionProfileAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Qm.prototype),this.Message=f.Message}}class Vm extends R{name="FieldLevelEncryptionProfileSizeExceeded";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionProfileSizeExceeded",$fault:"client",...f});Object.setPrototypeOf(this,Vm.prototype),this.Message=f.Message}}class Pm extends R{name="NoSuchPublicKey";$fault="client";Message;constructor(f){super({name:"NoSuchPublicKey",$fault:"client",...f});Object.setPrototypeOf(this,Pm.prototype),this.Message=f.Message}}class km extends R{name="TooManyFieldLevelEncryptionEncryptionEntities";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionEncryptionEntities",$fault:"client",...f});Object.setPrototypeOf(this,km.prototype),this.Message=f.Message}}class _m extends R{name="TooManyFieldLevelEncryptionFieldPatterns";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionFieldPatterns",$fault:"client",...f});Object.setPrototypeOf(this,_m.prototype),this.Message=f.Message}}class qm extends R{name="TooManyFieldLevelEncryptionProfiles";$fault="client";Message;constructor(f){super({name:"TooManyFieldLevelEncryptionProfiles",$fault:"client",...f});Object.setPrototypeOf(this,qm.prototype),this.Message=f.Message}}class Cm extends R{name="FunctionAlreadyExists";$fault="client";Message;constructor(f){super({name:"FunctionAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Cm.prototype),this.Message=f.Message}}class Am extends R{name="FunctionSizeLimitExceeded";$fault="client";Message;constructor(f){super({name:"FunctionSizeLimitExceeded",$fault:"client",...f});Object.setPrototypeOf(this,Am.prototype),this.Message=f.Message}}class jm extends R{name="TooManyFunctions";$fault="client";Message;constructor(f){super({name:"TooManyFunctions",$fault:"client",...f});Object.setPrototypeOf(this,jm.prototype),this.Message=f.Message}}class gm extends R{name="TooManyInvalidationsInProgress";$fault="client";Message;constructor(f){super({name:"TooManyInvalidationsInProgress",$fault:"client",...f});Object.setPrototypeOf(this,gm.prototype),this.Message=f.Message}}class ym extends R{name="KeyGroupAlreadyExists";$fault="client";Message;constructor(f){super({name:"KeyGroupAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,ym.prototype),this.Message=f.Message}}class Om extends R{name="TooManyKeyGroups";$fault="client";Message;constructor(f){super({name:"TooManyKeyGroups",$fault:"client",...f});Object.setPrototypeOf(this,Om.prototype),this.Message=f.Message}}class rm extends R{name="TooManyPublicKeysInKeyGroup";$fault="client";Message;constructor(f){super({name:"TooManyPublicKeysInKeyGroup",$fault:"client",...f});Object.setPrototypeOf(this,rm.prototype),this.Message=f.Message}}class am extends R{name="EntitySizeLimitExceeded";$fault="client";Message;constructor(f){super({name:"EntitySizeLimitExceeded",$fault:"client",...f});Object.setPrototypeOf(this,am.prototype),this.Message=f.Message}}class bm extends R{name="MonitoringSubscriptionAlreadyExists";$fault="client";Message;constructor(f){super({name:"MonitoringSubscriptionAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,bm.prototype),this.Message=f.Message}}class dm extends R{name="OriginAccessControlAlreadyExists";$fault="client";Message;constructor(f){super({name:"OriginAccessControlAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,dm.prototype),this.Message=f.Message}}class xm extends R{name="TooManyOriginAccessControls";$fault="client";Message;constructor(f){super({name:"TooManyOriginAccessControls",$fault:"client",...f});Object.setPrototypeOf(this,xm.prototype),this.Message=f.Message}}class im extends R{name="OriginRequestPolicyAlreadyExists";$fault="client";Message;constructor(f){super({name:"OriginRequestPolicyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,im.prototype),this.Message=f.Message}}class sm extends R{name="TooManyCookiesInOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"TooManyCookiesInOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,sm.prototype),this.Message=f.Message}}class cm extends R{name="TooManyHeadersInOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"TooManyHeadersInOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,cm.prototype),this.Message=f.Message}}class em extends R{name="TooManyOriginRequestPolicies";$fault="client";Message;constructor(f){super({name:"TooManyOriginRequestPolicies",$fault:"client",...f});Object.setPrototypeOf(this,em.prototype),this.Message=f.Message}}class nm extends R{name="TooManyQueryStringsInOriginRequestPolicy";$fault="client";Message;constructor(f){super({name:"TooManyQueryStringsInOriginRequestPolicy",$fault:"client",...f});Object.setPrototypeOf(this,nm.prototype),this.Message=f.Message}}class pm extends R{name="PublicKeyAlreadyExists";$fault="client";Message;constructor(f){super({name:"PublicKeyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,pm.prototype),this.Message=f.Message}}class om extends R{name="TooManyPublicKeys";$fault="client";Message;constructor(f){super({name:"TooManyPublicKeys",$fault:"client",...f});Object.setPrototypeOf(this,om.prototype),this.Message=f.Message}}class um extends R{name="RealtimeLogConfigAlreadyExists";$fault="client";Message;constructor(f){super({name:"RealtimeLogConfigAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,um.prototype),this.Message=f.Message}}class tm extends R{name="TooManyRealtimeLogConfigs";$fault="client";Message;constructor(f){super({name:"TooManyRealtimeLogConfigs",$fault:"client",...f});Object.setPrototypeOf(this,tm.prototype),this.Message=f.Message}}class fv extends R{name="ResponseHeadersPolicyAlreadyExists";$fault="client";Message;constructor(f){super({name:"ResponseHeadersPolicyAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,fv.prototype),this.Message=f.Message}}class lv extends R{name="TooLongCSPInResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"TooLongCSPInResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,lv.prototype),this.Message=f.Message}}class mv extends R{name="TooManyCustomHeadersInResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"TooManyCustomHeadersInResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,mv.prototype),this.Message=f.Message}}class vv extends R{name="TooManyRemoveHeadersInResponseHeadersPolicy";$fault="client";Message;constructor(f){super({name:"TooManyRemoveHeadersInResponseHeadersPolicy",$fault:"client",...f});Object.setPrototypeOf(this,vv.prototype),this.Message=f.Message}}class wv extends R{name="TooManyResponseHeadersPolicies";$fault="client";Message;constructor(f){super({name:"TooManyResponseHeadersPolicies",$fault:"client",...f});Object.setPrototypeOf(this,wv.prototype),this.Message=f.Message}}class Sv extends R{name="StreamingDistributionAlreadyExists";$fault="client";Message;constructor(f){super({name:"StreamingDistributionAlreadyExists",$fault:"client",...f});Object.setPrototypeOf(this,Sv.prototype),this.Message=f.Message}}class hv extends R{name="TooManyStreamingDistributionCNAMEs";$fault="client";Message;constructor(f){super({name:"TooManyStreamingDistributionCNAMEs",$fault:"client",...f});Object.setPrototypeOf(this,hv.prototype),this.Message=f.Message}}class Rv extends R{name="TooManyStreamingDistributions";$fault="client";Message;constructor(f){super({name:"TooManyStreamingDistributions",$fault:"client",...f});Object.setPrototypeOf(this,Rv.prototype),this.Message=f.Message}}class Iv extends R{name="IllegalDelete";$fault="client";Message;constructor(f){super({name:"IllegalDelete",$fault:"client",...f});Object.setPrototypeOf(this,Iv.prototype),this.Message=f.Message}}class Lv extends R{name="CloudFrontOriginAccessIdentityInUse";$fault="client";Message;constructor(f){super({name:"CloudFrontOriginAccessIdentityInUse",$fault:"client",...f});Object.setPrototypeOf(this,Lv.prototype),this.Message=f.Message}}class Kv extends R{name="NoSuchCloudFrontOriginAccessIdentity";$fault="client";Message;constructor(f){super({name:"NoSuchCloudFrontOriginAccessIdentity",$fault:"client",...f});Object.setPrototypeOf(this,Kv.prototype),this.Message=f.Message}}class Fv extends R{name="ResourceNotDisabled";$fault="client";Message;constructor(f){super({name:"ResourceNotDisabled",$fault:"client",...f});Object.setPrototypeOf(this,Fv.prototype),this.Message=f.Message}}class Bv extends R{name="DistributionNotDisabled";$fault="client";Message;constructor(f){super({name:"DistributionNotDisabled",$fault:"client",...f});Object.setPrototypeOf(this,Bv.prototype),this.Message=f.Message}}class Wv extends R{name="ResourceInUse";$fault="client";Message;constructor(f){super({name:"ResourceInUse",$fault:"client",...f});Object.setPrototypeOf(this,Wv.prototype),this.Message=f.Message}}class Mv extends R{name="FieldLevelEncryptionConfigInUse";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionConfigInUse",$fault:"client",...f});Object.setPrototypeOf(this,Mv.prototype),this.Message=f.Message}}class Uv extends R{name="FieldLevelEncryptionProfileInUse";$fault="client";Message;constructor(f){super({name:"FieldLevelEncryptionProfileInUse",$fault:"client",...f});Object.setPrototypeOf(this,Uv.prototype),this.Message=f.Message}}class zv extends R{name="FunctionInUse";$fault="client";Message;constructor(f){super({name:"FunctionInUse",$fault:"client",...f});Object.setPrototypeOf(this,zv.prototype),this.Message=f.Message}}class Gv extends R{name="NoSuchFunctionExists";$fault="client";Message;constructor(f){super({name:"NoSuchFunctionExists",$fault:"client",...f});Object.setPrototypeOf(this,Gv.prototype),this.Message=f.Message}}class $v extends R{name="NoSuchResource";$fault="client";Message;constructor(f){super({name:"NoSuchResource",$fault:"client",...f});Object.setPrototypeOf(this,$v.prototype),this.Message=f.Message}}class Dv extends R{name="NoSuchMonitoringSubscription";$fault="client";Message;constructor(f){super({name:"NoSuchMonitoringSubscription",$fault:"client",...f});Object.setPrototypeOf(this,Dv.prototype),this.Message=f.Message}}class Zv extends R{name="NoSuchOriginAccessControl";$fault="client";Message;constructor(f){super({name:"NoSuchOriginAccessControl",$fault:"client",...f});Object.setPrototypeOf(this,Zv.prototype),this.Message=f.Message}}class Nv extends R{name="OriginAccessControlInUse";$fault="client";Message;constructor(f){super({name:"OriginAccessControlInUse",$fault:"client",...f});Object.setPrototypeOf(this,Nv.prototype),this.Message=f.Message}}class Yv extends R{name="OriginRequestPolicyInUse";$fault="client";Message;constructor(f){super({name:"OriginRequestPolicyInUse",$fault:"client",...f});Object.setPrototypeOf(this,Yv.prototype),this.Message=f.Message}}class Ev extends R{name="PublicKeyInUse";$fault="client";Message;constructor(f){super({name:"PublicKeyInUse",$fault:"client",...f});Object.setPrototypeOf(this,Ev.prototype),this.Message=f.Message}}class Xv extends R{name="RealtimeLogConfigInUse";$fault="client";Message;constructor(f){super({name:"RealtimeLogConfigInUse",$fault:"client",...f});Object.setPrototypeOf(this,Xv.prototype),this.Message=f.Message}}class Jv extends R{name="ResponseHeadersPolicyInUse";$fault="client";Message;constructor(f){super({name:"ResponseHeadersPolicyInUse",$fault:"client",...f});Object.setPrototypeOf(this,Jv.prototype),this.Message=f.Message}}class Hv extends R{name="NoSuchStreamingDistribution";$fault="client";Message;constructor(f){super({name:"NoSuchStreamingDistribution",$fault:"client",...f});Object.setPrototypeOf(this,Hv.prototype),this.Message=f.Message}}class Tv extends R{name="StreamingDistributionNotDisabled";$fault="client";Message;constructor(f){super({name:"StreamingDistributionNotDisabled",$fault:"client",...f});Object.setPrototypeOf(this,Tv.prototype),this.Message=f.Message}}class Qv extends R{name="NoSuchInvalidation";$fault="client";Message;constructor(f){super({name:"NoSuchInvalidation",$fault:"client",...f});Object.setPrototypeOf(this,Qv.prototype),this.Message=f.Message}}class Vv extends R{name="TestFunctionFailed";$fault="server";Message;constructor(f){super({name:"TestFunctionFailed",$fault:"server",...f});Object.setPrototypeOf(this,Vv.prototype),this.Message=f.Message}}var vS=async(f,m)=>{let l=mS.requestBuilder(f,m),v={"content-type":"application/xml"};l.bp("/2020-05-31/distribution/{DistributionId}/invalidation"),l.p("DistributionId",()=>f.DistributionId,"{DistributionId}",!1);let w,F;if(f.InvalidationBatch!==void 0)F=j4(f.InvalidationBatch,m),w=s4,F.a("xmlns","http://cloudfront.amazonaws.com/doc/2020-05-31/"),w+=F.toString();return l.m("POST").h(v).b(w),l.build()};var wS=async(f,m)=>{if(f.statusCode!==201&&f.statusCode>=300)return xh(f,m);let l=I({$metadata:K(f),[d4]:[,f.headers[i4]]}),v=h.expectObject(await zf.parseXmlBody(f.body,m));return l.Invalidation=O4(v,m),l};var xh=async(f,m)=>{let l={...f,body:await zf.parseXmlErrorBody(f.body,m)},v=zf.loadRestXmlErrorCode(f,l.body);switch(v){case"AccessDenied":case"com.amazonaws.cloudfront#AccessDenied":throw await sh(l,m);case"IllegalUpdate":case"com.amazonaws.cloudfront#IllegalUpdate":throw await NR(l,m);case"InvalidArgument":case"com.amazonaws.cloudfront#InvalidArgument":throw await ER(l,m);case"NoSuchDistribution":case"com.amazonaws.cloudfront#NoSuchDistribution":throw await mI(l,m);case"TooManyDistributionCNAMEs":case"com.amazonaws.cloudfront#TooManyDistributionCNAMEs":throw await iI(l,m);case"EntityNotFound":case"com.amazonaws.cloudfront#EntityNotFound":throw await IR(l,m);case"InvalidIfMatchVersion":case"com.amazonaws.cloudfront#InvalidIfMatchVersion":throw await _R(l,m);case"PreconditionFailed":case"com.amazonaws.cloudfront#PreconditionFailed":throw await ZI(l,m);case"CNAMEAlreadyExists":case"com.amazonaws.cloudfront#CNAMEAlreadyExists":throw await lR(l,m);case"DistributionAlreadyExists":case"com.amazonaws.cloudfront#DistributionAlreadyExists":throw await wR(l,m);case"IllegalFieldLevelEncryptionConfigAssociationWithCacheBehavior":case"com.amazonaws.cloudfront#IllegalFieldLevelEncryptionConfigAssociationWithCacheBehavior":throw await DR(l,m);case"InconsistentQuantities":case"com.amazonaws.cloudfront#InconsistentQuantities":throw await YR(l,m);case"InvalidDefaultRootObject":case"com.amazonaws.cloudfront#InvalidDefaultRootObject":throw await JR(l,m);case"InvalidErrorCode":case"com.amazonaws.cloudfront#InvalidErrorCode":throw await TR(l,m);case"InvalidForwardCookies":case"com.amazonaws.cloudfront#InvalidForwardCookies":throw await QR(l,m);case"InvalidFunctionAssociation":case"com.amazonaws.cloudfront#InvalidFunctionAssociation":throw await VR(l,m);case"InvalidGeoRestrictionParameter":case"com.amazonaws.cloudfront#InvalidGeoRestrictionParameter":throw await PR(l,m);case"InvalidHeadersForS3Origin":case"com.amazonaws.cloudfront#InvalidHeadersForS3Origin":throw await kR(l,m);case"InvalidLambdaFunctionAssociation":case"com.amazonaws.cloudfront#InvalidLambdaFunctionAssociation":throw await qR(l,m);case"InvalidLocationCode":case"com.amazonaws.cloudfront#InvalidLocationCode":throw await CR(l,m);case"InvalidMinimumProtocolVersion":case"com.amazonaws.cloudfront#InvalidMinimumProtocolVersion":throw await AR(l,m);case"InvalidOrigin":case"com.amazonaws.cloudfront#InvalidOrigin":throw await jR(l,m);case"InvalidOriginAccessControl":case"com.amazonaws.cloudfront#InvalidOriginAccessControl":throw await gR(l,m);case"InvalidOriginAccessIdentity":case"com.amazonaws.cloudfront#InvalidOriginAccessIdentity":throw await yR(l,m);case"InvalidOriginKeepaliveTimeout":case"com.amazonaws.cloudfront#InvalidOriginKeepaliveTimeout":throw await OR(l,m);case"InvalidOriginReadTimeout":case"com.amazonaws.cloudfront#InvalidOriginReadTimeout":throw await rR(l,m);case"InvalidProtocolSettings":case"com.amazonaws.cloudfront#InvalidProtocolSettings":throw await aR(l,m);case"InvalidQueryStringParameters":case"com.amazonaws.cloudfront#InvalidQueryStringParameters":throw await bR(l,m);case"InvalidRelativePath":case"com.amazonaws.cloudfront#InvalidRelativePath":throw await dR(l,m);case"InvalidRequiredProtocol":case"com.amazonaws.cloudfront#InvalidRequiredProtocol":throw await xR(l,m);case"InvalidResponseCode":case"com.amazonaws.cloudfront#InvalidResponseCode":throw await iR(l,m);case"InvalidTTLOrder":case"com.amazonaws.cloudfront#InvalidTTLOrder":throw await cR(l,m);case"InvalidViewerCertificate":case"com.amazonaws.cloudfront#InvalidViewerCertificate":throw await eR(l,m);case"InvalidWebACLId":case"com.amazonaws.cloudfront#InvalidWebACLId":throw await nR(l,m);case"MissingBody":case"com.amazonaws.cloudfront#MissingBody":throw await oR(l,m);case"NoSuchCachePolicy":case"com.amazonaws.cloudfront#NoSuchCachePolicy":throw await tR(l,m);case"NoSuchFieldLevelEncryptionConfig":case"com.amazonaws.cloudfront#NoSuchFieldLevelEncryptionConfig":throw await vI(l,m);case"NoSuchOrigin":case"com.amazonaws.cloudfront#NoSuchOrigin":throw await II(l,m);case"NoSuchOriginRequestPolicy":case"com.amazonaws.cloudfront#NoSuchOriginRequestPolicy":throw await KI(l,m);case"NoSuchRealtimeLogConfig":case"com.amazonaws.cloudfront#NoSuchRealtimeLogConfig":throw await BI(l,m);case"NoSuchResponseHeadersPolicy":case"com.amazonaws.cloudfront#NoSuchResponseHeadersPolicy":throw await MI(l,m);case"RealtimeLogConfigOwnerMismatch":case"com.amazonaws.cloudfront#RealtimeLogConfigOwnerMismatch":throw await HI(l,m);case"TooManyCacheBehaviors":case"com.amazonaws.cloudfront#TooManyCacheBehaviors":throw await jI(l,m);case"TooManyCertificates":case"com.amazonaws.cloudfront#TooManyCertificates":throw await yI(l,m);case"TooManyCookieNamesInWhiteList":case"com.amazonaws.cloudfront#TooManyCookieNamesInWhiteList":throw await aI(l,m);case"TooManyDistributions":case"com.amazonaws.cloudfront#TooManyDistributions":throw await sI(l,m);case"TooManyDistributionsAssociatedToCachePolicy":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToCachePolicy":throw await cI(l,m);case"TooManyDistributionsAssociatedToFieldLevelEncryptionConfig":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToFieldLevelEncryptionConfig":throw await eI(l,m);case"TooManyDistributionsAssociatedToKeyGroup":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToKeyGroup":throw await nI(l,m);case"TooManyDistributionsAssociatedToOriginAccessControl":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToOriginAccessControl":throw await pI(l,m);case"TooManyDistributionsAssociatedToOriginRequestPolicy":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToOriginRequestPolicy":throw await oI(l,m);case"TooManyDistributionsAssociatedToResponseHeadersPolicy":case"com.amazonaws.cloudfront#TooManyDistributionsAssociatedToResponseHeadersPolicy":throw await uI(l,m);case"TooManyDistributionsWithFunctionAssociations":case"com.amazonaws.cloudfront#TooManyDistributionsWithFunctionAssociations":throw await tI(l,m);case"TooManyDistributionsWithLambdaAssociations":case"com.amazonaws.cloudfront#TooManyDistributionsWithLambdaAssociations":throw await f4(l,m);case"TooManyDistributionsWithSingleFunctionARN":case"com.amazonaws.cloudfront#TooManyDistributionsWithSingleFunctionARN":throw await l4(l,m);case"TooManyFunctionAssociations":case"com.amazonaws.cloudfront#TooManyFunctionAssociations":throw await I4(l,m);case"TooManyHeadersInForwardedValues":case"com.amazonaws.cloudfront#TooManyHeadersInForwardedValues":throw await F4(l,m);case"TooManyKeyGroupsAssociatedToDistribution":case"com.amazonaws.cloudfront#TooManyKeyGroupsAssociatedToDistribution":throw await U4(l,m);case"TooManyLambdaFunctionAssociations":case"com.amazonaws.cloudfront#TooManyLambdaFunctionAssociations":throw await z4(l,m);case"TooManyOriginCustomHeaders":case"com.amazonaws.cloudfront#TooManyOriginCustomHeaders":throw await $4(l,m);case"TooManyOriginGroupsPerDistribution":case"com.amazonaws.cloudfront#TooManyOriginGroupsPerDistribution":throw await D4(l,m);case"TooManyOrigins":case"com.amazonaws.cloudfront#TooManyOrigins":throw await N4(l,m);case"TooManyQueryStringParameters":case"com.amazonaws.cloudfront#TooManyQueryStringParameters":throw await X4(l,m);case"TooManyTrustedSigners":case"com.amazonaws.cloudfront#TooManyTrustedSigners":throw await _4(l,m);case"TrustedKeyGroupDoesNotExist":case"com.amazonaws.cloudfront#TrustedKeyGroupDoesNotExist":throw await q4(l,m);case"TrustedSignerDoesNotExist":case"com.amazonaws.cloudfront#TrustedSignerDoesNotExist":throw await C4(l,m);case"EntityAlreadyExists":case"com.amazonaws.cloudfront#EntityAlreadyExists":throw await hR(l,m);case"EntityLimitExceeded":case"com.amazonaws.cloudfront#EntityLimitExceeded":throw await RR(l,m);case"InvalidTagging":case"com.amazonaws.cloudfront#InvalidTagging":throw await sR(l,m);case"UnsupportedOperation":case"com.amazonaws.cloudfront#UnsupportedOperation":throw await A4(l,m);case"CachePolicyAlreadyExists":case"com.amazonaws.cloudfront#CachePolicyAlreadyExists":throw await eh(l,m);case"TooManyCachePolicies":case"com.amazonaws.cloudfront#TooManyCachePolicies":throw await gI(l,m);case"TooManyCookiesInCachePolicy":case"com.amazonaws.cloudfront#TooManyCookiesInCachePolicy":throw await bI(l,m);case"TooManyHeadersInCachePolicy":case"com.amazonaws.cloudfront#TooManyHeadersInCachePolicy":throw await K4(l,m);case"TooManyQueryStringsInCachePolicy":case"com.amazonaws.cloudfront#TooManyQueryStringsInCachePolicy":throw await J4(l,m);case"CloudFrontOriginAccessIdentityAlreadyExists":case"com.amazonaws.cloudfront#CloudFrontOriginAccessIdentityAlreadyExists":throw await th(l,m);case"TooManyCloudFrontOriginAccessIdentities":case"com.amazonaws.cloudfront#TooManyCloudFrontOriginAccessIdentities":throw await OI(l,m);case"ContinuousDeploymentPolicyAlreadyExists":case"com.amazonaws.cloudfront#ContinuousDeploymentPolicyAlreadyExists":throw await mR(l,m);case"StagingDistributionInUse":case"com.amazonaws.cloudfront#StagingDistributionInUse":throw await kI(l,m);case"TooManyContinuousDeploymentPolicies":case"com.amazonaws.cloudfront#TooManyContinuousDeploymentPolicies":throw await rI(l,m);case"ContinuousDeploymentPolicyInUse":case"com.amazonaws.cloudfront#ContinuousDeploymentPolicyInUse":throw await vR(l,m);case"IllegalOriginAccessConfiguration":case"com.amazonaws.cloudfront#IllegalOriginAccessConfiguration":throw await ZR(l,m);case"InvalidDomainNameForOriginAccessControl":case"com.amazonaws.cloudfront#InvalidDomainNameForOriginAccessControl":throw await HR(l,m);case"NoSuchContinuousDeploymentPolicy":case"com.amazonaws.cloudfront#NoSuchContinuousDeploymentPolicy":throw await lI(l,m);case"InvalidAssociation":case"com.amazonaws.cloudfront#InvalidAssociation":throw await XR(l,m);case"FieldLevelEncryptionConfigAlreadyExists":case"com.amazonaws.cloudfront#FieldLevelEncryptionConfigAlreadyExists":throw await KR(l,m);case"NoSuchFieldLevelEncryptionProfile":case"com.amazonaws.cloudfront#NoSuchFieldLevelEncryptionProfile":throw await wI(l,m);case"QueryArgProfileEmpty":case"com.amazonaws.cloudfront#QueryArgProfileEmpty":throw await EI(l,m);case"TooManyFieldLevelEncryptionConfigs":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionConfigs":throw await m4(l,m);case"TooManyFieldLevelEncryptionContentTypeProfiles":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionContentTypeProfiles":throw await v4(l,m);case"TooManyFieldLevelEncryptionQueryArgProfiles":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionQueryArgProfiles":throw await R4(l,m);case"FieldLevelEncryptionProfileAlreadyExists":case"com.amazonaws.cloudfront#FieldLevelEncryptionProfileAlreadyExists":throw await BR(l,m);case"FieldLevelEncryptionProfileSizeExceeded":case"com.amazonaws.cloudfront#FieldLevelEncryptionProfileSizeExceeded":throw await MR(l,m);case"NoSuchPublicKey":case"com.amazonaws.cloudfront#NoSuchPublicKey":throw await FI(l,m);case"TooManyFieldLevelEncryptionEncryptionEntities":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionEncryptionEntities":throw await w4(l,m);case"TooManyFieldLevelEncryptionFieldPatterns":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionFieldPatterns":throw await S4(l,m);case"TooManyFieldLevelEncryptionProfiles":case"com.amazonaws.cloudfront#TooManyFieldLevelEncryptionProfiles":throw await h4(l,m);case"FunctionAlreadyExists":case"com.amazonaws.cloudfront#FunctionAlreadyExists":throw await UR(l,m);case"FunctionSizeLimitExceeded":case"com.amazonaws.cloudfront#FunctionSizeLimitExceeded":throw await GR(l,m);case"TooManyFunctions":case"com.amazonaws.cloudfront#TooManyFunctions":throw await L4(l,m);case"BatchTooLarge":case"com.amazonaws.cloudfront#BatchTooLarge":throw await ch(l,m);case"TooManyInvalidationsInProgress":case"com.amazonaws.cloudfront#TooManyInvalidationsInProgress":throw await W4(l,m);case"KeyGroupAlreadyExists":case"com.amazonaws.cloudfront#KeyGroupAlreadyExists":throw await pR(l,m);case"TooManyKeyGroups":case"com.amazonaws.cloudfront#TooManyKeyGroups":throw await M4(l,m);case"TooManyPublicKeysInKeyGroup":case"com.amazonaws.cloudfront#TooManyPublicKeysInKeyGroup":throw await E4(l,m);case"EntitySizeLimitExceeded":case"com.amazonaws.cloudfront#EntitySizeLimitExceeded":throw await LR(l,m);case"MonitoringSubscriptionAlreadyExists":case"com.amazonaws.cloudfront#MonitoringSubscriptionAlreadyExists":throw await uR(l,m);case"OriginAccessControlAlreadyExists":case"com.amazonaws.cloudfront#OriginAccessControlAlreadyExists":throw await zI(l,m);case"TooManyOriginAccessControls":case"com.amazonaws.cloudfront#TooManyOriginAccessControls":throw await G4(l,m);case"OriginRequestPolicyAlreadyExists":case"com.amazonaws.cloudfront#OriginRequestPolicyAlreadyExists":throw await $I(l,m);case"TooManyCookiesInOriginRequestPolicy":case"com.amazonaws.cloudfront#TooManyCookiesInOriginRequestPolicy":throw await dI(l,m);case"TooManyHeadersInOriginRequestPolicy":case"com.amazonaws.cloudfront#TooManyHeadersInOriginRequestPolicy":throw await B4(l,m);case"TooManyOriginRequestPolicies":case"com.amazonaws.cloudfront#TooManyOriginRequestPolicies":throw await Z4(l,m);case"TooManyQueryStringsInOriginRequestPolicy":case"com.amazonaws.cloudfront#TooManyQueryStringsInOriginRequestPolicy":throw await H4(l,m);case"PublicKeyAlreadyExists":case"com.amazonaws.cloudfront#PublicKeyAlreadyExists":throw await NI(l,m);case"TooManyPublicKeys":case"com.amazonaws.cloudfront#TooManyPublicKeys":throw await Y4(l,m);case"RealtimeLogConfigAlreadyExists":case"com.amazonaws.cloudfront#RealtimeLogConfigAlreadyExists":throw await XI(l,m);case"TooManyRealtimeLogConfigs":case"com.amazonaws.cloudfront#TooManyRealtimeLogConfigs":throw await T4(l,m);case"ResponseHeadersPolicyAlreadyExists":case"com.amazonaws.cloudfront#ResponseHeadersPolicyAlreadyExists":throw await VI(l,m);case"TooLongCSPInResponseHeadersPolicy":case"com.amazonaws.cloudfront#TooLongCSPInResponseHeadersPolicy":throw await AI(l,m);case"TooManyCustomHeadersInResponseHeadersPolicy":case"com.amazonaws.cloudfront#TooManyCustomHeadersInResponseHeadersPolicy":throw await xI(l,m);case"TooManyRemoveHeadersInResponseHeadersPolicy":case"com.amazonaws.cloudfront#TooManyRemoveHeadersInResponseHeadersPolicy":throw await Q4(l,m);case"TooManyResponseHeadersPolicies":case"com.amazonaws.cloudfront#TooManyResponseHeadersPolicies":throw await V4(l,m);case"StreamingDistributionAlreadyExists":case"com.amazonaws.cloudfront#StreamingDistributionAlreadyExists":throw await _I(l,m);case"TooManyStreamingDistributionCNAMEs":case"com.amazonaws.cloudfront#TooManyStreamingDistributionCNAMEs":throw await P4(l,m);case"TooManyStreamingDistributions":case"com.amazonaws.cloudfront#TooManyStreamingDistributions":throw await k4(l,m);case"CannotDeleteEntityWhileInUse":case"com.amazonaws.cloudfront#CannotDeleteEntityWhileInUse":throw await oh(l,m);case"IllegalDelete":case"com.amazonaws.cloudfront#IllegalDelete":throw await $R(l,m);case"CachePolicyInUse":case"com.amazonaws.cloudfront#CachePolicyInUse":throw await nh(l,m);case"CloudFrontOriginAccessIdentityInUse":case"com.amazonaws.cloudfront#CloudFrontOriginAccessIdentityInUse":throw await fR(l,m);case"NoSuchCloudFrontOriginAccessIdentity":case"com.amazonaws.cloudfront#NoSuchCloudFrontOriginAccessIdentity":throw await fI(l,m);case"ResourceNotDisabled":case"com.amazonaws.cloudfront#ResourceNotDisabled":throw await QI(l,m);case"DistributionNotDisabled":case"com.amazonaws.cloudfront#DistributionNotDisabled":throw await SR(l,m);case"ResourceInUse":case"com.amazonaws.cloudfront#ResourceInUse":throw await TI(l,m);case"FieldLevelEncryptionConfigInUse":case"com.amazonaws.cloudfront#FieldLevelEncryptionConfigInUse":throw await FR(l,m);case"FieldLevelEncryptionProfileInUse":case"com.amazonaws.cloudfront#FieldLevelEncryptionProfileInUse":throw await WR(l,m);case"FunctionInUse":case"com.amazonaws.cloudfront#FunctionInUse":throw await zR(l,m);case"NoSuchFunctionExists":case"com.amazonaws.cloudfront#NoSuchFunctionExists":throw await SI(l,m);case"NoSuchResource":case"com.amazonaws.cloudfront#NoSuchResource":throw await WI(l,m);case"NoSuchMonitoringSubscription":case"com.amazonaws.cloudfront#NoSuchMonitoringSubscription":throw await RI(l,m);case"NoSuchOriginAccessControl":case"com.amazonaws.cloudfront#NoSuchOriginAccessControl":throw await LI(l,m);case"OriginAccessControlInUse":case"com.amazonaws.cloudfront#OriginAccessControlInUse":throw await GI(l,m);case"OriginRequestPolicyInUse":case"com.amazonaws.cloudfront#OriginRequestPolicyInUse":throw await DI(l,m);case"PublicKeyInUse":case"com.amazonaws.cloudfront#PublicKeyInUse":throw await YI(l,m);case"RealtimeLogConfigInUse":case"com.amazonaws.cloudfront#RealtimeLogConfigInUse":throw await JI(l,m);case"ResponseHeadersPolicyInUse":case"com.amazonaws.cloudfront#ResponseHeadersPolicyInUse":throw await PI(l,m);case"NoSuchStreamingDistribution":case"com.amazonaws.cloudfront#NoSuchStreamingDistribution":throw await UI(l,m);case"StreamingDistributionNotDisabled":case"com.amazonaws.cloudfront#StreamingDistributionNotDisabled":throw await qI(l,m);case"NoSuchInvalidation":case"com.amazonaws.cloudfront#NoSuchInvalidation":throw await hI(l,m);case"TestFunctionFailed":case"com.amazonaws.cloudfront#TestFunctionFailed":throw await CI(l,m);case"CannotChangeImmutablePublicKeyFields":case"com.amazonaws.cloudfront#CannotChangeImmutablePublicKeyFields":throw await ph(l,m);case"CannotUpdateEntityWhileInUse":case"com.amazonaws.cloudfront#CannotUpdateEntityWhileInUse":throw await uh(l,m);default:let w=l.body;return ih({output:f,parsedBody:w.Error,errorCode:v})}},ih=fS(R),sh=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Of({$metadata:K(f),...l});return L(w,f.body.Error)},ch=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new ef({$metadata:K(f),...l});return L(w,f.body.Error)},eh=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new nf({$metadata:K(f),...l});return L(w,f.body.Error)},nh=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new pf({$metadata:K(f),...l});return L(w,f.body.Error)},ph=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new of({$metadata:K(f),...l});return L(w,f.body.Error)},oh=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new uf({$metadata:K(f),...l});return L(w,f.body.Error)},uh=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new tf({$metadata:K(f),...l});return L(w,f.body.Error)},th=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Bm({$metadata:K(f),...l});return L(w,f.body.Error)},fR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Lv({$metadata:K(f),...l});return L(w,f.body.Error)},lR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new fl({$metadata:K(f),...l});return L(w,f.body.Error)},mR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Mm({$metadata:K(f),...l});return L(w,f.body.Error)},vR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Gm({$metadata:K(f),...l});return L(w,f.body.Error)},wR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new ll({$metadata:K(f),...l});return L(w,f.body.Error)},SR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Bv({$metadata:K(f),...l});return L(w,f.body.Error)},hR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new wm({$metadata:K(f),...l});return L(w,f.body.Error)},RR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Sm({$metadata:K(f),...l});return L(w,f.body.Error)},IR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new xf({$metadata:K(f),...l});return L(w,f.body.Error)},LR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new am({$metadata:K(f),...l});return L(w,f.body.Error)},KR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Ym({$metadata:K(f),...l});return L(w,f.body.Error)},FR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Mv({$metadata:K(f),...l});return L(w,f.body.Error)},BR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Qm({$metadata:K(f),...l});return L(w,f.body.Error)},WR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Uv({$metadata:K(f),...l});return L(w,f.body.Error)},MR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Vm({$metadata:K(f),...l});return L(w,f.body.Error)},UR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Cm({$metadata:K(f),...l});return L(w,f.body.Error)},zR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new zv({$metadata:K(f),...l});return L(w,f.body.Error)},GR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Am({$metadata:K(f),...l});return L(w,f.body.Error)},$R=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Iv({$metadata:K(f),...l});return L(w,f.body.Error)},DR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new ml({$metadata:K(f),...l});return L(w,f.body.Error)},ZR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new $m({$metadata:K(f),...l});return L(w,f.body.Error)},NR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new rf({$metadata:K(f),...l});return L(w,f.body.Error)},YR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new vl({$metadata:K(f),...l});return L(w,f.body.Error)},ER=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new af({$metadata:K(f),...l});return L(w,f.body.Error)},XR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Nm({$metadata:K(f),...l});return L(w,f.body.Error)},JR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new wl({$metadata:K(f),...l});return L(w,f.body.Error)},HR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Dm({$metadata:K(f),...l});return L(w,f.body.Error)},TR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Sl({$metadata:K(f),...l});return L(w,f.body.Error)},QR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new hl({$metadata:K(f),...l});return L(w,f.body.Error)},VR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Rl({$metadata:K(f),...l});return L(w,f.body.Error)},PR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Il({$metadata:K(f),...l});return L(w,f.body.Error)},kR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Ll({$metadata:K(f),...l});return L(w,f.body.Error)},_R=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new sf({$metadata:K(f),...l});return L(w,f.body.Error)},qR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Kl({$metadata:K(f),...l});return L(w,f.body.Error)},CR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Fl({$metadata:K(f),...l});return L(w,f.body.Error)},AR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Bl({$metadata:K(f),...l});return L(w,f.body.Error)},jR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Wl({$metadata:K(f),...l});return L(w,f.body.Error)},gR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Ml({$metadata:K(f),...l});return L(w,f.body.Error)},yR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Ul({$metadata:K(f),...l});return L(w,f.body.Error)},OR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new zl({$metadata:K(f),...l});return L(w,f.body.Error)},rR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Gl({$metadata:K(f),...l});return L(w,f.body.Error)},aR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new $l({$metadata:K(f),...l});return L(w,f.body.Error)},bR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Dl({$metadata:K(f),...l});return L(w,f.body.Error)},dR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Zl({$metadata:K(f),...l});return L(w,f.body.Error)},xR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Nl({$metadata:K(f),...l});return L(w,f.body.Error)},iR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Yl({$metadata:K(f),...l});return L(w,f.body.Error)},sR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new hm({$metadata:K(f),...l});return L(w,f.body.Error)},cR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new El({$metadata:K(f),...l});return L(w,f.body.Error)},eR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Xl({$metadata:K(f),...l});return L(w,f.body.Error)},nR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Jl({$metadata:K(f),...l});return L(w,f.body.Error)},pR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new ym({$metadata:K(f),...l});return L(w,f.body.Error)},oR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Hl({$metadata:K(f),...l});return L(w,f.body.Error)},uR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new bm({$metadata:K(f),...l});return L(w,f.body.Error)},tR=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Tl({$metadata:K(f),...l});return L(w,f.body.Error)},fI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Kv({$metadata:K(f),...l});return L(w,f.body.Error)},lI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Zm({$metadata:K(f),...l});return L(w,f.body.Error)},mI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new bf({$metadata:K(f),...l});return L(w,f.body.Error)},vI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Ql({$metadata:K(f),...l});return L(w,f.body.Error)},wI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Em({$metadata:K(f),...l});return L(w,f.body.Error)},SI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Gv({$metadata:K(f),...l});return L(w,f.body.Error)},hI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Qv({$metadata:K(f),...l});return L(w,f.body.Error)},RI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Dv({$metadata:K(f),...l});return L(w,f.body.Error)},II=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Vl({$metadata:K(f),...l});return L(w,f.body.Error)},LI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Zv({$metadata:K(f),...l});return L(w,f.body.Error)},KI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Pl({$metadata:K(f),...l});return L(w,f.body.Error)},FI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Pm({$metadata:K(f),...l});return L(w,f.body.Error)},BI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new kl({$metadata:K(f),...l});return L(w,f.body.Error)},WI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new $v({$metadata:K(f),...l});return L(w,f.body.Error)},MI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new _l({$metadata:K(f),...l});return L(w,f.body.Error)},UI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Hv({$metadata:K(f),...l});return L(w,f.body.Error)},zI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new dm({$metadata:K(f),...l});return L(w,f.body.Error)},GI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Nv({$metadata:K(f),...l});return L(w,f.body.Error)},$I=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new im({$metadata:K(f),...l});return L(w,f.body.Error)},DI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Yv({$metadata:K(f),...l});return L(w,f.body.Error)},ZI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new cf({$metadata:K(f),...l});return L(w,f.body.Error)},NI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new pm({$metadata:K(f),...l});return L(w,f.body.Error)},YI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Ev({$metadata:K(f),...l});return L(w,f.body.Error)},EI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Xm({$metadata:K(f),...l});return L(w,f.body.Error)},XI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new um({$metadata:K(f),...l});return L(w,f.body.Error)},JI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Xv({$metadata:K(f),...l});return L(w,f.body.Error)},HI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new ql({$metadata:K(f),...l});return L(w,f.body.Error)},TI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Wv({$metadata:K(f),...l});return L(w,f.body.Error)},QI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Fv({$metadata:K(f),...l});return L(w,f.body.Error)},VI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new fv({$metadata:K(f),...l});return L(w,f.body.Error)},PI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Jv({$metadata:K(f),...l});return L(w,f.body.Error)},kI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Um({$metadata:K(f),...l});return L(w,f.body.Error)},_I=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Sv({$metadata:K(f),...l});return L(w,f.body.Error)},qI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Tv({$metadata:K(f),...l});return L(w,f.body.Error)},CI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Vv({$metadata:K(f),...l});return L(w,f.body.Error)},AI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new lv({$metadata:K(f),...l});return L(w,f.body.Error)},jI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Cl({$metadata:K(f),...l});return L(w,f.body.Error)},gI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Im({$metadata:K(f),...l});return L(w,f.body.Error)},yI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Al({$metadata:K(f),...l});return L(w,f.body.Error)},OI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Wm({$metadata:K(f),...l});return L(w,f.body.Error)},rI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new zm({$metadata:K(f),...l});return L(w,f.body.Error)},aI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new jl({$metadata:K(f),...l});return L(w,f.body.Error)},bI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Lm({$metadata:K(f),...l});return L(w,f.body.Error)},dI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new sm({$metadata:K(f),...l});return L(w,f.body.Error)},xI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new mv({$metadata:K(f),...l});return L(w,f.body.Error)},iI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new df({$metadata:K(f),...l});return L(w,f.body.Error)},sI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new gl({$metadata:K(f),...l});return L(w,f.body.Error)},cI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new yl({$metadata:K(f),...l});return L(w,f.body.Error)},eI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Ol({$metadata:K(f),...l});return L(w,f.body.Error)},nI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new rl({$metadata:K(f),...l});return L(w,f.body.Error)},pI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new al({$metadata:K(f),...l});return L(w,f.body.Error)},oI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new bl({$metadata:K(f),...l});return L(w,f.body.Error)},uI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new dl({$metadata:K(f),...l});return L(w,f.body.Error)},tI=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new xl({$metadata:K(f),...l});return L(w,f.body.Error)},f4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new il({$metadata:K(f),...l});return L(w,f.body.Error)},l4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new sl({$metadata:K(f),...l});return L(w,f.body.Error)},m4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Jm({$metadata:K(f),...l});return L(w,f.body.Error)},v4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Hm({$metadata:K(f),...l});return L(w,f.body.Error)},w4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new km({$metadata:K(f),...l});return L(w,f.body.Error)},S4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new _m({$metadata:K(f),...l});return L(w,f.body.Error)},h4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new qm({$metadata:K(f),...l});return L(w,f.body.Error)},R4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Tm({$metadata:K(f),...l});return L(w,f.body.Error)},I4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new cl({$metadata:K(f),...l});return L(w,f.body.Error)},L4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new jm({$metadata:K(f),...l});return L(w,f.body.Error)},K4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Km({$metadata:K(f),...l});return L(w,f.body.Error)},F4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new el({$metadata:K(f),...l});return L(w,f.body.Error)},B4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new cm({$metadata:K(f),...l});return L(w,f.body.Error)},W4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new gm({$metadata:K(f),...l});return L(w,f.body.Error)},M4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Om({$metadata:K(f),...l});return L(w,f.body.Error)},U4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new nl({$metadata:K(f),...l});return L(w,f.body.Error)},z4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new pl({$metadata:K(f),...l});return L(w,f.body.Error)},G4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new xm({$metadata:K(f),...l});return L(w,f.body.Error)},$4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new ol({$metadata:K(f),...l});return L(w,f.body.Error)},D4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new ul({$metadata:K(f),...l});return L(w,f.body.Error)},Z4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new em({$metadata:K(f),...l});return L(w,f.body.Error)},N4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new tl({$metadata:K(f),...l});return L(w,f.body.Error)},Y4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new om({$metadata:K(f),...l});return L(w,f.body.Error)},E4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new rm({$metadata:K(f),...l});return L(w,f.body.Error)},X4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new fm({$metadata:K(f),...l});return L(w,f.body.Error)},J4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Fm({$metadata:K(f),...l});return L(w,f.body.Error)},H4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new nm({$metadata:K(f),...l});return L(w,f.body.Error)},T4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new tm({$metadata:K(f),...l});return L(w,f.body.Error)},Q4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new vv({$metadata:K(f),...l});return L(w,f.body.Error)},V4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new wv({$metadata:K(f),...l});return L(w,f.body.Error)},P4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new hv({$metadata:K(f),...l});return L(w,f.body.Error)},k4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Rv({$metadata:K(f),...l});return L(w,f.body.Error)},_4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new lm({$metadata:K(f),...l});return L(w,f.body.Error)},q4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new mm({$metadata:K(f),...l});return L(w,f.body.Error)},C4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new vm({$metadata:K(f),...l});return L(w,f.body.Error)},A4=async(f,m)=>{let l=I({}),v=f.body.Error;if(v[S]!=null)l[S]=h.expectString(v[S]);let w=new Rm({$metadata:K(f),...l});return L(w,f.body.Error)};var j4=(f,m)=>{let l=new Uf.XmlNode(Pv);if(f[lf]!=null)l.c(y4(f[lf],m).n(lf));if(f[Wf]!=null)l.c(Uf.XmlNode.of(SS,f[Wf]).n(Wf));return l};var g4=(f,m)=>{return f.filter((l)=>l!=null).map((l)=>{return Uf.XmlNode.of(SS,l).n(lw)})},y4=(f,m)=>{let l=new Uf.XmlNode(lf);if(f[Mf]!=null)l.c(Uf.XmlNode.of(x4,String(f[Mf])).n(Mf));return l.lc(f,"Items","Items",()=>g4(f[Bf],m)),l};var O4=(f,m)=>{let l={};if(f[tv]!=null)l[tv]=h.expectString(f[tv]);if(f[fw]!=null)l[fw]=h.expectString(f[fw]);if(f[uv]!=null)l[uv]=h.expectNonNull(h.parseRfc3339DateTimeWithOffset(f[uv]));if(f[Pv]!=null)l[Pv]=r4(f[Pv],m);return l},r4=(f,m)=>{let l={};if(f[lf]!=null)l[lf]=b4(f[lf],m);if(f[Wf]!=null)l[Wf]=h.expectString(f[Wf]);return l};var a4=(f,m)=>{return(f||[]).filter((l)=>l!=null).map((l)=>{return h.expectString(l)})},b4=(f,m)=>{let l={};if(f[Mf]!=null)l[Mf]=h.strictParseInt32(f[Mf]);if(f.Items==="")l[Bf]=[];else if(f[Bf]!=null&&f[Bf][lw]!=null)l[Bf]=a4(lS(f[Bf][lw]),m);return l};var K=(f)=>({httpStatusCode:f.statusCode,requestId:f.headers["x-amzn-requestid"]??f.headers["x-amzn-request-id"]??f.headers["x-amz-request-id"],extendedRequestId:f.headers["x-amz-id-2"],cfId:f.headers["x-amz-cf-id"]});var Wf="CallerReference";var uv="CreateTime";var Pv="InvalidationBatch";var tv="Id",Bf="Items";var d4="Location";var S="Message";var lf="Paths";var lw="Path";var Mf="Quantity";var fw="Status";var x4="integer";var i4="location";var SS="string";var s4='<?xml version="1.0" encoding="UTF-8"?>';var IS=q(c4(),1);class mw extends RS.classBuilder().ep(bw).m(function(f,m,l,v){return[IS.getSerdePlugin(l,this.serialize,this.deserialize),hS(l,f.getEndpointParameterInstructions())]}).s("Cloudfront2020_05_31","CreateInvalidation",{}).n("CloudFrontClient","CreateInvalidationCommand").f(void 0,void 0).ser(vS).de(wS).build(){}import{intro as Gf,italic as Xf,log as $,outro as G,prompts as Jf,runCommand as mf,underline as LS}from"@stacksjs/cli";import{addJumpBox as e4,deleteCdkRemnants as n4,deleteIamUsers as p4,deleteJumpBox as vw,deleteLogGroups as o4,deleteParameterStore as u4,deleteStacksBuckets as t4,deleteStacksFunctions as fL,deleteSubnets as lL,deleteVpcs as mL,getCloudFrontDistributionId as vL,getJumpBoxInstanceId as wL}from"@stacksjs/cloud";import{path as vf}from"@stacksjs/path";import{ExitCode as U}from"@stacksjs/types";import{loop as SL}from"@stacksjs/utils";function sF(f){let m={cloud:"Interact with the Stacks Cloud",ssh:"SSH into the Stacks Cloud",add:"Add a resource to the Stacks Cloud",remove:"Remove the Stacks Cloud. In case it fails, try again",optimizeCost:"Remove certain resources that may be re-applied at a later time",cleanUp:"Remove all resources that were retained during the cloud deletion",invalidateCache:"Invalidate the CloudFront cache",diff:"Show the diff of the current, undeployed cloud changes ",paths:"The paths to invalidate",project:"Target a specific project",verbose:"Enable verbose output"};f.command("cloud",m.cloud).option("--ssh",m.ssh,{default:!1}).option("--connect",m.ssh,{default:!1}).option("--invalidate-cache",m.invalidateCache,{default:!1}).option("--paths [paths]",m.paths).option("--diff",m.diff,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{$.debug("Running `buddy cloud` ...",l);let v=performance.now();if(l.ssh||l.connect){let w=await wL(),F=await mf(`aws ssm start-session --target ${w}`,{...l,cwd:vf.projectPath(),stdin:"pipe"});if(F.isErr())await G("While running the cloud command, there was an issue",{startTime:v,useSeconds:!0},F.error),M.exit(U.FatalError);await G("Exited",{startTime:v,useSeconds:!0}),M.exit(U.Success)}if(l.invalidateCache){let{confirm:w}=await Jf({name:"confirm",type:"confirm",message:"Would you like to invalidate the CDN (CloudFront) cache?"});if(!w)await G("Exited",{startTime:v,useSeconds:!0}),M.exit(U.Success);$.info("Invalidating the CloudFront cache...");let F=new ov,W={DistributionId:await vL(),InvalidationBatch:{CallerReference:`${Date.now()}`,Paths:{Quantity:1,Items:["/*"]}}},N=new mw(W);F.send(N).then((Z)=>console.log(Z),(Z)=>console.log(Z,Z.stack)),await G("Exited",{startTime:v,useSeconds:!0}),M.exit(U.Success)}if(l.diff){let w=await mf("bunx --bun cdk diff",{cwd:vf.frameworkCloudPath(),stdin:"pipe"});if(w.isErr())await G("While running the cloud diff command, there was an issue",{startTime:v,useSeconds:!0},w.error),M.exit(U.FatalError);await G("Showing diff of the current, undeployed cloud changes",{startTime:v,useSeconds:!0}),console.log(w.value),M.exit(U.Success)}$.info("Not implemented yet. Read more about `buddy cloud` here: https://stacksjs.org/docs/cloud"),M.exit(U.Success)}),f.command("cloud:add",m.add).option("--jump-box","Remove the jump-box",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{$.debug("Running `buddy cloud:add` ...",l);let v=await Gf("buddy cloud:add");if(l.jumpBox){let{confirm:w}=await Jf({name:"confirm",type:"confirm",message:"Would you like to add a jump-box to your cloud?"});if(!w)await G("Exited",{startTime:v,useSeconds:!0}),M.exit(U.Success);$.info("The jump-box is getting added to your cloud resources..."),$.info("This takes a few moments, please be patient."),await new Promise((B)=>setTimeout(B,2000));let F=await e4();if(F.isErr())await G("While running the cloud:add command, there was an issue",{startTime:v,useSeconds:!0},F.error),M.exit(U.FatalError);$.info(Xf("View the jump-box in the AWS console:")),$.info(LS("https://us-east-1.console.aws.amazon.com/ec2/home?region=us-east-1#Instances:instanceState=running")),$.info(Xf("Once it finished initializing, you may SSH into it:")),$.info(LS("buddy cloud --ssh")),await G("Your jump-box was added.",{startTime:v,useSeconds:!0}),M.exit(U.Success)}$.info("This functionality is not yet implemented."),M.exit(U.Success)}),f.command("cloud:remove",m.remove).alias("cloud:destroy").alias("cloud:rm").alias("undeploy").option("--jump-box","Remove the jump-box",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{$.debug("Running `buddy cloud:remove` ...",l);let v=await Gf("buddy cloud:remove");if(l.jumpBox){let{confirm:F}=await Jf({name:"confirm",type:"confirm",message:"Would you like to remove your jump-box for now?"});if(!F)await G("Exited",{startTime:v,useSeconds:!0}),M.exit(U.Success);let B=await vw();if(B.isErr())await G("While removing your jump-box, there was an issue",{startTime:v,useSeconds:!0},B.error),M.exit(U.FatalError);await G("Your jump-box was removed.",{startTime:v,useSeconds:!0}),M.exit(U.Success)}console.log(`   ${Xf("\u2139\uFE0F   Removing your cloud resources takes a while to complete.")}`),console.log(`   ${Xf("Please note, your backups will not yet be deleted. Though,")}`),console.log(`   ${Xf("Backups are scheduled to delete themselves in 30 days.")}`),await new Promise((F)=>setTimeout(F,2000));let w=await mf("bunx --bun cdk destroy",{...l,cwd:vf.frameworkCloudPath(),stdin:"inherit"});if(w.isErr())await G('While running the cloud:remove ("undeploy") command, there was an issue',{startTime:v,useSeconds:!0},w.error),M.exit(U.FatalError);await mf("buddy cloud:cleanup",{...l,cwd:vf.projectPath(),stdin:"inherit"});try{$.info("Finalizing the removal of your cloud resources."),$.info("This will take a few moments..."),await SL(7,async()=>{await mf("buddy cloud:cleanup",{...l,cwd:vf.projectPath(),stdout:"ignore"})}),await G("Your cloud has been removed",{startTime:v,useSeconds:!0}),M.exit(U.Success)}catch(F){await G("While cleaning up the cloud, there was an issue",{startTime:v,useSeconds:!0},F),M.exit(U.FatalError)}}),f.command("cloud:optimize-cost",m.optimizeCost).option("--jump-box","Remove the jump-box",{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{$.debug("Running `buddy cloud:optimize-cost` ...",l);let v=await Gf("buddy cloud:optimize-cost");if(l.jumpBox){let{confirm:w}=await Jf({name:"confirm",type:"confirm",message:"Would you like to remove your jump-box to optimize your costs?"});if(!w)await G("Exited",{startTime:v,useSeconds:!0}),M.exit(U.Success);await vw(),await G("Your jump-box was removed & cost optimizations are applied.",{startTime:v,useSeconds:!0}),M.exit(U.Success)}await G("No cost optimization was applied",{startTime:v,useSeconds:!0}),M.exit(U.Success)}),f.command("cloud:cleanup",m.cleanUp).alias("cloud:clean-up").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{$.debug("Running `buddy cloud:cleanup` ...",l);let v=await Gf("buddy cloud:cleanup");$.info("Cleaning up your cloud resources will take a while to complete. Please be patient."),await new Promise((Zh)=>setTimeout(Zh,2000)),$.info("Removing any jump-boxes...");let w=await vw();if(w.isErr()){if(w.error!=="Jump-box not found")await G("While removing your jump-box, there was an issue",{startTime:v,useSeconds:!0},w.error),M.exit(U.FatalError)}$.info("Removing any retained S3 buckets...");let F=await t4();if(F.isErr())await G("While deleting the retained S3 buckets, there was an issue",{startTime:v,useSeconds:!0},F.error),M.exit(U.FatalError);$.info("Removing any retained Lambda functions...");let B=await fL();if(B.isErr()){if(B.error!=="No stacks functions found")await G("While deleting the Origin Request Lambda function, there was an issue",{startTime:v,useSeconds:!0},B.error);M.exit(U.FatalError)}$.info(B.value),$.info("Removing any remaining Stacks logs...");let W=await o4();if(W.isErr())await G("While deleting the Stacks log groups, there was an issue",{startTime:v,useSeconds:!0},W.error),M.exit(U.FatalError);$.info("Removing any stored parameters...");let N=await u4();if(N.isErr())await G("While deleting the Stacks log groups, there was an issue",{startTime:v,useSeconds:!0},N.error),M.exit(U.FatalError);let Z=await mL();if(Z.isErr())await G("While deleting the VPCs, there was an issue",{startTime:v,useSeconds:!0},Z.error),M.exit(U.FatalError);let Y=await lL();if(Y.isErr())await G("While deleting the Subnets, there was an issue",{startTime:v,useSeconds:!0},Y.error),M.exit(U.FatalError);$.info("Removing any CDK remnants...");let g=await n4();if(g.isErr())await G("While deleting the Stacks log groups, there was an issue",{startTime:v,useSeconds:!0},g.error),M.exit(U.FatalError);$.info("Removing any IAM users...");let Kf=await p4();if(Kf.isErr())await G("While deleting the Stacks log groups, there was an issue",{startTime:v,useSeconds:!0},Kf.error),M.exit(U.FatalError);await G("AWS resources have been removed",{startTime:v,useSeconds:!0}),M.exit(U.Success)}),f.command("cloud:invalidate-cache",m.invalidateCache).option("--paths [paths]",m.paths,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{$.debug("Running `buddy cloud:invalidate-cache` ...",l);let v=await Gf("buddy cloud:invalidate-cache"),{confirm:w}=await Jf({name:"confirm",type:"confirm",message:"Would you like to invalidate the CloudFront cache?"});if(!w)await G("Exited",{startTime:v,useSeconds:!0}),M.exit(U.Success);if($.info("Invalidating the CloudFront cache..."),l.paths){let F=await mf(`aws cloudfront create-invalidation --distribution-id E1U4Z2E9NJW9J --paths ${l.paths}`,{...l,cwd:vf.projectPath(),stdin:"pipe"});if(F.isErr())await G("While running the cloud command, there was an issue",{startTime:v,useSeconds:!0},F.error),M.exit(U.FatalError);await G("Exited",{startTime:v,useSeconds:!0}),M.exit(U.Success)}$.info("Not implemented yet. Read more about `buddy cloud` here: https://stacksjs.org/docs/cloud"),M.exit(U.Success)}),f.command("cloud:diff",m.diff).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{$.debug("Running `buddy cloud:diff` ...",l);let v=await Gf("buddy cloud:diff"),w=await mf("bunx --bun cdk diff",{cwd:vf.frameworkCloudPath(),stdin:"pipe"});if(w.isErr())await G("While running the cloud diff command, there was an issue",{startTime:v,useSeconds:!0},w.error),M.exit(U.FatalError);await G("Showing diff of the current, undeployed cloud changes",{startTime:v,useSeconds:!0}),console.log(w.value),M.exit(U.Success)}),f.on("cloud:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),M.exit(1)})}import hL from"process";import{runCommit as RL}from"@stacksjs/actions";import{log as IL}from"@stacksjs/logging";function oF(f){let m={commit:"Commit your stashed changes",project:"Target a specific project",verbose:"Enable verbose output"};f.command("commit",m.commit).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{IL.debug("Running `buddy commit` ...",l),await RL(l)}),f.on("commit:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),hL.exit(1)})}import r from"process";import{log as ww,outro as KS,runCommand as LL}from"@stacksjs/cli";import{path as KL}from"@stacksjs/path";import{ExitCode as Hf}from"@stacksjs/types";function vB(f){let m={configure:"Configure options",aws:"Configure the AWS connection",project:"Target a specific project",profile:"The AWS profile to use",verbose:"Enable verbose output"};f.command("configure",m.configure).option("--aws",m.aws,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(ww.debug("Running `buddy configure` ...",l),l?.aws)await FS(l),r.exit(Hf.Success);ww.info("Not implemented yet. Please use the --aws flag to configure AWS."),r.exit(Hf.Success)}),f.command("configure:aws",m.aws).option("-p, --project [project]",m.project,{default:!1}).option("--profile",m.profile,{default:r.env.AWS_PROFILE}).option("--verbose",m.verbose,{default:!1}).option("--access-key-id","The AWS access key").option("--secret-access-key","The AWS secret access key").option("--region","The AWS region").option("--output","The AWS output format").option("--quiet","Suppress output").action(async(l)=>{ww.debug("Running `buddy configure:aws` ...",l),await FS(l),r.exit(Hf.Success)}),f.on("configure:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),r.exit(Hf.FatalError)})}async function FS(f){let m=performance.now(),l=f?.accessKeyId??r.env.AWS_ACCESS_KEY_ID,v=f?.secretAccessKey??r.env.AWS_SECRET_ACCESS_KEY,w="us-east-1",F=f?.output??"json",B=r.env.AWS_PROFILE??f?.profile,W=B?`aws configure --profile ${B}`:"aws configure",N=`${l}
${v}
us-east-1
${F}
`,Z=await LL(W,{cwd:KL.projectPath(),stdin:"pipe",input:N});if(Z.isErr())await KS("While running the cloud command, there was an issue",{startTime:m,useSeconds:!0},Z.error),r.exit(Hf.FatalError);if(f?.quiet)return;await KS("Exited",{startTime:m,useSeconds:!0})}import a from"process";import{runAction as FL}from"@stacksjs/actions";import{bold as BL,cyan as WL,dim as ML,intro as UL,log as J,runCommand as Tf}from"@stacksjs/cli";import{Action as zL}from"@stacksjs/enums";import{resolve as GL}from"@stacksjs/path";import{isFolder as $L}from"@stacksjs/storage";import{ExitCode as $f}from"@stacksjs/types";import{useOnline as DL}from"@stacksjs/utils";function WB(f){let m={name:"The name of the project",command:"Create a new Stacks project",ui:"Are you building a UI?",components:"Are you building UI components?",webComponents:"Automagically built optimized custom elements/web components?",vue:"Automagically built a Vue component library?",views:"How about views?",functions:"Are you developing functions/composables?",api:"Are you building an API?",database:"Do you need a database?",notifications:"Do you need notifications? e.g. email, SMS, push or chat notifications",cache:"Do you need caching?",email:"Do you need email?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("new [name]",m.command).alias("create [name]").option("-n, --name [name]",m.name,{default:!1}).option("-u, --ui",m.ui,{default:!0}).option("-c, --components",m.components,{default:!0}).option("-w, --web-components",m.webComponents,{default:!0}).option("-v, --vue",m.vue,{default:!0}).option("-p, --views",m.views,{default:!0}).option("-f, --functions",m.functions,{default:!0}).option("-a, --api",m.api,{default:!0}).option("-d, --database",m.database,{default:!0}).option("-ca, --cache",m.cache,{default:!1}).option("-e, --email",m.email,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{J.debug("Running `buddy new <name>` ...",v);let w=await UL("buddy new");l=l??v.name;let F=GL(a.cwd(),l);ZL(F),NL();let B=await YL(l,F,v);if(B.isErr())J.error(B.error),a.exit($f.FatalError);if(await EL(F,v),await XL(F,v),w){let W=performance.now()-w;J.success(ML(`[${W.toFixed(2)}ms] Completed`))}J.info(BL("Welcome to the Stacks Framework! \u269B\uFE0F")),J.info("To learn more, visit https://stacksjs.org"),a.exit($f.Success)}),f.on("new:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),a.exit(1)})}function ZL(f){if($L(f))J.error(`Path ${f} already exists`),a.exit($f.FatalError)}function NL(){if(!DL())J.info("It appears you are disconnected from the internet."),J.info("The Stacks setup requires a brief internet connection for setup."),J.info("For instance, it installs your dependencies from."),a.exit($f.FatalError)}async function YL(f,m,l){J.info("Setting up your stack.");let v=await Tf(`bunx --bun giget stacks ${f}`,l);return J.success(`Successfully scaffolded your project at ${WL(m)}`),v}async function EL(f,m){J.info("Ensuring your environment is ready..."),await Tf("pkgx --update ",{...m,cwd:f}),J.success("Environment is ready")}async function XL(f,m){J.info("Installing & setting up Stacks");let l=await Tf("bun install",{...m,cwd:f});if(l?.isErr())J.error(l.error),a.exit();if(l=await Tf("cp .env.example .env",{...m,cwd:f}),l?.isErr())J.error(l.error),a.exit($f.FatalError);if(await FL(zL.KeyGenerate,{...m,cwd:f}),l=await Tf("git init",{...m,cwd:f}),l.isErr())J.error(l.error),a.exit($f.FatalError);J.success("Installed & set-up \uD83D\uDE80")}var{$:BS}=globalThis.Bun;import b from"process";import{runAction as JL}from"@stacksjs/actions";import{intro as HL,italic as Qf,log as z,outro as kv,prompts as TL,runCommand as WS}from"@stacksjs/cli";import{app as QL}from"@stacksjs/config";import{addDomain as VL,hasUserDomainBeenAddedToCloud as PL}from"@stacksjs/dns";import{Action as kL}from"@stacksjs/enums";import{path as _L}from"@stacksjs/path";import{ExitCode as c}from"@stacksjs/types";function XB(f){let m={deploy:"Deploy your project",project:"Target a specific project",production:"Deploy to production",development:"Deploy to development",staging:"Deploy to staging",yes:"Confirm all prompts by default",domain:"Specify a domain to deploy to",verbose:"Enable verbose output"};f.command("deploy [env]",m.deploy).option("--domain",m.domain,{default:void 0}).option("-p, --project [project]",m.project,{default:!1}).option("--prod",m.production,{default:!0}).option("--dev",m.development,{default:!1}).option("--yes",m.yes,{default:!1}).option("--staging",m.staging,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{z.debug("Running `buddy deploy` ...",v);let w=await HL("buddy deploy"),F=v.domain||QL.url;if((v.prod||l==="production"||l==="prod")&&!v.yes)await qL();if(!F)z.info("No domain found in your .env or ./config/app.ts"),z.info("Please ensure your domain is properly configured."),z.info("For more info, check out the docs or join our Discord."),b.exit(c.FatalError);z.info(`Deploying to ${Qf(F)}`),await AL(),await jL(),v.domain=await CL(F,v,w);let B=await JL(kL.Deploy,v);if(B.isErr())await kv("While running the `buddy deploy`, there was an issue",{startTime:w,useSeconds:!0},B.error),b.exit(c.FatalError);await kv("Project deployed.",{startTime:w,useSeconds:!0})}),f.on("deploy:*",()=>{z.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),b.exit(1)})}async function qL(){let{confirmed:f}=await TL({type:"confirm",name:"confirmed",message:"Are you sure you want to deploy to production?"});if(!f)z.info("Aborting deployment..."),b.exit(c.InvalidArgument)}async function CL(f,m,l){if(z.debug("Configuring domain...",f),!f)z.info("We could not identify a domain to deploy to."),z.warn("Please set your .env or ./config/app.ts properly."),z.info("Alternatively, specify a domain to deploy via the `--domain` flag."),console.log(""),z.info("   \u27A1\uFE0F  Example: `buddy deploy --domain example.com`"),console.log(""),b.exit(c.FatalError);if(f.includes("localhost"))z.info("You are deploying to a local environment."),z.warn("Please set your .env or ./config/app.ts properly. The domain we are deploying cannot be a `localhost` domain."),z.info("Alternatively, specify a domain to deploy via the `--domain` flag."),console.log(""),z.info("   \u27A1\uFE0F  Example: `buddy deploy --domain example.com`"),console.log(""),b.exit(c.FatalError);if(await PL(f))return z.info("Domain is properly configured"),z.info("Your cloud is deploying..."),z.info(`${Qf("This may take a while...")}`),f;console.log(""),z.info(`  \uD83D\uDC4B  It appears to be your first ${Qf(f)} deployment.`),console.log(""),z.info(Qf("Let\u2019s ensure it is all connected properly.")),z.info(Qf("One moment...")),console.log("");let v=await VL({...m,deploy:!0,startTime:l});if(v.isErr())await kv("While running the `buddy deploy`, there was an issue",{startTime:l,useSeconds:!0},v.error),b.exit(c.FatalError);await kv("Added your domain.",{startTime:l,useSeconds:!0}),b.exit(c.Success)}async function AL(){if(z.info("Ensuring AWS is configured..."),(await WS("buddy configure:aws",{silent:!0})).isErr())z.error("AWS is not configured properly.",{shouldExit:!1}),z.error("Please run `buddy configure:aws` to set up your AWS credentials.");z.success("AWS is configured")}async function jL(){try{return z.info("Ensuring AWS is bootstrapped..."),await WS("aws cloudformation describe-stacks --stack-name stacks-toolkit",{silent:!0}),z.success("AWS is bootstrapped"),!0}catch(f){z.debug(`Not yet bootstrapped. Failed with code ${f.exitCode}`),z.debug(f.stdout.toString()),z.debug(f.stderr.toString()),z.info("AWS is not bootstrapped yet"),z.info("Bootstrapping. This may take a few moments...");try{BS.cwd(_L.frameworkCloudPath());let m=await BS`bun run bootstrap`;return console.log(m),!0}catch(m){z.error("Failed to bootstrap AWS"),console.error(m),b.exit(c.FatalError)}}}import O from"process";import{runAction as Iw,runApiDevServer as _v,runComponentsDevServer as Sw,runDashboardDevServer as hw,runDesktopDevServer as gL,runDocsDevServer as Rw,runFrontendDevServer as MS,runSystemTrayDevServer as US}from"@stacksjs/actions";import{intro as qv,log as y,outro as wf,prompts as yL,runCommand as OL}from"@stacksjs/cli";import{Action as Lw}from"@stacksjs/enums";import{libsPath as rL}from"@stacksjs/path";import{ExitCode as Df}from"@stacksjs/types";function _B(f){let m={dev:"Start development server",frontend:"Start the frontend development server",components:"Start the Components development server",desktop:"Start the Desktop App development server",dashboard:"Start the Dashboard development server",api:"Start the local API development server",email:"Start the Email development server",docs:"Start the Documentation development server",systemTray:"Start the System Tray development server",interactive:"Get asked which development server to start",select:"Which development server are you trying to start?",withLocalhost:"Include the localhost URL in the output",project:"Target a specific project",verbose:"Enable verbose output"};f.command("dev [server]",m.dev).option("-f, --frontend",m.frontend).option("-a, --api",m.api).option("-e, --email",m.email).option("-c, --components",m.components).option("-d, --dashboard",m.dashboard).option("-t, --desktop",m.desktop).option("-d, --docs",m.docs).option("-t, --system-tray",m.systemTray).option("-i, --interactive",m.interactive,{default:!1}).option("-l, --with-localhost",m.withLocalhost,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{y.debug("Running `buddy dev [server]` ...",v);let w=await qv("buddy dev");switch(l){case"frontend":await MS(v);break;case"api":await _v(v);break;case"components":await Sw(v);break;case"dashboard":await hw(v);break;case"desktop":await gL(v);break;case"system-tray":await US(v);break;case"docs":await Rw(v);break;default:}if(bL(v)){let B=(await yL({type:"select",name:"value",message:m.select,choices:[{value:"all",title:"All"},{value:"frontend",title:"Frontend"},{value:"api",title:"Backend"},{value:"dashboard",title:"Dashboard"},{value:"desktop",title:"Desktop"},{value:"email",title:"Email"},{value:"components",title:"Components"},{value:"docs",title:"Documentation"}]})).value;if(B==="components")await Sw(v);else if(B==="api")await _v(v);else if(B==="dashboard")await hw(v);else if(B==="docs")await Rw(v);else y.error("Invalid option during interactive mode"),O.exit(Df.InvalidArgument)}else{if(v.components)await Sw(v);if(v.docs)await Rw(v);else if(v.api)await _v(v)}await aL(v),wf("Exited",{startTime:w,useSeconds:!0}),O.exit(Df.Success)}),f.command("dev:components",m.components).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{y.debug("Running `buddy dev:components` ...",l);let v=await qv("buddy dev:components"),w=await OL("bun run dev",{cwd:rL("components/vue")});if(l.verbose)y.info("buddy dev:components result",w);if(w.isErr())await wf("While running the dev:components command, there was an issue",{startTime:v,useSeconds:!0},w.error),O.exit();console.log(""),await wf("Exited",{startTime:v,useSeconds:!0}),O.exit(Df.Success)}),f.command("dev:docs",m.docs).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{y.debug("Running `buddy dev:docs` ...",l);let v=await qv("buddy dev:docs"),w=await Iw(Lw.DevDocs,l);if(w.isErr())await wf("While running the dev:docs command, there was an issue",{startTime:v,useSeconds:!0},w.error),O.exit();console.log(""),await wf("Exited",{startTime:v,useSeconds:!0}),O.exit(Df.Success)}),f.command("dev:desktop",m.desktop).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{y.debug("Running `buddy dev:desktop` ...",l);let v=await qv("buddy dev:desktop"),w=await Iw(Lw.DevDesktop,l);if(w.isErr())await wf("While running the dev:desktop command, there was an issue",{startTime:v,useSeconds:!0},w.error),O.exit();console.log(""),await wf("Exited",{startTime:v,useSeconds:!0}),O.exit(Df.Success)}),f.command("dev:api",m.api).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{y.debug("Running `buddy dev:api` ...",l),await _v(l)}),f.command("dev:frontend",m.frontend).alias("dev:pages").alias("dev:views").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{y.debug("Running `buddy dev:frontend` ...",l),await MS(l)}),f.command("dev:dashboard",m.dashboard).alias("dev:admin").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{y.debug("Running `buddy dev:dashboard` ...",l),await hw(l)}),f.command("dev:system-tray",m.systemTray).alias("dev:tray").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{y.debug("Running `buddy dev:system-tray` ...",l),await US(l)}),f.on("dev:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),O.exit(1)})}async function aL(f){let m=await Iw(Lw.Dev,f);if(m.isErr())y.error("While running the dev command, there was an issue",m.error),O.exit(Df.InvalidArgument)}function bL(f){return f.interactive}import zS from"process";import{log as dL,runCommand as xL}from"@stacksjs/cli";import{config as iL}from"@stacksjs/config";import{ExitCode as sL}from"@stacksjs/types";function yB(f){let m={dns:"Lists the DNS records for a domain",query:"Host name or IP address to query",type:"Type of the DNS record being queried (A, MX, NS\u2026)",nameserver:"Address of the nameserver to send packets to",class:"Network class of the DNS record being queried (IN, CH, HS)",udp:"Use the DNS protocol over UDP",tcp:"Use the DNS protocol over TCP",tls:"Use the DNS-over-TLS protocol",https:"Use the DNS-over-HTTPS protocol",short:"Short mode: display nothing but the first result",json:"Display the output as JSON",pretty:"Display the output as JSON in a pretty format",project:"Target a specific project",verbose:"Enable verbose output"};f.command("dns [domain]",m.dns).option("-q, --query <query>",m.query).option("-t, --type <type>",m.type,{default:"ANY"}).option("-n, --nameserver <nameserver>",m.nameserver).option("--class <class>",m.nameserver).option("-U, --udp",m.udp).option("-T, --tcp",m.tcp).option("-S, --tls",m.tls).option("-H, --https",m.https).option("-1, --short",m.short,{default:!1}).option("-J, --json",m.json,{default:!1}).option("-p, --pretty",m.pretty,{default:!0}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{dL.debug("Running `buddy dns [domain]` ...",v),v.pretty=void 0,v.p=void 0;let w=Object.entries(v).filter(([F,B])=>F!=="--"&&F.length>1&&B!==!1).map(([F,B])=>`--${F} ${B}`).join(" ");await xL(`dog ${l||iL.app.url} ${w}`),zS.exit(sL.Success)}),f.on("dns:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),zS.exit(1)})}import d from"process";import{runAction as GS}from"@stacksjs/actions";import{bgCyan as cL,bold as eL,intro as Kw,italic as Sf,log as Cv,outro as e,prompts as $S}from"@stacksjs/cli";import{config as DS}from"@stacksjs/config";import{addDomain as nL}from"@stacksjs/dns";import{Action as ZS}from"@stacksjs/enums";import{ExitCode as n}from"@stacksjs/types";function cB(f){let m={purchase:"Purchase a domain",add:"Add a domain to your cloud",remove:"Remove a domain from your cloud",skip:"Skip the confirmation prompt",project:"Target a specific project",verbose:"Enable verbose output"},l=DS.dns.contactInfo;f.command("domains:purchase <domain>",m.purchase).option("--years <years>","Number of years to purchase the domain for",{default:1}).option("--privacy","Enable privacy protection",{default:!0}).option("--auto-renew","Enable auto-renew",{default:!0}).option("--first-name <firstName>","Registrant first name",{default:l?.firstName}).option("--last-name <lastName>","Registrant last name",{default:l?.lastName}).option("--organization <organization>","Registrant organization name",{default:l?.organizationName}).option("--address-line1 <address>","Registrant address line 1",{default:l?.addressLine1}).option("--address-line2 <address>","Registrant address line 2",{default:l?.addressLine2}).option("--city <city>","Registrant city",{default:l?.city}).option("--state <state>","Registrant state",{default:l?.state}).option("--country <country>","Registrant country code",{default:l?.countryCode}).option("--zip <zip>","Registrant zip",{default:l?.zip}).option("--phone <phone>","Registrant phone",{default:l?.phoneNumber}).option("--email <email>","Registrant email",{default:l?.email}).option("--admin-first-name <firstName>","Admin first name",{default:l?.admin?.firstName||l?.firstName}).option("--admin-last-name <lastName>","Admin last name",{default:l?.admin?.lastName||l?.lastName}).option("--admin-organization <organization>","Admin organization",{default:l?.admin?.organizationName||l?.organizationName}).option("--admin-address-line1 <address>","Admin address line 1",{default:l?.admin?.addressLine1||l?.addressLine1}).option("--admin-address-line2 <address>","Admin address line 2",{default:l?.admin?.addressLine2||l?.addressLine2}).option("--admin-city <city>","Admin city",{default:l?.admin?.city||l?.city}).option("--admin-state <state>","Admin state",{default:l?.admin?.state||l?.state}).option("--admin-country <country>","Admin country code",{default:l?.admin?.countryCode||l?.countryCode}).option("--admin-zip <zip>","Admin zip",{default:l?.admin?.zip||l?.zip}).option("--admin-phone <phone>","Admin phone number",{default:l?.admin?.phoneNumber||l?.phoneNumber}).option("--admin-email <email>","Admin email",{default:l?.admin?.email||l?.email}).option("--tech-first-name <firstName>","Tech first name",{default:l?.tech?.firstName||l?.firstName}).option("--tech-last-name <lastName>","Tech last name",{default:l?.tech?.lastName||l?.lastName}).option("--tech-organization <organization>","Tech organization name",{default:l?.tech?.organizationName||l?.organizationName}).option("--tech-address-line1 <address>","Tech address line 1",{default:l?.tech?.addressLine1||l?.addressLine1}).option("--tech-address-line2 <address>","Tech address line 2",{default:l?.tech?.addressLine2||l?.addressLine2}).option("--tech-city <city>","Tech city",{default:l?.tech?.city||l?.city}).option("--tech-state <state>","Tech state",{default:l?.tech?.state||l?.state}).option("--tech-country <country>","Tech country",{default:l?.tech?.countryCode||l?.countryCode}).option("--tech-zip <zip>","Tech zip",{default:l?.tech?.zip||l?.zip}).option("--tech-phone <phone>","Tech phone",{default:l?.tech?.phoneNumber||l?.phoneNumber}).option("--tech-email <email>","Tech email",{default:l?.tech?.email||l?.email}).option("--privacy-admin","Enable privacy protection for admin",{default:l?.privacyAdmin||l?.privacy||!0}).option("--privacy-tech","Enable privacy protection for tech",{default:l?.privacyTech||l?.privacy||!0}).option("--privacy-registrant","Enable privacy protection for registrant",{default:l?.privacyRegistrant||l?.privacy||!0}).option("--contact-type <type>","Contact type",{default:"person"}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(v,w)=>{Cv.debug("Running `buddy domains:purchase <domain>` ...",w),w.domain=v;let F=await Kw("buddy domains:purchase"),B=await GS(ZS.DomainsPurchase,w);if(B.isErr())await e("While running the domains:purchase command, there was an issue",{startTime:F,useSeconds:!0},B.error),d.exit(n.FatalError);let{confirm:W}=await $S({name:"confirm",type:"confirm",message:`Would you like to set ${v} as your APP_URL?`});if(!W)await e(`Alrighty! ${Sf(v)} was added to your account.`,{startTime:F,useSeconds:!0,type:"success"}),Cv.info(`Please note, you may need to validate your email address. Check your ${Sf(w.registrantEmail)} inbox.`),d.exit(n.Success);let{writeEnv:N}=await import("./chunk-cbc20gjc.js");N("APP_URL",v);let Z=`Great! ${Sf(v)} was added to your account.`;Z+=`

And your APP_URL has been set to ${Sf(v)}.
      
Please note, this change has not been deployed yet.
      
The next time you run ${cL(Sf(eL(" buddy deploy ")))}, your app will deploy to ${Sf(v)}.
      
${Sf("You may need to deploy 2-3 times for the changes to take effect. Issue tracked here: https://github.com/stacksjs/stacks/issues/685")}`,await e(Z,{startTime:F,useSeconds:!0,type:"info"}),d.exit(n.Success)}),f.command("domains:add <domain>",m.add).option("--verbose",m.verbose,{default:!1}).action(async(v)=>{Cv.debug("Running `buddy domains:add <domain>` ...",v);let w=await Kw("buddy domains:add"),F=await nL({...v,startTime:w});if(F.isErr())await e("While running the `buddy deploy`, there was an issue",{startTime:w,useSeconds:!0},F.error),d.exit(n.FatalError);await e("Added your domain.",{startTime:w,useSeconds:!0}),d.exit(n.Success)}),f.command("domains:remove <domain>",m.remove).option("--yes",m.skip,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(v)=>{Cv.debug("Running `buddy domains:remove <domain>` ...",v);let w=v.domain||DS.app.url,F={...v,domain:w},B=await Kw("buddy domains:remove");if(!F.yes){let{confirm:N}=await $S({name:"confirm",type:"confirm",message:`Are you sure you want to remove ${w}?`});if(!N)await e("Cancelled the domains:remove command",{startTime:B,useSeconds:!0,type:"info"}),d.exit(n.Success)}let W=await GS(ZS.DomainsRemove,F);if(W.isErr())await e("While running the domains:remove command, there was an issue",{startTime:B,useSeconds:!0},W.error),d.exit(n.FatalError);await e("Removed your domain DNS records.",{startTime:B,useSeconds:!0}),d.exit(n.Success)}),f.on("domains:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),d.exit(1)})}import P from"process";import{log as Zf}from"@stacksjs/cli";import{ExitCode as C}from"@stacksjs/types";function uB(f){let m={env:"Interact with your environment variables",get:"Get an environment variable",set:"Set an environment variable",encrypt:"Encrypt a value",decrypt:"Decrypt a value",pretty:"Pretty print the result",stdout:"Output the result to stdout",keypair:"Generate a keypair",fileKeys:"The path to the file containing the keys",excludeKey:"The key to exclude from encryption",rotate:"Rotate a keypair",format:"The format to output the result (json, shell, eval)",all:"Get all environment variables",file:"The environment file to use",project:"Target a specific project",verbose:"Enable verbose output"};f.command("env:get [key]",m.get).option("-f, --file [file]",m.file,{default:""}).option("--format [format]",m.format,{default:"json"}).option("-a, --all",m.all,{default:!1}).option("-p, --pretty",m.pretty,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).example("buddy env:get SECRET").example("buddy env:get SECRET --file .env.production").example("buddy env:get --all --pretty").example("buddy env:get --format shell").example("buddy env:get --format eval").example("buddy env:get --format json").action(async(l,v)=>{Zf.debug("Running `buddy env:get` ...",v);let w=["get"];if(l)w.push(l);if(v.all)w.push("--all");if(v.pretty)w.push("--pretty-print");if(v.file)w.push("--file",v.file);if(v.format)w.push("--format",v.format);let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),P.exit(C.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),P.exit(C.FatalError)}}),f.command("env:set [key] [value]",m.set).option("-f, --file [file]",m.file,{default:""}).option("--format [format]",m.format,{default:"json"}).option("-a, --all",m.all,{default:!1}).option("-p, --pretty",m.pretty,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).example("buddy env:set SECRET=value").example("buddy env:set SECRET value").example("buddy env:set SECRET value --file .env.production").example("buddy env:set --format shell").action(async(l,v,w)=>{Zf.debug("Running `buddy env:set` ...",w);let F=["set"];if(l){if(F.push(l),v)F.push(v)}if(w.file)F.push("--file",w.file);if(w.format)F.push("--format",w.format);if(w.pretty)F.push("--pretty-print");let B=Bun.spawnSync(["dotenvx",...F],{stdout:"pipe",stderr:"pipe"});if(B.exitCode===0){let W=new TextDecoder().decode(B.stdout);console.log(W),P.exit(C.Success)}else{let W=new TextDecoder().decode(B.stderr);console.error(W),P.exit(C.FatalError)}}),f.command("env:encrypt [key]",m.encrypt).option("-f, --file [file]",m.file,{default:""}).option("-fk, --file-keys [fileKeys]",m.fileKeys,{default:""}).option("-k, --keypair [keypair]",m.keypair,{default:""}).option("-o, --stdout",m.stdout,{default:!1}).option("-ek, --exclude-key [excludeKey]",m.excludeKey,{default:""}).action(async(l,v)=>{Zf.debug("Running `buddy env:encrypt` ...",v);let w=["encrypt"];if(l)w.push(l);if(v.file)w.push("--file",v.file);if(v.fileKeys)w.push("--file-keys",v.fileKeys);if(v.keypair)w.push("--keypair",v.keypair);if(v.stdout)w.push("--stdout");if(v.excludeKey)w.push("--exclude-key",v.excludeKey);let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),P.exit(C.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),P.exit(C.FatalError)}}),f.command("env:decrypt [key]",m.decrypt).option("-f, --file [file]",m.file,{default:""}).option("-fk, --file-keys [fileKeys]",m.fileKeys,{default:""}).option("-k, --keypair [keypair]",m.keypair,{default:""}).option("-o, --stdout",m.stdout,{default:!1}).action(async(l,v)=>{Zf.debug("Running `buddy env:decrypt` ...",v);let w=["decrypt"];if(l)w.push(l);if(v.file)w.push("--file",v.file);if(v.fileKeys)w.push("--file-keys",v.fileKeys);if(v.keypair)w.push("--keypair",v.keypair);if(v.stdout)w.push("--stdout");let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),P.exit(C.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),P.exit(C.FatalError)}}),f.command("env:keypair [key]",m.keypair).option("-f, --file [file]",m.file,{default:""}).option("-fk, --file-keys [fileKeys]",m.fileKeys,{default:""}).option("-o, --stdout",m.stdout,{default:!1}).action(async(l,v)=>{Zf.debug("Running `buddy env:keypair` ...",v);let w=["keypair"];if(l)w.push(l);if(v.file)w.push("--file",v.file);if(v.fileKeys)w.push("--file-keys",v.fileKeys);if(v.stdout)w.push("--stdout");let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),P.exit(C.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),P.exit(C.FatalError)}}),f.command("env:rotate [key]",m.rotate).option("-f, --file [file]",m.file,{default:""}).option("-fk, --file-keys [fileKeys]",m.fileKeys,{default:""}).option("-k, --keypair [keypair]",m.keypair,{default:""}).option("-o, --stdout",m.stdout,{default:!1}).action(async(l,v)=>{Zf.debug("Running `buddy env:rotate` ...",v);let w=["rotate"];if(l)w.push(l);if(v.file)w.push("--file",v.file);if(v.fileKeys)w.push("--file-keys",v.fileKeys);if(v.keypair)w.push("--keypair",v.keypair);if(v.stdout)w.push("--stdout");let F=Bun.spawnSync(["dotenvx",...w],{stdout:"pipe",stderr:"pipe"});if(F.exitCode===0){let B=new TextDecoder().decode(F.stdout);console.log(B),P.exit(C.Success)}else{let B=new TextDecoder().decode(F.stderr);console.error(B),P.exit(C.FatalError)}}),f.on("env:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),P.exit(1)})}import Fw from"process";import{runAction as pL}from"@stacksjs/actions";import{intro as oL,log as uL,outro as YS}from"@stacksjs/cli";import{Action as tL}from"@stacksjs/enums";import{ExitCode as ES}from"@stacksjs/types";function S8(f){let m={fresh:"Re-installs your npm dependencies",project:"Target a specific project",verbose:"Enable verbose output"};f.command("fresh",m.fresh).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{uL.debug("Running `buddy fresh` ...",l);let v=await oL("buddy fresh"),w=await pL(tL.Fresh,{...l,stdout:"inherit"});if(w.isErr())await YS("While running `buddy fresh`, there was an issue",{startTime:v,useSeconds:!0},w.error),Fw.exit(ES.FatalError);await YS("Freshly reinstalled your dependencies",{startTime:v,useSeconds:!0}),Fw.exit(ES.Success)}),f.on("fresh:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Fw.exit(1)})}import Ww from"process";import{generateComponentMeta as h1,generateCoreSymlink as R1,generateIdeHelpers as I1,generateLibEntries as L1,generateOpenApiSpec as K1,generatePkgxConfig as F1,generateTypes as B1,generateVsCodeCustomData as W1,generateWebTypes as M1,invoke as U1}from"@stacksjs/actions";import{intro as HS,log as A,outro as TS}from"@stacksjs/cli";import{ports as I8}from"@stacksjs/config";import{log as B8}from"@stacksjs/logging";var{plugin:S1}=globalThis.Bun;import{path as Av}from"@stacksjs/path";import Bw from"path";function f1(f,m={}){let{globalsPropValue:l=!0}=m,v={},w=f.match(/declare\s+global\s*\{([^}]*)\}/);if(!w||!w[1])return JSON.stringify({globals:{}},null,2);let F=w[1],B=F.match(/const\s+(\w+):/g);if(B)B.forEach((Z)=>{let Y=Z.replace(/const\s+|:/g,"").trim();v[Y]=l});let W=F.match(/type\s+(\w+)\s*=/g);if(W)W.forEach((Z)=>{let Y=Z.replace(/type\s+|=/g,"").trim();v[Y]=l});let N={globals:v};return JSON.stringify(N,null,2)}var{Glob:l1}=globalThis.Bun;function m1(f){return f.endsWith("ts")?"ts":f.endsWith("js")?"js":f.endsWith("tsx")?"tsx":"jsx"}var v1=`// Generated by bun-plugin-auto-imports
`;async function w1(f){let m=new Set,l=new l1("**/*.{ts,tsx,js,jsx}");for await(let v of l.scan({cwd:f,absolute:!0,onlyFiles:!0,followSymlinks:!1})){if(v.includes("node_modules")||v.endsWith(".d.ts"))continue;let w=await Bun.file(v).text(),F=[...w.matchAll(/export\s+(?:const|let|var|function|class|type|interface)\s+([a-zA-Z_$][\w$]*)/g),...w.matchAll(/export\s+\{([^}]+)\}/g),...w.matchAll(/export\s+default\s+(?:(?:function|class)\s*)?([a-zA-Z_$][\w$]*)/g)];for(let B of F)if(B[1])B[1].split(",").map((N)=>N.trim().replace(/\s+as\s+(?:\S.*)?$/,"").replace(/^.*(?:[\n\r\u2028\u2029]\s*|[\t\v\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF])as\s+/,"")).forEach((N)=>m.add(N))}return Array.from(m)}function XS(f){return{name:"bun-plugin-auto-imports",async setup(m){let{createUnimport:l}=await import("./chunk-32kqw77a.js"),v={};if(f.dirs)for(let Y of f.dirs){let g=typeof Y==="string"?Y:("path"in Y)?Y.path:Y;v[g]=await w1(g)}let w=Object.entries(v).flatMap(([Y,g])=>g.map((Kf)=>({from:Y,name:Kf,as:Kf}))),F=Bw.resolve(f.dts??"./auto-imports.d.ts"),B=Bw.dirname(F),W=l({...f,imports:[...f.imports||[],...w.map((Y)=>({...Y,from:`./${Bw.relative(B,Y.from).replace(/\\/g,"/")}`}))],dts:void 0}),{injectImports:N}=W,Z=await W.generateTypeDeclarations();if(await Bun.write(f.dts??"./auto-imports.d.ts",v1+Z),f.eslint?.enabled===!0){let Y={enabled:!0,filepath:f.eslint.filepath??"./.eslint-auto-import.json",globalsPropValue:f.eslint.globalsPropValue},g=f1(Z,Y);await Bun.write(Y.filepath??"./.eslint-auto-import.json",g)}m.onLoad({filter:/.*/},async(Y)=>{let g=await Bun.file(Y.path).text();return{contents:(await N(g)).code,loader:m1(Y.path)}})}}}function JS(){let f={dts:Av.storagePath("framework/types/server-auto-imports.d.ts"),dirs:[Av.storagePath("framework/orm/src/models"),Av.storagePath("framework/requests")],eslint:{enabled:!0,filepath:Av.storagePath("framework/server-auto-imports.json")}};S1(XS(f))}import{ExitCode as QS}from"@stacksjs/types";function _8(f){let m={command:"Automagically build any of your libraries/packages for production use. Select any of the following packages",types:"Generate your TypeScript types",entries:"Generate your function & Component Library Entry Points",webTypes:"Generate web-types.json for IDEs",customData:"Generate VS Code custom data (custom-elements.json) for IDEs",ideHelpers:"Generate IDE helpers",componentMeta:"Generate component meta information",coreSymlink:"Generate symlink of the core framework to the project root",pkgx:"Generate the pkgx configuration file",modelFiles:"Generate the model files",openApi:"Generate the OpenAPI specification",select:"What are you trying to generate?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("generate",m.command).option("-t, --types",m.types).option("-e, --entries",m.entries).option("-w, --web-types",m.webTypes).option("-c, --custom-data",m.customData).option("-i, --ide-helpers",m.ideHelpers).option("-c, --component-meta",m.componentMeta).option("-p, --pkgx",m.pkgx).option("-m, --model-files",m.modelFiles).option("-o, --openapi",m.openApi).option("-p, --project [project]",m.project,{default:!1}).option("--core-symlink",m.coreSymlink).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A.debug("Running `buddy generate` ...",l),await U1(l),Ww.exit(QS.Success)}),f.command("generate:types",m.types).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).alias("types:generate").action(async(l)=>{A.debug("Running `buddy generate:types` ...",l),await B1(l)}),f.command("generate:entries",m.entries).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A.debug("Running `buddy generate:entries` ...",l),await L1(l)}),f.command("generate:web-types",m.webTypes).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A.debug("Running `buddy generate:web-types` ...",l),await M1(l)}),f.command("generate:vscode-custom-data",m.customData).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A.debug("Running `buddy generate:vscode-custom-data` ...",l),await W1(l)}),f.command("generate:ide-helpers",m.ideHelpers).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A.debug("Running `buddy generate:ide-helpers` ...",l),await I1(l)}),f.command("generate:component-meta",m.componentMeta).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A.debug("Running `buddy generate:component-meta` ...",l),await h1()}),f.command("generate:pkgx-config",m.pkgx).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l)=>{A.debug("Running `buddy generate:pkgx-config` ...",l),F1()}),f.command("generate:model-files",m.modelFiles).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async()=>{let l=await HS("buddy generate:model-files");try{await VS(),await JS(),TS("Generated Model files",{startTime:l,useSeconds:!0})}catch(v){A.error("There was an error generating your model files",v),Ww.exit(QS.FatalError)}}),f.command("generate:openapi-spec",m.openApi).alias("generate:openapi").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A.debug("Running `buddy generate:openapi-spec` ...",l);let v=await HS("buddy generate:openapi-spec");await K1(),TS("Generated OpenAPI specification",{startTime:v,useSeconds:!0})}),f.command("generate:migrations","Generate Migrations").action((l)=>{A.debug("Running `buddy generate:migrations` ...",l)}),f.command("generate:core-symlink","Generate core symlink. A shortcut for core developers.").action(async(l)=>{A.debug("Running `buddy core-symlink` ...",l),await R1()}),f.on("generate:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Ww.exit(1)})}import z1 from"process";import{log as PS,runCommandSync as G1}from"@stacksjs/cli";import{config as $1}from"@stacksjs/config";import{ExitCode as D1}from"@stacksjs/types";function y8(f){let m={http:"Send an HTTP request to a domain",project:"Target a specific project",verbose:"Enable verbose output"};f.command("http [domain]",m.http).option("-p, --project [project]",m.project,{default:!1}).action(async(l,v)=>{PS.debug("Running `buddy http [domain]` ...",v);let w=Object.entries(v).filter(([B,W])=>B!=="--"&&B.length>1&&W!==!1).map(([B,W])=>`--${B} ${W}`).join(" "),F=`http GET ${l||$1.app.url} ${w}`;PS.info(`Running command: ${F}`),await G1(F),z1.exit(D1.Success)})}import Z1 from"process";import{log as N1,runCommand as Y1}from"@stacksjs/cli";import{path as E1}from"@stacksjs/path";function d8(f){let m={install:"Install your dependencies",project:"Target a specific project",verbose:"Enable verbose output"};f.command("install",m.install).option("-p, --project [project]",m.project,{default:!1}).option("-v, --verbose",m.verbose,{default:!1}).action(async(l)=>{N1.debug("Running `buddy install` ...",l),await Y1("bun install",{...l,cwd:E1.projectPath()})}),f.on("install:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Z1.exit(1)})}import kS from"process";import{runAction as X1}from"@stacksjs/actions";import{intro as J1,log as _S,outro as H1}from"@stacksjs/cli";import{Action as T1}from"@stacksjs/enums";function n8(f){let m={command:"Generate & set the application key.",project:"Target a specific project",verbose:"Enable verbose output"};f.command("key:generate",m.command).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{_S.debug("Running `buddy key:generate` ...",l),await J1("buddy key:generate");let v=await X1(T1.KeyGenerate,l);if(v.isErr())_S.error("Failed to set random application key.",v.error),kS.exit();await H1("Random application key set.")}),f.on("key:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),kS.exit(1)})}import qS from"process";import{runAction as CS}from"@stacksjs/actions";import{intro as Q1,log as Vf,outro as V1,runCommand as P1}from"@stacksjs/cli";import{Action as AS}from"@stacksjs/enums";import{path as Mw}from"@stacksjs/path";function m3(f){let m={lint:"Automagically lints your project codebase",lintFix:"Automagically fixes all lint errors",project:"Target a specific project",verbose:"Enable verbose output"};f.command("lint",m.lint).option("-f, --fix",m.lintFix,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Vf.debug("Running `buddy lint` ...",l);let v=await Q1("buddy lint");if(l.fix)await CS(AS.LintFix,{cwd:Mw.projectPath(),...l});else await P1("bunx --bun eslint . --config ./config/lint.ts",{cwd:Mw.projectPath()});await V1("Linted your project",{startTime:v,useSeconds:!0})}),f.command("lint:fix",m.lintFix).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Vf.debug("Running `buddy lint:fix` ...",l),Vf.info("Fixing lint errors...");let v=await CS(AS.LintFix,{cwd:Mw.projectPath(),...l});if(v.isErr())Vf.error("There was an error lint fixing your code.",v.error),qS.exit();Vf.success("Fixed lint errors")}),f.on("lint:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),qS.exit(1)})}var{$:jS}=globalThis.Bun;import k1 from"process";import{log as _1}from"@stacksjs/logging";import{projectPath as q1}from"@stacksjs/path";function I3(f){let m={list:"List all of the project-specific Buddy commands",project:"Target a specific project",verbose:"Enable verbose output"};f.command("list",m.list).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{_1.debug("Running `buddy list` ...",l),jS.cwd(q1());let w=(await jS`buddy --help`.text()).match(/Commands:.*?(?=For more info, run any command with the)/s)?.[0];if(w){let F=w.replace("Commands:","").replace(/^\s+/gm,"");console.log(F);return}console.error("#1 - Please reach out to our Discord for helper: https://discord.gg/stacksjs")}),f.on("list:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),k1.exit(1)})}import T from"process";import{createMigration as C1,createModel as gS,createNotification as yS,createPage as A1,invoke as j1,makeAction as OS,makeCertificate as rS,makeComponent as aS,makeDatabase as bS,makeFunction as dS,makeLanguage as xS,makePage as g1,makeQueueTable as iS,makeStack as sS}from"@stacksjs/actions";import{intro as y1,italic as O1,outro as cS}from"@stacksjs/cli";import{log as D}from"@stacksjs/logging";import{ExitCode as eS}from"@stacksjs/types";function U3(f){let m={action:"Create a new action",model:"Create a new model",component:"Create a new component",page:"Create a new page",function:"Create a new function",language:"Create a new language",database:"Create a new database",migration:"Create a new migration",factory:"Create a new factory",notification:"Create a new notification",name:"The name of the action",queue:"Make queue migration",stack:"Create a new stack",certificate:"Create a new SSL Certificate",select:"What are you trying to make?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("make [make]","The make command").option("-a, --action [action]",m.action,{default:!1}).option("-c, --component [component]",m.component,{default:!1}).option("-d, --database [database]",m.database,{default:!1}).option("-f, --factory [factory]",m.factory,{default:!1}).option("-f, --function [function]",m.function,{default:!1}).option("-l, --language [language]",m.language,{default:!1}).option("-m, --model [model]",m.model,{default:!1}).option("-p, --page [page]",m.page,{default:!1}).option("-m, --migration [migration]",m.migration,{default:!1}).option("-n, --notification [notification]",m.notification,{default:!1}).option("-qt, --queue-table",m.queue,{default:!1}).option("-s, --stack [stack]",m.stack,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(D.debug("Running `buddy make` ...",v),!f.args[0])D.error("You need to specify a name. Read more about the documentation here."),T.exit();if(l)switch(v.name=f.args[1],l){case"action":await OS(v);break;case"certificate":await rS();break;case"component":await aS(v);break;case"database":bS(v);break;case"function":await dS(v);break;case"language":await xS(v);break;case"migration":await C1(v);break;case"model":await gS(v);break;case"page":await A1(v);break;case"notification":await yS(v);break;case"queue-table":await iS();break;case"stack":await sS(v);break;default:}await j1(v),T.exit(eS.Success)}),f.command("make:action [name]",m.action).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(D.info("Running `buddy make:action` ..."),D.debug("Running `buddy make:action` ...",l,v),l=l??v.name,v.name=l,!l)D.error("You need to specify a name. Read more about the documentation here."),T.exit();await OS(v)}),f.command("make:certificate",m.certificate).alias("make:cert").example("buddy make:certificate").action(async(l)=>{D.debug("Running `buddy make:certificate` ...",l),await rS()}),f.command("make:component [name]",m.component).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(D.debug("Running `buddy make:component` ...",v),l=l??v.name,v.name=l,!l)D.error("You need to specify a name. Read more about the documentation here."),T.exit();await aS(v)}),f.command("make:database [name]",m.database).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l,v)=>{if(D.debug("Running `buddy make:database` ...",v),l=l??v.name,v.name=l,!l)D.error("You need to specify a database name via the `--name` option, or as the command\u2019s argument."),D.info("Example: `buddy make:database my-cool-database`"),D.info("Or: `buddy make:database --name=my-cool-database`"),D.info("Read more about the documentation here: https://stacksjs.org/docs/make/database"),T.exit();bS(v)}),f.command("make:factory [name]",m.factory).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l,v)=>{if(D.debug("Running `buddy make:factory` ...",v),l=l??v.name,v.name=l,!l)D.error("You need to specify a name. Read more about the documentation here."),T.exit()}),f.command("make:function [name]",m.function).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{D.debug("Running `buddy make:function` ...",l),await dS(l)}),f.command("make:lang [name]",m.language).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(D.debug("Running `buddy make:lang` ...",v),l=l??v.name,v.name=l,!l)D.error("You need to specify a name. Read more about the documentation here."),T.exit();await xS(v)}),f.command("make:migration [name]",m.migration).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l,v)=>{if(D.debug("Running `buddy make:migration` ...",v),l=l??v.name,v.name=l,!l)D.error("You need to specify a migration name"),T.exit()}),f.command("make:model [name]",m.model).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(D.debug("Running `buddy make:model` ...",v),l=l??v.name,v.name=l,!l)D.error("You need to specify a model name"),T.exit();await gS(v)}),f.command("make:notification [name]",m.notification).option("-n, --name [name]",m.name,{default:!1}).option("-e, --email","Is it an email notification?",{default:!0}).option("-c, --chat","Is it a chat notification?",{default:!1}).option("-s, --sms","Is it a SMS notification?",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{D.debug("Running `buddy make:notification` ...",v);let w=await y1("buddy make:notification");if(l=l??v.name,v.name=l,!l)D.error("You need to specify a name. Read more about the documentation here."),T.exit();if(!await yS(v))await cS("While running the make:notification command, there was an issue",{startTime:w,useSeconds:!0}),T.exit();await cS(`Created your ${O1(l)} notification.`,{startTime:w,useSeconds:!0}),T.exit(eS.Success)}),f.command("make:queue-table",m.migration).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{D.debug("Running `buddy make queue:table` ...",l),await iS()}),f.command("make:stack [name]",m.stack).option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action((l,v)=>{if(D.debug("Running `buddy make:stack` ...",v),l=l??v.name,v.name=l,!l)D.error("You need to specify a name. Read more about the documentation here."),T.exit();sS(v)}),f.command("make:view [name]",m.page).alias("make:page [name]").option("-n, --name [name]",m.name,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l,v)=>{if(D.debug("Running `buddy make:view` ...",v),l=l??v.name,v.name=l,!l)D.error("You need to specify a name. Read more about the documentation here."),T.exit();await g1(v)}),f.on("make:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),T.exit(1)})}import x from"process";import{runAction as Uw}from"@stacksjs/actions";import{intro as zw,log as Gw,outro as Nf}from"@stacksjs/cli";import{Action as $w}from"@stacksjs/enums";import{ExitCode as Dw}from"@stacksjs/types";function Y3(f){let m={migrate:"Migrates your database",project:"Target a specific project",verbose:"Enable verbose output"};f.command("migrate",m.migrate).option("-d, --diff","Show the SQL that would be run",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Gw.debug("Running `buddy migrate` ...",l);let v=await zw("buddy migrate"),w=await Uw($w.Migrate,l);if(w.isErr())await Nf("While running the migrate command, there was an issue",{startTime:v,useSeconds:!0},w.error),x.exit();let F=x.env.APP_ENV||"local";await Nf(`Migrated your ${F} database.`,{startTime:v,useSeconds:!0}),x.exit(Dw.Success)}),f.command("migrate:fresh",m.migrate).option("-d, --diff","Show the SQL that would be run",{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Gw.debug("Running `buddy migrate:fresh` ...",l);let v=await zw("buddy migrate:fresh"),w=await Uw($w.MigrateFresh,l);if(w.isErr())await Nf("While running the migrate:fresh command, there was an issue",{startTime:v,useSeconds:!0},w.error),x.exit();await Nf("All tables dropped successfully & migrated successfully",{startTime:v,useSeconds:!0}),x.exit(Dw.Success)}),f.command("migrate:dns",m.migrate).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{Gw.debug("Running `buddy migrate:dns` ...",l);let v=await zw("buddy migrate:dns"),w=await Uw($w.MigrateDns,{...l});if(w.isErr())await Nf("While running the migrate:dns command, there was an issue",{startTime:v,useSeconds:!0},w.error),x.exit();let F=x.env.APP_URL||"undefined";await Nf(`Migrated your ${F} DNS.`,{startTime:v,useSeconds:!0}),x.exit(Dw.Success)}),f.on("migrate:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),x.exit(1)})}var{$:nS}=globalThis.Bun;import r1 from"process";import{log as a1}from"@stacksjs/logging";import{projectPath as b1}from"@stacksjs/path";function Q3(f){let m={outdated:"List all the outdated project dependencies",project:"Target a specific project",verbose:"Enable verbose output"};f.command("outdated",m.outdated).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async()=>{a1.debug("Running `buddy outdated` ..."),nS.cwd(b1());let l=await nS`bun outdated`.text();console.log(l)}),f.on("outdated:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),r1.exit(1)})}var{$:jv}=globalThis.Bun;import gv from"process";import{intro as Zw,italic as fh,outro as Nw}from"@stacksjs/cli";import{ports as pS}from"@stacksjs/config";import{log as H}from"@stacksjs/logging";import{findProjectPath as oS,path as uS,projectPath as tS}from"@stacksjs/path";import{ExitCode as Yw}from"@stacksjs/types";import{findStacksProjects as d1}from"@stacksjs/utils";function y3(f){let m={command:"Let buddy check your project for potential issues and misconfigurations",ports:"Check if the ports are available",project:"Target a specific project",verbose:"Enable verbose output"};f.command("ports",m.command).option("-l, --list","List the used ports",{default:!0}).option("-c, --check","Check if the ports are available",{default:!1}).option("-p, --project [name]",m.project,{default:void 0}).option("-q, --quiet","Use minimal output",{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{H.debug("Running `buddy ports` ...",l);let v;if(!l.quiet)v=await Zw("buddy ports");if(l.project){let w=await oS(l.project);H.debug(`Path: ${w}`);let F=await Ew(w,l);H.debug(`./buddy ports --quiet response for ${tS}`,F),yv(F,l)}else yv(pS,l);if(!l.quiet)await Nw("Exited",{startTime:v,useSeconds:!1});gv.exit(Yw.Success)}),f.command("ports:list",m.ports).option("-p, --project [name]",m.project,{default:void 0}).option("-q, --quiet","Use minimal output",{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{H.debug("Running `buddy ports:list` ...",l);let v;if(!l.quiet)v=await Zw("buddy ports:list");if(l.project){if(!l.quiet)H.info(`Listing ports for project: ${fh(l.project)}`);let w=await oS(l.project);H.debug(`Path: ${w}`);let F=await Ew(w,l);yv(F,l)}else yv(pS,l);if(!l.quiet)await Nw("Exited",{startTime:v,useSeconds:!1});gv.exit(Yw.Success)}),f.command("ports:check",m.ports).option("-p, --project [name]",m.project,{default:tS()}).option("-q, --quiet","Use minimal output",{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{H.debug("Running `buddy ports:check` ...",l);let v;if(!l.quiet)v=await Zw("buddy ports:check");let w=await d1(void 0,{quiet:!0});H.debug("Running `buddy ports`"),H.debug(`Found ${w.length} projects`),H.debug("Projects:",w);let F={};for(let B of w)F[B]=await Ew(B,l);if(H.info("ProjectsPorts:",F),!l.quiet)await Nw("Exited",{startTime:v,useSeconds:!1});gv.exit(Yw.Success)}),f.on("ports:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),gv.exit(1)})}async function Ew(f,m){if(!m.quiet)H.info(`Checking ports for project: ${fh(f)}`);jv.cwd(f),jv.env(await import(`${f}/.env`));let l=await jv`./buddy projects:list --quiet`.text();H.debug("ProjectListResponse",l);let v=l.split(`
`).filter((Z)=>Z.startsWith("   - ")).map((Z)=>Z.trim().substring(4));H.debug("Projects:",v);let w=m.project??uS.projectPath(),F=v.find((Z)=>Z.includes(w));if(H.debug(`Checking ports for project: ${F}`),F===""||!F)F=uS.projectPath();H.debug(`$ Running: ./buddy ports:list --quiet via ${F}`);let B=await jv`./buddy ports:list --quiet`.json();H.debug(`Response for ./buddy ports:list --quiet via ${F}`,B);let W=B.replace(/(\w+)(?=\s*:)/g,'"$1"');W=W.replace(/,(\s*\})/g,"$1");let N=JSON.parse(W);return H.debug(`Ports for ${F}`,N),N}function yv(f,m){if(!m.quiet)console.log("");if(console.log(f),!m.quiet)console.log("")}import x1 from"process";import{runAction as i1}from"@stacksjs/actions";import{Action as s1}from"@stacksjs/enums";import{log as c1}from"@stacksjs/logging";function x3(f){let m={command:"Run your prepublish script",project:"Target a specific project",verbose:"Enable verbose output"};f.command("prepublish",m.command).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{c1.debug("Running `buddy prepublish` ...",l),await i1(s1.Prepublish,l)}),f.on("prepublish:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),x1.exit(1)})}import Xw from"process";import{intro as lh,log as mh}from"@stacksjs/cli";import{ExitCode as vh}from"@stacksjs/types";import{findStacksProjects as wh}from"@stacksjs/utils";function p3(f){let m={projects:"Find all Stacks projects on your system",verbose:"Enable verbose output"};f.command("projects",m.projects).option("-q, --quiet","Use minimal output",{default:!1}).option("-l, --list","List all local Stacks projects",{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(mh.debug("Running `buddy projects` ...",l),!l.quiet)await lh("buddy projects");let v=await wh(void 0,l);for(let w of v)console.log("   - ",w);Xw.exit(vh.Success)}),f.command("projects:list",m.projects).option("-q, --quiet","Use minimal output",{default:!1}).option("-l, --list","List all local Stacks projects",{default:!0}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(mh.debug("Running `buddy projects` ...",l),!l.quiet)await lh("buddy projects:list");let v=await wh(void 0,l);for(let w of v)console.log("   - ",w);Xw.exit(vh.Success)}),f.on("projects:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Xw.exit(1)})}import Sh from"process";import{runAction as e1}from"@stacksjs/actions";import{intro as n1,log as p1,outro as o1}from"@stacksjs/cli";import{Action as u1}from"@stacksjs/enums";import{ExitCode as t1}from"@stacksjs/types";function vW(f){let m={project:"Target a specific project",queue:"Run a specific queue",verbose:"Enable verbose output"};f.command("queue:work",m.queue).option("-p, --project [project]",m.project,{default:!1}).option("-q, --queue [queue]",m.queue,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{p1.debug("Running `buddy queue:work` ...",l);let v=await n1("buddy queue:work"),w=await e1(u1.QueueWork,l);if(w.isErr())await o1("While running the queue:work command, there was an issue",{startTime:v,useSeconds:!0},w.error),Sh.exit();Sh.exit(t1.Success)})}import hh from"process";import{runAction as f2}from"@stacksjs/actions";import{intro as l2,italic as m2,log as Ov,outro as v2}from"@stacksjs/cli";import{Action as w2}from"@stacksjs/enums";import{ExitCode as S2}from"@stacksjs/types";var rv={release:"Release a new version of your libraries/packages",project:"Target a specific project",dryRun:"Run the release without actually releasing",verbose:"Enable verbose output"};function KW(f){f.command("release",rv.release).option("--dry-run",rv.dryRun,{default:!1}).option("-p, --project [project]",rv.project,{default:!1}).option("--verbose",rv.verbose,{default:!1}).action(async(m)=>{if(Ov.debug("Running `buddy release` ...",m),m.dryRun)Ov.warn("Dry run enabled. No changes will be made or committed.");let l=await l2("buddy release"),v=await f2(w2.Release,m);if(v.isErr())Ov.error("Failed to release",v.error),hh.exit(S2.FatalError);await v2("Triggered CI/CD Release via GitHub Actions",{startTime:l,useSeconds:!0}),Ov.info(`Follow along: ${m2("https://github.com/stacksjs/stacks/actions")}`)}),f.on("release:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),hh.exit(1)})}import Jw from"process";import{runAction as h2}from"@stacksjs/actions";import{intro as R2,outro as Rh}from"@stacksjs/cli";import{Action as I2}from"@stacksjs/enums";import{ExitCode as L2}from"@stacksjs/types";function GW(f){let m={route:"Lists your routes",verbose:"Enable verbose output"};f.command("route:list",m.route).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await R2("buddy route:list"),w=await h2(I2.RouteList,l);if(w.isErr())await Rh("While running the migrate command, there was an issue",{startTime:v,useSeconds:!0},w.error),Jw.exit();await Rh("Successfully listed routes"),Jw.exit(L2.Success)}),f.on("route:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Jw.exit(1)})}import Ih from"process";import{runAction as K2}from"@stacksjs/actions";import{intro as F2,log as B2,outro as Lh}from"@stacksjs/cli";import{Action as W2}from"@stacksjs/enums";import{ExitCode as M2}from"@stacksjs/types";function XW(f){let m={stripe:"Sets up stripe products in the dashboard",project:"Target a specific project",verbose:"Enable verbose output"};f.command("stripe:setup",m.stripe).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{B2.debug("Running `buddy stripe:setup` ...",l);let v=await F2("buddy stripe:setup"),w=await K2(W2.StripeSetup,l);if(w.isErr())await Lh("While running the stripe:setup command, there was an issue",{startTime:v,useSeconds:!0},w.error),Ih.exit();await Lh("Stripe products created successfully",{startTime:v,useSeconds:!0}),Ih.exit(M2.Success)})}import Kh from"process";import{runAction as U2}from"@stacksjs/actions";import{intro as z2,log as G2,outro as $2}from"@stacksjs/cli";import{Action as D2}from"@stacksjs/enums";import{ExitCode as Z2}from"@stacksjs/types";function kW(f){let m={project:"Target a specific project",schedule:"Run the scheduler",verbose:"Enable verbose output"};f.command("schedule:run",m.schedule).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{G2.debug("Running `buddy schedule:run` ...",l);let v=await z2("buddy schedule:run"),w=await U2(D2.ScheduleRun,l);if(w.isErr())await $2("While running the schedule:run command, there was an issue",{startTime:v,useSeconds:!0},w.error),Kh.exit();Kh.exit(Z2.Success)})}import Hw from"process";import{runAction as Fh}from"@stacksjs/actions";import{intro as Bh,log as Tw,outro as av}from"@stacksjs/cli";import{Action as Pf}from"@stacksjs/enums";import{ExitCode as N2}from"@stacksjs/types";function yW(f){let m={import:"Indexes database data to search engine",flush:"Flushes all data from search engine",settings:"Update index settings",list:"List index settings",model:"Target a specific model",project:"Target a specific project",verbose:"Enable verbose output"};f.command("search-engine:update",m.import).option("-m, --model [model]",m.model,{default:""}).option("-f, --flush [flush]",m.flush,{default:!1}).option("-s, --settings [settings]",m.settings,{default:!1}).option("--verbose",m.verbose,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).action(async(l)=>{Tw.debug("Running `search-engine:update` ...",l);let v=Pf.SearchEngineImport,w="search-engine:update";if(l.model)v=Pf.SearchEngineImport,w=`search-engine:update --model ${l.model}`;if(l.settings)v=Pf.SearchEnginePushSettings,w="search-engine:update --settings";if(l.flush)v=Pf.SearchEngineFlush,w="search-engine:update --flush";let F=await Bh(w),B=await Fh(v,l);if(B.isErr())await av("While running the stripe:setup command, there was an issue",{startTime:F,useSeconds:!0},B.error),Hw.exit();await av("Successfully imported model data to search engine.",{startTime:F,useSeconds:!0})}),f.command("search-engine:settings",m.list).option("-m, --model [model]",m.model,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(!l.model)Tw.error("Missing required option --model");Tw.debug("Running `search-engine:settings` ...",l);let v=await Bh("search-engine:settings"),w=await Fh(Pf.SearchEngineListSettings,l);if(w.isErr())await av("While running the stripe:setup command, there was an issue",{startTime:v,useSeconds:!0},w.error),Hw.exit();await av("Successfully listed search engine index settings.",{startTime:v,useSeconds:!0}),Hw.exit(N2.Success)})}import bv from"process";import{runAction as Y2}from"@stacksjs/actions";import{intro as E2,log as X2,outro as Wh}from"@stacksjs/cli";import{Action as J2}from"@stacksjs/enums";import{ExitCode as Mh}from"@stacksjs/types";function iW(f){let m={seed:"Seed your database",project:"Target a specific project",verbose:"Enable verbose output"};f.command("seed",m.seed).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{X2.debug("Running `buddy seed` ...",l);let v=await E2("buddy seed"),w=await Y2(J2.Seed,l);if(w.isErr())await Wh("While running the seed command, there was an issue",{startTime:v,useSeconds:!0},w.error),bv.exit(Mh.FatalError);let F=bv.env.APP_ENV||"local";await Wh(`Seeded your ${F} database.`,{startTime:v,useSeconds:!0}),bv.exit(Mh.Success)}),f.on("seed:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),bv.exit(1)})}import hf from"process";import{runAction as H2}from"@stacksjs/actions";import{log as j,runCommand as Yf}from"@stacksjs/cli";import{Action as T2}from"@stacksjs/enums";import{handleError as kf}from"@stacksjs/error-handling";import{path as Ef}from"@stacksjs/path";import{storage as Q2}from"@stacksjs/storage";import{ExitCode as Rf}from"@stacksjs/types";function lM(f){let m={setup:"This command ensures your project is setup correctly",ohMyZsh:"Enable Oh My Zsh",aws:"Ensures AWS is connected to the project",project:"Target a specific project",verbose:"Enable verbose output"};f.command("setup",m.setup).alias("ensure").option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{if(j.debug("Running `buddy setup` ...",l),!await V2())await P2();await _2(),await k2(l)}),f.command("setup:oh-my-zsh",m.ohMyZsh).alias("upgrade:oh-my-zsh").option("--verbose",m.verbose,{default:!1}).action(async(l)=>{j.debug("Running `buddy setup:oh-my-zsh` ...",l);let v=await H2(T2.UpgradeShell);if(v.isErr())j.error(v.error),hf.exit(Rf.FatalError)}),f.on("setup:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),hf.exit(Rf.FatalError)})}async function V2(){if((await Yf("pkgx --version",{silent:!0})).isOk())return!0;return!1}async function P2(){let f=await Yf(Ef.frameworkPath("scripts/pkgx-install"));if(f.isOk())return;kf(f.error),hf.exit(Rf.FatalError)}async function k2(f){j.info("Installing dependencies...");let m=await Yf("bun install",{cwd:f.cwd||Ef.projectPath()});if(m.isErr())kf(m.error),hf.exit(Rf.FatalError);j.success("Installed node_modules"),q2(f);let l=await Yf("buddy key:generate",{cwd:f.cwd||Ef.projectPath()});if(l.isErr())kf(l.error),hf.exit(Rf.FatalError);j.info("Ensuring AWS is connected...");let v=await Yf("buddy configure:aws",{cwd:f.cwd||Ef.projectPath()});if(v.isErr())kf(v.error),hf.exit(Rf.FatalError);j.success("Configured AWS"),j.success("Project is setup"),j.info("Happy coding! \uD83D\uDC99")}async function _2(){return new Promise((f)=>setTimeout(f,300))}async function q2(f){if(j.info("Ensuring .env exists..."),Q2.doesNotExist(Ef.projectPath(".env"))){let m=await Yf("cp .env.example .env",{cwd:f.cwd||Ef.projectPath()});if(m.isErr())kf(m.error),hf.exit(Rf.FatalError);j.success(".env created")}else j.success(".env existed")}import i from"process";import{runAction as p}from"@stacksjs/actions";import{intro as _f,log as Uh,outro as k}from"@stacksjs/cli";import{Action as o}from"@stacksjs/enums";import{projectPath as u}from"@stacksjs/path";function IM(f){let m={command:"Runs your test suite",types:"Typechecks your codebase",coverage:"Generates a test coverage report",ui:"Runs your test suite in the browser",unit:"Runs your unit tests",feature:"Runs your feature tests",showReport:"Show the test report",project:"Target a specific project",verbose:"Enable verbose output"};f.command("test",m.command).option("-f, --feature",m.feature,{default:!1}).option("-u, --unit",m.unit,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!0}).action(async(l)=>{let v=await _f("buddy test");if(l.feature&&l.unit){let w=await p(o.Test,{...l,cwd:u()});if(w.isErr())await k("While running `buddy test`, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit()}if(l.feature&&!l.unit){Uh.info("Running Feature tests...");let w=await p(o.TestFeature,{...l,cwd:u()});if(w.isErr())await k("While running `buddy test`, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit()}if(!l.feature&&l.unit){Uh.info("Running Unit tests...");let w=await p(o.TestUnit,{...l,cwd:u()});if(w.isErr())await k("While running `buddy test`, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit()}if(!l.feature&&!l.unit){let w=await p(o.Test,{...l,cwd:u()});if(w.isErr())await k("While running `buddy test`, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit()}await k("Finished running tests",{startTime:v,useSeconds:!0})}),f.command("test:unit",m.unit).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await _f("buddy test:unit"),w=await p(o.TestUnit,{...l,verbose:!0,cwd:u()});if(w.isErr())await k("While running `buddy test:unit`, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit();await k("Finished running unit tests",{startTime:v,useSeconds:!0})}),f.command("test:feature",m.feature).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await _f("buddy test:feature"),w=await p(o.TestFeature,{...l,verbose:!0,cwd:u()});if(w.isErr())await k("While running `buddy test:feature`, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit();await k("Finished running feature tests",{startTime:v,useSeconds:!0})}),f.command("test:ui",m.command).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await _f("buddy test:ui"),w=await p(o.TestUi,{...l,verbose:!0,cwd:u()});if(w.isErr())await k("While running `buddy test:ui`, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit();await k("Finished running tests in the browser",{startTime:v,useSeconds:!0})}),f.command("test:types",m.types).alias("typecheck").option("--verbose",m.verbose,{default:!1}).action(async(l)=>{let v=await _f("buddy test:types"),w=await p(o.Typecheck,{...l,verbose:!0,cwd:u()});if(w.isErr())await k("While running `buddy test:types`, there was an issue",{startTime:v,useSeconds:!0},w.error),i.exit();await k("Finished running typecheck",{startTime:v,useSeconds:!0})}),f.on("test:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),i.exit(1)})}import Qw from"process";import{intro as C2,log as A2,outro as zh,runCommand as j2}from"@stacksjs/cli";import{ExitCode as g2}from"@stacksjs/types";function WM(f){let m={tinker:"Tinker with your code",project:"Target a specific project",verbose:"Enable verbose output"};f.command("tinker",m.tinker).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{A2.debug("Running `buddy tinker` ...",l);let v=await C2("buddy tinker"),w=await j2("bun repl",{stdin:"inherit"});if(w.isErr())await zh("While running the tinker command, there was an issue",{startTime:v,useSeconds:!0},w.error||void 0),Qw.exit();await zh("Tinker mode exited.",{startTime:v,useSeconds:!0}),Qw.exit(g2.Success)}),f.on("tinker:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),Qw.exit(1)})}import y2 from"process";import{generateTypes as O2}from"@stacksjs/actions";import{log as r2}from"@stacksjs/logging";function $M(f){let m={generate:"Generate the types of & for your library/libraries",fix:"wip",project:"Target a specific project",verbose:"Enable verbose output"};f.command("types:generate",m.generate).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{r2.debug("Running `buddy types:generate` ...",l),await O2()}),f.command("types:fix",m.fix).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async()=>{}),f.on("types:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),y2.exit(1)})}import _ from"process";import{runAction as If}from"@stacksjs/actions";import{intro as dv,log as t,outro as qf,prompts as a2}from"@stacksjs/cli";import{Action as Lf}from"@stacksjs/enums";import{ExitCode as xv}from"@stacksjs/types";import{isString as b2}from"@stacksjs/validation";function HM(f){let m={command:"Upgrade dependencies, framework, package manager, JS/TS runtime",framework:"Upgrade the Stacks framework",dependencies:"Upgrade your dependencies (pkgx.yaml & package.json)",bun:"Upgrade Bun to the latest version",shell:"Upgrade the to the latest shell integration (currently only supports Oh My Zsh)",binary:"Upgrade the `stacks` binary to the latest version. Please note, the binary is moved to the `~/.stacks/bin` directory",all:"Upgrade Node, package manager, project dependencies, and framework",force:"Overwrite possible local updates with remote framework updates",select:"What are you trying to upgrade?",project:"Target a specific project",verbose:"Enable verbose output"};f.command("upgrade",m.command).option("-d, --dependencies",m.dependencies,{default:!1}).option("-b, --bun",m.bun,{default:!1}).option("-a, --all",m.all,{default:!1}).option("-f, --force",m.force,{default:!1}).option("--framework",m.framework,{default:!1}).option("-p, --project [project]",m.project,{default:!1}).option("-s, --shell",m.shell,{default:!1}).option("-b, --binary",m.binary,{default:!1}).option("--verbose",m.verbose,{default:!1}).alias("update").example("buddy upgrade -a --verbose").action(async(l)=>{t.debug("Running `buddy upgrade` ...",l);let v=await dv("buddy upgrade");if(d2(l)){let B=(await a2({type:"multiselect",name:"value",message:m.select,choices:[{value:"dependencies",title:"Dependencies"},{value:"framework",title:"Framework"},{value:"bun",title:"Bun"},{value:"shell",title:"Shell"},{value:"binary",title:"Binary"}]})).value;if(B!==null)_.exit(xv.InvalidArgument);if(b2(B))B=[B];l=B.reduce((W,N)=>{return W[N]=!0,W},{})}let w=await If(Lf.Upgrade,l);if(w.isErr())await qf("While running the buddy:upgrade command, there was an issue",{startTime:v,useSeconds:!0},w.error),_.exit();await qf("Upgrade complete.",{startTime:v,useSeconds:!0}),_.exit()}),f.command("upgrade:framework",m.framework).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).example("buddy upgrade:framework --verbose").action(async(l)=>{t.debug("Running `buddy upgrade:framework` ...",l),await If(Lf.Upgrade,l)}),f.command("upgrade:dependencies",m.dependencies).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).alias("upgrade:deps").example("buddy upgrade:dependencies --verbose").action(async(l)=>{t.debug("Running `buddy upgrade:dependencies` ...",l),await If(Lf.Upgrade,l)}),f.command("upgrade:bun",m.bun).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{t.debug("Running `buddy upgrade:bun` ...",l);let v=await dv("buddy upgrade:bun"),w=await If(Lf.UpgradeBun,l);if(w.isErr())await qf("While running the buddy upgrade:bun command, there was an issue",{startTime:v,useSeconds:!0},w.error),_.exit();_.exit(xv.Success)}),f.command("upgrade:all",m.all).option("-p, --project [project]",m.project,{default:!1}).option("--verbose",m.verbose,{default:!1}).action(async(l)=>{t.debug("Running `buddy upgrade:all` ...",l),await If(Lf.Upgrade,l)}),f.command("upgrade:shell",m.shell).option("--verbose",m.verbose,{default:!1}).example("buddy upgrade:shell").action(async(l)=>{t.debug("Running `buddy upgrade:shell` ...",l);let v=await dv("buddy upgrade:shell"),w=await If(Lf.UpgradeShell,l);if(w.isErr())await qf("While running the buddy upgrade:shell command, there was an issue",{startTime:v,useSeconds:!0},w.error),_.exit();_.exit(xv.Success)}),f.command("upgrade:binary",m.binary).option("--verbose",m.verbose,{default:!1}).example("buddy upgrade:binary").action(async(l)=>{if(_.getuid&&_.getuid()!==0)t.warn("To upgrade the binary, you need to run this command with sudo, or as root."),_.exit(0);t.debug("Running `buddy upgrade:binary` ...",l);let v=await dv("buddy upgrade:binary"),w=await If(Lf.UpgradeBinary,l);if(w.isErr())await qf("While running the buddy upgrade:binary command, there was an issue",{startTime:v,useSeconds:!0},w.error),_.exit();_.exit(xv.Success)}),f.on("upgrade:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),_.exit(1)})}function d2(f){return!f.framework&&!f.dependencies&&!f.bun&&!f.shell&&!f.binary&&!f.all}import x2 from"process";import{bold as Gh,dim as $h,green as Dh,intro as i2,log as Vw}from"@stacksjs/cli";import{storage as s2}from"@stacksjs/storage";function kM(f){let m={version:"Retrieving Stacks build version"};f.command("version",m.version).action(async()=>{Vw.debug("Running `buddy version` ..."),await i2("buddy version");let l=await s2.readPackageJson("./package.json"),v="wip",w=l.version;Vw.info(Dh(Gh("@stacksjs/ "))+$h(` ${w}`)),Vw.info(Dh(Gh("Bun: "))+$h(`   ${v}`))}),f.on("version:*",()=>{console.error(`Invalid command: %s
See --help for a list of available commands.`,f.args.join(" ")),x2.exit(1)})}export{u2 as Ma,SK as Na,FK as Oa,$K as Pa,sF as Qa,oF as Ra,vB as Sa,WB as Ta,XB as Ua,_B as Va,aL as Wa,yB as Xa,cB as Ya,uB as Za,S8 as _a,_8 as $a,y8 as ab,d8 as bb,n8 as cb,m3 as db,I3 as eb,U3 as fb,Y3 as gb,Q3 as hb,y3 as ib,x3 as jb,p3 as kb,vW as lb,KW as mb,GW as nb,XW as ob,kW as pb,yW as qb,iW as rb,lM as sb,_2 as tb,q2 as ub,IM as vb,WM as wb,$M as xb,HM as yb,kM as zb};
