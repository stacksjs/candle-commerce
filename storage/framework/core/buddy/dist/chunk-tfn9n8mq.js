import{Xc as k,Yc as Re}from"./chunk-zcxy6nkf.js";import{$c as m,ad as F,qd as bt}from"./chunk-jvkt0wcv.js";import{Dd as ar,Ed as br,zd as Ce}from"./chunk-gs1ffr9z.js";import{Wd as xe}from"./chunk-eq3zhwy6.js";import{_d as Le}from"./chunk-p9k8vjq3.js";import{he as Gt}from"./chunk-g1bcjaf8.js";import{ke as w,pe as qr}from"./chunk-9ph3hk3r.js";function to(e){return e}var Yt=(e)=>(t)=>async(r)=>{if(!m.isInstance(r.request))return t(r);let{request:o}=r,{handlerProtocol:n=""}=e.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let s=o.hostname;if(o.port!=null)s+=`:${o.port}`;o.headers.host=s}return t(r)},zt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ro=(e)=>({applyToStack:(t)=>{t.add(Yt(e),zt)}});var jt=()=>(e,t)=>async(r)=>{try{let o=await e(r),{clientName:n,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:f}=a,u=c??t.inputFilterSensitiveLog,R=f??t.outputFilterSensitiveLog,{$metadata:l,...d}=o.output;return i?.info?.({clientName:n,commandName:s,input:u(r.input),output:R(d),metadata:l}),o}catch(o){let{clientName:n,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,f=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:n,commandName:s,input:f(r.input),error:o,metadata:o.$metadata}),o}},Xt={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},no=(e)=>({applyToStack:(t)=>{t.add(jt(),Xt)}});var se="X-Amzn-Trace-Id",Ht="AWS_LAMBDA_FUNCTION_NAME",qt="_X_AMZN_TRACE_ID",Zt=(e)=>(t)=>async(r)=>{let{request:o}=r;if(!m.isInstance(o)||e.runtime!=="node")return t(r);let n=Object.keys(o.headers??{}).find((c)=>c.toLowerCase()===se.toLowerCase())??se;if(o.headers.hasOwnProperty(n))return t(r);let s=process.env[Ht],i=process.env[qt],a=(c)=>typeof c==="string"&&c.length>0;if(a(s)&&a(i))o.headers[se]=i;return t({...r,request:o})},Jt={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},fo=(e)=>({applyToStack:(t)=>{t.add(Zt(e),Jt)}});var Pe=w(Ce(),1),ie=void 0;function Kt(e){if(e===void 0)return!0;return typeof e==="string"&&e.length<=50}function uo(e){let t=Pe.normalizeProvider(e.userAgentAppId??ie),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r==="string"?[[r]]:r,userAgentAppId:async()=>{let o=await t();if(!Kt(o)){let n=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;if(typeof o!=="string")n?.warn("userAgentAppId must be a string or undefined.");else if(o.length>50)n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return o}})}class Qt{constructor({size:e,params:t}){if(this.data=new Map,this.parameters=[],this.capacity=e??50,t)this.parameters=t}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let o=this.data.keys(),n=0;while(!0){let{value:s,done:i}=o.next();if(this.data.delete(s),i||++n>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let o of r){let n=String(e[o]??"");if(n.includes("|;"))return!1;t+=n+"|;"}return t}}var er=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),M=(e)=>er.test(e)||e.startsWith("[")&&e.endsWith("]");var tr=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),$=(e,t=!1)=>{if(!t)return tr.test(e);let r=e.split(".");for(let o of r)if(!$(o))return!1;return!0};var L={};var h="endpoints";function E(e){if(typeof e!=="object"||e==null)return e;if("ref"in e)return`$${E(e.ref)}`;if("fn"in e)return`${e.fn}(${(e.argv||[]).map(E).join(", ")})`;return JSON.stringify(e,null,2)}class p extends Error{constructor(e){super(e);this.name="EndpointError"}}var Ue=(e,t)=>e===t;var ve=(e)=>{let t=e.split("."),r=[];for(let o of t){let n=o.indexOf("[");if(n!==-1){if(o.indexOf("]")!==o.length-1)throw new p(`Path: '${e}' does not end with ']'`);let s=o.slice(n+1,-1);if(Number.isNaN(parseInt(s)))throw new p(`Invalid array index: '${s}' in path: '${e}'`);if(n!==0)r.push(o.slice(0,n));r.push(s)}else r.push(o)}return r};var W=(e,t)=>ve(t).reduce((r,o)=>{if(typeof r!=="object")throw new p(`Index '${o}' in '${t}' not found in '${JSON.stringify(e)}'`);else if(Array.isArray(r))return r[parseInt(o)];return r[o]},e);var Me=(e)=>e!=null;var $e=(e)=>!e;var Y=w(Le(),1);var ae={[Y.EndpointURLScheme.HTTP]:80,[Y.EndpointURLScheme.HTTPS]:443},Fe=(e)=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e==="object"&&"hostname"in e){let{hostname:l,port:d,protocol:I="",path:B="",query:Vt={}}=e,De=new URL(`${I}//${l}${d?`:${d}`:""}${B}`);return De.search=Object.entries(Vt).map(([Bt,Wt])=>`${Bt}=${Wt}`).join("&"),De}return new URL(e)}catch(l){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:o,hostname:n,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Y.EndpointURLScheme).includes(c))return null;let f=M(n),u=r.includes(`${o}:${ae[c]}`)||typeof e==="string"&&e.includes(`${o}:${ae[c]}`),R=`${o}${u?`:${ae[c]}`:""}`;return{scheme:c,authority:R,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:f}};var ke=(e,t)=>e===t;var Ge=(e,t,r,o)=>{if(t>=r||e.length<r)return null;if(!o)return e.substring(t,r);return e.substring(e.length-r,e.length-t)};var Ve=(e)=>encodeURIComponent(e).replace(/[!*'()]/g,(t)=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Be={booleanEquals:Ue,getAttr:W,isSet:Me,isValidHostLabel:$,not:$e,parseURL:Fe,stringEquals:ke,substring:Ge,uriEncode:Ve};var z=(e,t)=>{let r=[],o={...t.endpointParams,...t.referenceRecord},n=0;while(n<e.length){let s=e.indexOf("{",n);if(s===-1){r.push(e.slice(n));break}r.push(e.slice(n,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}if(e[s+1]==="{"&&e[i+1]==="}")r.push(e.slice(s+1,i)),n=i+2;let a=e.substring(s+1,i);if(a.includes("#")){let[c,f]=a.split("#");r.push(W(o[c],f))}else r.push(o[a]);n=i+1}return r.join("")};var We=({ref:e},t)=>{return{...t.endpointParams,...t.referenceRecord}[e]};var A=(e,t,r)=>{if(typeof e==="string")return z(e,r);else if(e.fn)return j(e,r);else if(e.ref)return We(e,r);throw new p(`'${t}': ${String(e)} is not a string, function or reference.`)};var j=({fn:e,argv:t},r)=>{let o=t.map((s)=>["boolean","number"].includes(typeof s)?s:A(s,"arg",r)),n=e.split(".");if(n[0]in L&&n[1]!=null)return L[n[0]][n[1]](...o);return Be[e](...o)};var Ye=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new p(`'${e}' is already defined in Reference Record.`);let o=j(t,r);return r.logger?.debug?.(`${h} evaluateCondition: ${E(t)} = ${E(o)}`),{result:o===""?!0:!!o,...e!=null&&{toAssign:{name:e,value:o}}}};var b=(e=[],t)=>{let r={};for(let o of e){let{result:n,toAssign:s}=Ye(o,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!n)return{result:n};if(s)r[s.name]=s.value,t.logger?.debug?.(`${h} assign: ${s.name} := ${E(s.value)}`)}return{result:!0,referenceRecord:r}};var ze=(e,t)=>Object.entries(e).reduce((r,[o,n])=>({...r,[o]:n.map((s)=>{let i=A(s,"Header value entry",t);if(typeof i!=="string")throw new p(`Header '${o}' value '${i}' is not a string`);return i})}),{});var ce=(e,t)=>{if(Array.isArray(e))return e.map((r)=>ce(r,t));switch(typeof e){case"string":return z(e,t);case"object":if(e===null)throw new p(`Unexpected endpoint property: ${e}`);return X(e,t);case"boolean":return e;default:throw new p(`Unexpected endpoint property type: ${typeof e}`)}};var X=(e,t)=>Object.entries(e).reduce((r,[o,n])=>({...r,[o]:ce(n,t)}),{});var je=(e,t)=>{let r=A(e,"Endpoint URL",t);if(typeof r==="string")try{return new URL(r)}catch(o){throw console.error(`Failed to construct URL with ${r}`,o),o}throw new p(`Endpoint URL must be a string, got ${typeof r}`)};var Xe=(e,t)=>{let{conditions:r,endpoint:o}=e,{result:n,referenceRecord:s}=b(r,t);if(!n)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:f}=o;return t.logger?.debug?.(`${h} Resolving endpoint from template: ${E(o)}`),{...f!=null&&{headers:ze(f,i)},...c!=null&&{properties:X(c,i)},url:je(a,i)}};var He=(e,t)=>{let{conditions:r,error:o}=e,{result:n,referenceRecord:s}=b(r,t);if(!n)return;throw new p(A(o,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))};var qe=(e,t)=>{let{conditions:r,rules:o}=e,{result:n,referenceRecord:s}=b(r,t);if(!n)return;return H(o,{...t,referenceRecord:{...t.referenceRecord,...s}})};var H=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let o=Xe(r,t);if(o)return o}else if(r.type==="error")He(r,t);else if(r.type==="tree"){let o=qe(r,t);if(o)return o}else throw new p(`Unknown endpoint rule: ${r}`);throw new p("Rules evaluation failed")};var rr=(e,t)=>{let{endpointParams:r,logger:o}=t,{parameters:n,rules:s}=e;t.logger?.debug?.(`${h} Initial EndpointParams: ${E(r)}`);let i=Object.entries(n).filter(([,f])=>f.default!=null).map(([f,u])=>[f,u.default]);if(i.length>0)for(let[f,u]of i)r[f]=r[f]??u;let a=Object.entries(n).filter(([,f])=>f.required).map(([f])=>f);for(let f of a)if(r[f]==null)throw new p(`Missing required parameter: '${f}'`);let c=H(s,{endpointParams:r,logger:o,referenceRecord:{}});return t.logger?.debug?.(`${h} Resolved endpoint: ${E(c)}`),c};var fe=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!fe(r))return!1;return!0}if(!$(e))return!1;if(e.length<3||e.length>63)return!1;if(e!==e.toLowerCase())return!1;if(M(e))return!1;return!0};var Ze=(e)=>{let t=e.split(":");if(t.length<6)return null;let[r,o,n,s,i,...a]=t;if(r!=="arn"||o===""||n===""||a.join(":")==="")return null;let c=a.map((f)=>f.split("/")).flat();return{partition:o,service:n,region:s,accountId:i,resourceId:c}};var Je={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"};var nr=Je,sr="",Ke=(e)=>{let{partitions:t}=nr;for(let o of t){let{regions:n,outputs:s}=o;for(let[i,a]of Object.entries(n))if(i===e)return{...s,...a}}for(let o of t){let{regionRegex:n,outputs:s}=o;if(new RegExp(n).test(e))return{...s}}let r=t.find((o)=>o.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};var Qe=()=>sr;var ir={isVirtualHostableS3Bucket:fe,parseArn:Ze,partition:Ke};L.aws=ir;var x=w(ar(),1),cr=/\d{12}\.ddb/;async function et(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor")x.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M");if(typeof t.retryStrategy==="function"){let s=await t.retryStrategy();if(typeof s.acquireInitialRetryToken==="function")if(s.constructor?.name?.includes("Adaptive"))x.setFeature(e,"RETRY_MODE_ADAPTIVE","F");else x.setFeature(e,"RETRY_MODE_STANDARD","E");else x.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode==="function"){let s=e.endpointV2;if(String(s?.url?.hostname).match(cr))x.setFeature(e,"ACCOUNT_ID_ENDPOINT","O");switch(await t.accountIdEndpointMode?.()){case"disabled":x.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":x.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":x.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let n=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source){let s=n;if(s.accountId)x.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))x.setFeature(e,i,a)}}var pe="user-agent",q="x-amz-user-agent",ue=" ",Z="/",tt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,rt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,de="-";function ot(e){let t="";for(let r in e){let o=e[r];if(t.length+o.length+1<=1024){if(t.length)t+=","+o;else t+=o;continue}break}return t}var fr=(e)=>(t,r)=>async(o)=>{let{request:n}=o;if(!m.isInstance(n))return t(o);let{headers:s}=n,i=r?.userAgent?.map(J)||[],a=(await e.defaultUserAgentProvider()).map(J);await et(r,e,o);let c=r;a.push(`m/${ot(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let f=e?.customUserAgent?.map(J)||[],u=await e.userAgentAppId();if(u)a.push(J([`app/${u}`]));let R=Qe(),l=(R?[R]:[]).concat([...a,...i,...f]).join(ue),d=[...a.filter((I)=>I.startsWith("aws-sdk-")),...f].join(ue);if(e.runtime!=="browser"){if(d)s[q]=s[q]?`${s[pe]} ${d}`:d;s[pe]=l}else s[q]=l;return t({...o,request:n})},J=(e)=>{let t=e[0].split(Z).map((i)=>i.replace(tt,de)).join(Z),r=e[1]?.replace(rt,de),o=t.indexOf(Z),n=t.substring(0,o),s=t.substring(o+1);if(n==="api")s=s.toLowerCase();return[n,s,r].filter((i)=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},pr={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ks=(e)=>({applyToStack:(t)=>{t.add(fr(e),pr)}});var K=(e)=>typeof e==="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var le=(e)=>K(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var ci=(e)=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t==="string")return le(t);let o=await t();return le(o)},useFipsEndpoint:async()=>{let o=typeof t==="string"?t:await t();if(K(o))return!0;return typeof r!=="function"?Promise.resolve(!!r):r()}})};var D=(e,t,r)=>{if(!(t in e))return;if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)};var T;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(T||(T={}));var ur="AWS_USE_DUALSTACK_ENDPOINT",dr="use_dualstack_endpoint";var Ri={environmentVariableSelector:(e)=>D(e,ur,T.ENV),configFileSelector:(e)=>D(e,dr,T.CONFIG),default:!1};var lr="AWS_USE_FIPS_ENDPOINT",mr="use_fips_endpoint";var Si={environmentVariableSelector:(e)=>D(e,lr,T.ENV),configFileSelector:(e)=>D(e,mr,T.CONFIG),default:!1};var me=w(Le(),1),nt=(e)=>e[me.SMITHY_CONTEXT_KEY]||(e[me.SMITHY_CONTEXT_KEY]={});var S=(e)=>{if(typeof e==="function")return e;let t=Promise.resolve(e);return()=>t};var st={environmentVariableSelector:(e)=>e.AWS_REGION,configFileSelector:(e)=>e.region,default:()=>{throw new Error("Region is missing")}},Gi={preferredFile:"credentials"};var it="content-length";function Er(e){return(t)=>async(r)=>{let o=r.request;if(m.isInstance(o)){let{body:n,headers:s}=o;if(n&&Object.keys(s).map((i)=>i.toLowerCase()).indexOf(it)===-1)try{let i=e(n);o.headers={...o.headers,[it]:String(i)}}catch(i){}}return t({...r,request:o})}}var gr={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},la=(e)=>({applyToStack:(t)=>{t.add(Er(e.bodyLengthChecker),gr)}});var at=(e,t)=>(r,o)=>async(n)=>{let{response:s}=await r(n);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){try{i.message+=`
  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.`}catch(c){if(!o.logger||o.logger?.constructor?.name==="NoOpLogger")console.warn("Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.");else o.logger?.warn?.("Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.")}if(typeof i.$responseBodyText!=="undefined"){if(i.$response)i.$response.body=i.$responseBodyText}try{if(F.isInstance(s)){let{headers:c={}}=s,f=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:Ee(/^x-[\w-]+-request-?id$/,f),extendedRequestId:Ee(/^x-[\w-]+-id-2$/,f),cfId:Ee(/^x-[\w-]+-cf-id$/,f)}}}catch(c){}}throw i}},Ee=(e,t)=>{return(t.find(([r])=>{return r.match(e)})||[void 0,void 0])[1]};var ct=(e,t)=>(r,o)=>async(n)=>{let s=e,i=o.endpointV2?.url&&s.urlParser?async()=>s.urlParser(o.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(n.input,{...e,endpoint:i});return r({...n,request:a})};var xr={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ge={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ha(e,t,r){return{applyToStack:(o)=>{o.add(at(e,r),xr),o.add(ct(e,t),ge)}}}var Et=w(Ce(),1);var ft=async(e)=>{let t=e?.Bucket||"";if(typeof e.Bucket==="string")e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"));if(Ar(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else if(!Sr(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)e.ForcePathStyle=!0;if(e.DisableMultiRegionAccessPoints)e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0;return e},Rr=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,_r=/(\d+\.){3}\d+/,hr=/\.\./;var Sr=(e)=>Rr.test(e)&&!_r.test(e)&&!hr.test(e),Ar=(e)=>{let[t,r,o,,,n]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=Boolean(s&&r&&o&&n);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i};var pt=(e,t,r)=>{let o=async()=>{let n=r[e]??r[t];if(typeof n==="function")return n();return n};if(e==="credentialScope"||t==="CredentialScope")return async()=>{let n=typeof r.credentials==="function"?await r.credentials():r.credentials;return n?.credentialScope??n?.CredentialScope};if(e==="accountId"||t==="AccountId")return async()=>{let n=typeof r.credentials==="function"?await r.credentials():r.credentials;return n?.accountId??n?.AccountId};if(e==="endpoint"||t==="endpoint")return async()=>{let n=await o();if(n&&typeof n==="object"){if("url"in n)return n.url.href;if("hostname"in n){let{protocol:s,hostname:i,port:a,path:c}=n;return`${s}//${i}${a?":"+a:""}${c}`}}return n};return o};var ut="AWS_ENDPOINT_URL",dt="endpoint_url",lt=(e)=>({environmentVariableSelector:(t)=>{let r=e.split(" ").map((s)=>s.toUpperCase()),o=t[[ut,...r].join("_")];if(o)return o;let n=t[ut];if(n)return n;return},configFileSelector:(t,r)=>{if(r&&t.services){let n=r[["services",t.services].join(xe)];if(n){let s=e.split(" ").map((a)=>a.toLowerCase()),i=n[[s.join("_"),dt].join(xe)];if(i)return i}}let o=t[dt];if(o)return o;return},default:void 0});var Q=async(e)=>k(lt(e??""))();var ee=(e)=>{if(typeof e==="object"){if("url"in e)return Re(e.url);return e}return Re(e)};var mt=async(e,t,r,o)=>{if(!r.endpoint){let i;if(r.serviceConfiguredEndpoint)i=await r.serviceConfiguredEndpoint();else i=await Q(r.serviceId);if(i)r.endpoint=()=>Promise.resolve(ee(i))}let n=await Tr(e,t,r);if(typeof r.endpointProvider!=="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(n,o)},Tr=async(e,t,r)=>{let o={},n=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(n))switch(i.type){case"staticContextParams":o[s]=i.value;break;case"contextParams":o[s]=e[i.name];break;case"clientContextParams":case"builtInParams":o[s]=await pt(i.name,s,r)();break;case"operationContextParams":o[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}if(Object.keys(n).length===0)Object.assign(o,r);if(String(r.serviceId).toLowerCase()==="s3")await ft(o);return o};var gt=({config:e,instructions:t})=>{return(r,o)=>async(n)=>{if(e.endpoint)Et.setFeature(o,"ENDPOINT_OVERRIDE","N");let s=await mt(n.input,{getEndpointParameterInstructions(){return t}},{...e},o);o.endpointV2=s,o.authSchemes=s.properties?.authSchemes;let i=o.authSchemes?.[0];if(i){o.signing_region=i.signingRegion,o.signing_service=i.signingName;let c=nt(o)?.selectedHttpAuthScheme?.httpAuthOption;if(c)c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties)}return r({...n})}};var wr={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ge.name},Xa=(e,t)=>({applyToStack:(r)=>{r.addRelativeTo(gt({config:e,instructions:t}),wr)}});var Ka=(e)=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:o,useFipsEndpoint:n}=e,s=r!=null?async()=>ee(await S(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:S(o??!1),useFipsEndpoint:S(n??!1)}),c=void 0;return a.serviceConfiguredEndpoint=async()=>{if(e.serviceId&&!c)c=Q(e.serviceId);return c},a};var g;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(g||(g={}));var O=3,xt=g.STANDARD;var Rt=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],_t=["TimeoutError","RequestTimeout","RequestTimeoutException"],ht=[500,502,503,504],St=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],At=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"];var Or=(e)=>e.$metadata?.clockSkewCorrected,yr=(e)=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);if(!(e&&e instanceof TypeError))return!1;return t.has(e.message)},C=(e)=>e.$metadata?.httpStatusCode===429||Rt.includes(e.name)||e.$retryable?.throttling==!0,G=(e,t=0)=>Or(e)||_t.includes(e.name)||St.includes(e?.code||"")||At.includes(e?.code||"")||ht.includes(e.$metadata?.httpStatusCode||0)||yr(e)||e.cause!==void 0&&t<=10&&G(e.cause,t+1),Tt=(e)=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;if(500<=t&&t<=599&&!G(e))return!0;return!1}return!1};class P{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??0.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??0.5,this.scaleConstant=e?.scaleConstant??0.4,this.smooth=e?.smooth??0.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1000}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(!this.enabled)return;if(this.refillTokenBucket(),e>this.currentCapacity){let t=(e-this.currentCapacity)/this.fillRate*1000;await new Promise((r)=>P.setTimeoutFn(r,t))}this.currentCapacity=this.currentCapacity-e}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),C(e)){let o=!this.enabled?this.measuredTxRate:Math.min(this.measuredTxRate,this.fillRate);this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,0.3333333333333333))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),t=Math.floor(e*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let r=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}P.setTimeoutFn=setTimeout;var y=100,V=20000,_e=500,te=500,he=5,Se=10,Ae=1,re="amz-sdk-invocation-id",oe="amz-sdk-request";var wt=()=>{let e=y;return{computeNextBackoffDelay:(o)=>{return Math.floor(Math.min(V,Math.random()*2**o*e))},setDelayBase:(o)=>{e=o}}};var Te=({retryDelay:e,retryCount:t,retryCost:r})=>{return{getRetryCount:()=>t,getRetryDelay:()=>Math.min(V,e),getRetryCost:()=>r}};class U{constructor(e){this.maxAttempts=e,this.mode=g.STANDARD,this.capacity=te,this.retryBackoffStrategy=wt(),this.maxAttemptsProvider=typeof e==="function"?e:async()=>e}async acquireInitialRetryToken(e){return Te({retryDelay:y,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let o=t.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?_e:y);let n=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,n):n,i=this.getCapacityCost(o);return this.capacity-=i,Te({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(te,this.capacity+(e.getRetryCost()??Ae))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${O}`),O}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Se:he}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class we{constructor(e,t){this.maxAttemptsProvider=e,this.mode=g.ADAPTIVE;let{rateLimiter:r}=t??{};this.rateLimiter=r??new P,this.standardRetryStrategy=new U(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}var Ot="AWS_MAX_ATTEMPTS",yt="max_attempts",zc={environmentVariableSelector:(e)=>{let t=e[Ot];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Ot} mast be a number, got "${t}"`);return r},configFileSelector:(e)=>{let t=e[yt];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${yt} mast be a number, got "${t}"`);return r},default:O},jc=(e)=>{let{retryStrategy:t,retryMode:r,maxAttempts:o}=e,n=S(o??O);return Object.assign(e,{maxAttempts:n,retryStrategy:async()=>{if(t)return t;if(await S(r)()===g.ADAPTIVE)return new we(n);return new U(n)}})},Nr="AWS_RETRY_MODE",Ir="retry_mode",Xc={environmentVariableSelector:(e)=>e[Nr],configFileSelector:(e)=>e[Ir],default:xt};var _=w(br(),1),qc=_.default.v1,Zc=_.default.v3,Nt=_.default.v4,Jc=_.default.v5,Kc=_.default.NIL,Qc=_.default.version,ef=_.default.validate,tf=_.default.stringify,rf=_.default.parse;import{Readable as Dr}from"stream";var It=(e)=>e?.body instanceof Dr||typeof ReadableStream!=="undefined"&&e?.body instanceof ReadableStream;var Oe=(e)=>{if(e instanceof Error)return e;if(e instanceof Object)return Object.assign(new Error,e);if(typeof e==="string")return new Error(e);return new Error(`AWS SDK error wrapper for ${e}`)};var Cr=(e)=>(t,r)=>async(o)=>{let n=await e.retryStrategy(),s=await e.maxAttempts();if(Pr(n)){n=n;let i=await n.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,f=0,{request:u}=o,R=m.isInstance(u);if(R)u.headers[re]=Nt();while(!0)try{if(R)u.headers[oe]=`attempt=${c+1}; max=${s}`;let{response:l,output:d}=await t(o);return n.recordSuccess(i),d.$metadata.attempts=c+1,d.$metadata.totalRetryDelay=f,{response:l,output:d}}catch(l){let d=Ur(l);if(a=Oe(l),R&&It(u))throw(r.logger instanceof bt?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await n.refreshRetryTokenForRetry(i,d)}catch(B){if(!a.$metadata)a.$metadata={};throw a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=f,a}c=i.getRetryCount();let I=i.getRetryDelay();f+=I,await new Promise((B)=>setTimeout(B,I))}}else{if(n=n,n?.mode)r.userAgent=[...r.userAgent||[],["cfg/retry-mode",n.mode]];return n.retry(t,o)}},Pr=(e)=>typeof e.acquireInitialRetryToken!=="undefined"&&typeof e.refreshRetryTokenForRetry!=="undefined"&&typeof e.recordSuccess!=="undefined",Ur=(e)=>{let t={error:e,errorType:vr(e)},r=$r(e.$response);if(r)t.retryAfterHint=r;return t},vr=(e)=>{if(C(e))return"THROTTLING";if(G(e))return"TRANSIENT";if(Tt(e))return"SERVER_ERROR";return"CLIENT_ERROR"},Mr={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Ef=(e)=>({applyToStack:(t)=>{t.add(Cr(e),Mr)}}),$r=(e)=>{if(!F.isInstance(e))return;let t=Object.keys(e.headers).find((s)=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],o=Number(r);if(!Number.isNaN(o))return new Date(o*1000);return new Date(r)};import{platform as Lr,release as Fr}from"os";import{env as Ct,versions as kr}from"process";var ye={isCrtAvailable:!1};var Dt=()=>{if(ye.isCrtAvailable)return["md/crt-avail"];return null};var op=({serviceId:e,clientVersion:t})=>{return async(r)=>{let o=[["aws-sdk-js",t],["ua","2.1"],[`os/${Lr()}`,Fr()],["lang/js"],["md/nodejs",`${kr.node}`]],n=Dt();if(n)o.push(n);if(e)o.push([`api/${e}`,t]);if(Ct.AWS_EXECUTION_ENV)o.push([`exec-env/${Ct.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...o,[`app/${s}`]]:[...o]}};var Gr="AWS_SDK_UA_APP_ID",Vr="sdk_ua_app_id",Br="sdk-ua-app-id",ap={environmentVariableSelector:(e)=>e[Gr],configFileSelector:(e)=>e[Vr]??e[Br],default:ie};var Pt=(e)=>typeof ArrayBuffer==="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";import{Buffer as Ne}from"buffer";var N=(e,t=0,r=e.byteLength-t)=>{if(!Pt(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Ne.from(e,t,r)},v=(e,t)=>{if(typeof e!=="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Ne.from(e,t):Ne.from(e)};var ne=(e)=>{let t=v(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var Ut=(e)=>{if(typeof e==="string")return ne(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array(e)};var Sp=(e)=>{if(typeof e==="string")return e;if(typeof e!=="object"||typeof e.byteOffset!=="number"||typeof e.byteLength!=="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return N(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};import{Buffer as Wr}from"buffer";import{createHash as Yr,createHmac as zr}from"crypto";class jr{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update(Ut(vt(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?zr(this.algorithmIdentifier,vt(this.secret)):Yr(this.algorithmIdentifier)}}function vt(e,t){if(Wr.isBuffer(e))return e;if(typeof e==="string")return v(e,t);if(ArrayBuffer.isView(e))return N(e.buffer,e.byteOffset,e.byteLength);return N(e)}import{fstatSync as Xr,lstatSync as Hr}from"fs";var Up=(e)=>{if(!e)return 0;if(typeof e==="string")return Buffer.byteLength(e);else if(typeof e.byteLength==="number")return e.byteLength;else if(typeof e.size==="number")return e.size;else if(typeof e.start==="number"&&typeof e.end==="number")return e.end+1-e.start;else if(typeof e.path==="string"||Buffer.isBuffer(e.path))return Hr(e.path).size;else if(typeof e.fd==="number")return Xr(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var Mt="AWS_EXECUTION_ENV",Ie="AWS_REGION",be="AWS_DEFAULT_REGION",$t="AWS_EC2_METADATA_DISABLED",Lt=["in-region","cross-region","mobile","standard","legacy"],Ft="/latest/meta-data/placement/region";var kt={environmentVariableSelector:(e)=>{return e.AWS_DEFAULTS_MODE},configFileSelector:(e)=>{return e.defaults_mode},default:"legacy"};var Yp=({region:e=k(st),defaultsMode:t=k(kt)}={})=>Gt(async()=>{let r=typeof t==="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Zr(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Lt.join(", ")}, got ${r}`)}}),Zr=async(e)=>{if(e){let t=typeof e==="function"?await e():e,r=await Jr();if(!r)return"standard";if(t===r)return"in-region";else return"cross-region"}return"standard"},Jr=async()=>{if(process.env[Mt]&&(process.env[Ie]||process.env[be]))return process.env[Ie]??process.env[be];if(!process.env[$t])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await import("./chunk-td3wp0es.js"),r=await e();return(await t({...r,path:Ft})).toString()}catch(e){}};var Hp=(e)=>{return{setRegion(t){e.region=t},region(){return e.region}}},qp=(e)=>{return{region:e.region()}};var Qr=/^[A-Za-z0-9+/]*={0,2}$/,du=(e)=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Qr.exec(e))throw new TypeError("Invalid base64 string.");let t=v(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var gu=(e)=>{let t;if(typeof e==="string")t=ne(e);else t=e;if(typeof t!=="object"||typeof t.byteOffset!=="number"||typeof t.byteLength!=="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return N(t.buffer,t.byteOffset,t.byteLength).toString("base64")};export{to as mc,ro as nc,no as oc,fo as pc,uo as qc,Qt as rc,L as sc,rr as tc,ir as uc,Ks as vc,Ri as wc,Si as xc,nt as yc,S as zc,st as Ac,Gi as Bc,ci as Cc,la as Dc,ha as Ec,Xa as Fc,Ka as Gc,xt as Hc,zc as Ic,jc as Jc,Xc as Kc,Ef as Lc,op as Mc,ap as Nc,ne as Oc,Sp as Pc,jr as Qc,Up as Rc,du as Sc,gu as Tc,Yp as Uc,Hp as Vc,qp as Wc};
