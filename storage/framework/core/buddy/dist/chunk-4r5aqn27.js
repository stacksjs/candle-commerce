import{Ed as m1,Fd as r,Gd as QW,Id as e,Jd as T1,Kd as JW,Md as UW,Od as h,Pd as g,Qd as v}from"./chunk-dwjxgeh3.js";import{Zd as d1}from"./chunk-19q2jx2t.js";import{he as N$}from"./chunk-jvc6fwyc.js";import{le as I,oe as c0}from"./chunk-2g57f3kb.js";var p1=I((f7,c1)=>{var{defineProperty:H0,getOwnPropertyDescriptor:b5,getOwnPropertyNames:h5}=Object,y5=Object.prototype.hasOwnProperty,q0=($,W)=>H0($,"name",{value:W,configurable:!0}),v5=($,W)=>{for(var Z in W)H0($,Z,{get:W[Z],enumerable:!0})},x5=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of h5(W))if(!y5.call($,Q)&&Q!==Z)H0($,Q,{get:()=>W[Q],enumerable:!(Y=b5(W,Q))||Y.enumerable})}return $},g5=($)=>x5(H0({},"__esModule",{value:!0}),$),h1={};v5(h1,{deserializerMiddleware:()=>y1,deserializerMiddlewareOption:()=>x1,getSerdePlugin:()=>u1,serializerMiddleware:()=>v1,serializerMiddlewareOption:()=>g1});c1.exports=g5(h1);var u5=r(),y1=q0(($,W)=>(Z,Y)=>async(Q)=>{let{response:G}=await Z(Q);try{let J=await W(G,$);return{response:G,output:J}}catch(J){if(Object.defineProperty(J,"$response",{value:G}),!("$metadata"in J)){try{J.message+=`
  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.`}catch(X){if(!Y.logger||Y.logger?.constructor?.name==="NoOpLogger")console.warn("Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.");else Y.logger?.warn?.("Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.")}if(typeof J.$responseBodyText!=="undefined"){if(J.$response)J.$response.body=J.$responseBodyText}try{if(u5.HttpResponse.isInstance(G)){let{headers:X={}}=G,F=Object.entries(X);J.$metadata={httpStatusCode:G.statusCode,requestId:p0(/^x-[\w-]+-request-?id$/,F),extendedRequestId:p0(/^x-[\w-]+-id-2$/,F),cfId:p0(/^x-[\w-]+-cf-id$/,F)}}}catch(X){}}throw J}},"deserializerMiddleware"),p0=q0(($,W)=>{return(W.find(([Z])=>{return Z.match($)})||[void 0,void 0])[1]},"findHeader"),v1=q0(($,W)=>(Z,Y)=>async(Q)=>{let G=$,J=Y.endpointV2?.url&&G.urlParser?async()=>G.urlParser(Y.endpointV2.url):G.endpoint;if(!J)throw new Error("No valid endpoint provider available.");let U=await W(Q.input,{...$,endpoint:J});return Z({...Q,request:U})},"serializerMiddleware"),x1={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},g1={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function u1($,W,Z){return{applyToStack:(Y)=>{Y.add(y1($,Z),x1),Y.add(v1($,W),g1)}}}q0(u1,"getSerdePlugin")});var l0=I((b7,Y8)=>{var{defineProperty:V0,getOwnPropertyDescriptor:c5,getOwnPropertyNames:p5}=Object,d5=Object.prototype.hasOwnProperty,C=($,W)=>V0($,"name",{value:W,configurable:!0}),m5=($,W)=>{for(var Z in W)V0($,Z,{get:W[Z],enumerable:!0})},l5=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of p5(W))if(!d5.call($,Q)&&Q!==Z)V0($,Q,{get:()=>W[Q],enumerable:!(Y=c5(W,Q))||Y.enumerable})}return $},s5=($)=>l5(V0({},"__esModule",{value:!0}),$),l1={};m5(l1,{DefaultIdentityProviderConfig:()=>Q9,EXPIRATION_MS:()=>W8,HttpApiKeyAuthSigner:()=>J9,HttpBearerAuthSigner:()=>U9,NoAuthSigner:()=>X9,createIsIdentityExpiredFunction:()=>$8,createPaginator:()=>t1,doesIdentityRequireRefresh:()=>Z8,getHttpAuthSchemeEndpointRuleSetPlugin:()=>o5,getHttpAuthSchemePlugin:()=>a5,getHttpSigningPlugin:()=>$9,getSmithyContext:()=>n5,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>i1,httpAuthSchemeMiddleware:()=>d0,httpAuthSchemeMiddlewareOptions:()=>o1,httpSigningMiddleware:()=>r1,httpSigningMiddlewareOptions:()=>a1,isIdentityExpired:()=>F9,memoizeIdentityProvider:()=>K9,normalizeProvider:()=>W9,requestBuilder:()=>G9.requestBuilder,setFeature:()=>e1});Y8.exports=s5(l1);var M0=d1(),n5=C(($)=>$[M0.SMITHY_CONTEXT_KEY]||($[M0.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),s1=m1(),i5=C(($,W)=>{if(!W||W.length===0)return $;let Z=[];for(let Y of W)for(let Q of $)if(Q.schemeId.split("#")[1]===Y)Z.push(Q);for(let Y of $)if(!Z.find(({schemeId:Q})=>Q===Y.schemeId))Z.push(Y);return Z},"resolveAuthOptions");function n1($){let W=new Map;for(let Z of $)W.set(Z.schemeId,Z);return W}C(n1,"convertHttpAuthSchemesToMap");var d0=C(($,W)=>(Z,Y)=>async(Q)=>{let G=$.httpAuthSchemeProvider(await W.httpAuthSchemeParametersProvider($,Y,Q.input)),J=$.authSchemePreference?await $.authSchemePreference():[],U=i5(G,J),X=n1($.httpAuthSchemes),F=s1.getSmithyContext(Y),K=[];for(let L of U){let z=X.get(L.schemeId);if(!z){K.push(`HttpAuthScheme \`${L.schemeId}\` was not enabled for this service.`);continue}let B=z.identityProvider(await W.identityProviderConfigProvider($));if(!B){K.push(`HttpAuthScheme \`${L.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:H={},signingProperties:q={}}=L.propertiesExtractor?.($,Y)||{};L.identityProperties=Object.assign(L.identityProperties||{},H),L.signingProperties=Object.assign(L.signingProperties||{},q),F.selectedHttpAuthScheme={httpAuthOption:L,identity:await B(L.identityProperties),signer:z.signer};break}if(!F.selectedHttpAuthScheme)throw new Error(K.join(`
`));return Z(Q)},"httpAuthSchemeMiddleware"),i1={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},o5=C(($,{httpAuthSchemeParametersProvider:W,identityProviderConfigProvider:Z})=>({applyToStack:(Y)=>{Y.addRelativeTo(d0($,{httpAuthSchemeParametersProvider:W,identityProviderConfigProvider:Z}),i1)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),r5=p1(),o1={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:r5.serializerMiddlewareOption.name},a5=C(($,{httpAuthSchemeParametersProvider:W,identityProviderConfigProvider:Z})=>({applyToStack:(Y)=>{Y.addRelativeTo(d0($,{httpAuthSchemeParametersProvider:W,identityProviderConfigProvider:Z}),o1)}}),"getHttpAuthSchemePlugin"),m0=r(),t5=C(($)=>(W)=>{throw W},"defaultErrorHandler"),e5=C(($,W)=>{},"defaultSuccessHandler"),r1=C(($)=>(W,Z)=>async(Y)=>{if(!m0.HttpRequest.isInstance(Y.request))return W(Y);let G=s1.getSmithyContext(Z).selectedHttpAuthScheme;if(!G)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:J={}},identity:U,signer:X}=G,F=await W({...Y,request:await X.sign(Y.request,U,J)}).catch((X.errorHandler||t5)(J));return(X.successHandler||e5)(F.response,J),F},"httpSigningMiddleware"),a1={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},$9=C(($)=>({applyToStack:(W)=>{W.addRelativeTo(r1($),a1)}}),"getHttpSigningPlugin"),W9=C(($)=>{if(typeof $==="function")return $;let W=Promise.resolve($);return()=>W},"normalizeProvider"),Z9=C(async($,W,Z,Y=(G)=>G,...Q)=>{let G=new $(Z);return G=Y(G)??G,await W.send(G,...Q)},"makePagedClientRequest");function t1($,W,Z,Y,Q){return C(async function*G(J,U,...X){let F=U,K=J.startingToken??F[Z],L=!0,z;while(L){if(F[Z]=K,Q)F[Q]=F[Q]??J.pageSize;if(J.client instanceof $)z=await Z9(W,J.client,U,J.withCommand,...X);else throw new Error(`Invalid client, expected instance of ${$.name}`);yield z;let B=K;K=Y9(z,Y),L=!!(K&&(!J.stopOnSameToken||K!==B))}return},"paginateOperation")}C(t1,"createPaginator");var Y9=C(($,W)=>{let Z=$,Y=W.split(".");for(let Q of Y){if(!Z||typeof Z!=="object")return;Z=Z[Q]}return Z},"get"),G9=v();function e1($,W,Z){if(!$.__smithy_context)$.__smithy_context={features:{}};else if(!$.__smithy_context.features)$.__smithy_context.features={};$.__smithy_context.features[W]=Z}C(e1,"setFeature");var Q9=class{constructor($){this.authSchemes=new Map;for(let[W,Z]of Object.entries($))if(Z!==void 0)this.authSchemes.set(W,Z)}static{C(this,"DefaultIdentityProviderConfig")}getIdentityProvider($){return this.authSchemes.get($)}},J9=class{static{C(this,"HttpApiKeyAuthSigner")}async sign($,W,Z){if(!Z)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!Z.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!Z.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!W.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let Y=m0.HttpRequest.clone($);if(Z.in===M0.HttpApiKeyAuthLocation.QUERY)Y.query[Z.name]=W.apiKey;else if(Z.in===M0.HttpApiKeyAuthLocation.HEADER)Y.headers[Z.name]=Z.scheme?`${Z.scheme} ${W.apiKey}`:W.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+Z.in+"`");return Y}},U9=class{static{C(this,"HttpBearerAuthSigner")}async sign($,W,Z){let Y=m0.HttpRequest.clone($);if(!W.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return Y.headers.Authorization=`Bearer ${W.token}`,Y}},X9=class{static{C(this,"NoAuthSigner")}async sign($,W,Z){return $}},$8=C(($)=>(W)=>Z8(W)&&W.expiration.getTime()-Date.now()<$,"createIsIdentityExpiredFunction"),W8=300000,F9=$8(W8),Z8=C(($)=>$.expiration!==void 0,"doesIdentityRequireRefresh"),K9=C(($,W,Z)=>{if($===void 0)return;let Y=typeof $!=="function"?async()=>Promise.resolve($):$,Q,G,J,U=!1,X=C(async(F)=>{if(!G)G=Y(F);try{Q=await G,J=!0,U=!1}finally{G=void 0}return Q},"coalesceProvider");if(W===void 0)return async(F)=>{if(!J||F?.forceRefresh)Q=await X(F);return Q};return async(F)=>{if(!J||F?.forceRefresh)Q=await X(F);if(U)return Q;if(!Z(Q))return U=!0,Q;if(W(Q))return await X(F),Q;return Q}},"memoizeIdentityProvider")});var X8=I((g7,U8)=>{var{defineProperty:w0,getOwnPropertyDescriptor:L9,getOwnPropertyNames:z9}=Object,B9=Object.prototype.hasOwnProperty,_=($,W)=>w0($,"name",{value:W,configurable:!0}),H9=($,W)=>{for(var Z in W)w0($,Z,{get:W[Z],enumerable:!0})},q9=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of z9(W))if(!B9.call($,Q)&&Q!==Z)w0($,Q,{get:()=>W[Q],enumerable:!(Y=L9(W,Q))||Y.enumerable})}return $},M9=($)=>q9(w0({},"__esModule",{value:!0}),$),J8={};H9(J8,{constructStack:()=>s0});U8.exports=M9(J8);var d=_(($,W)=>{let Z=[];if($)Z.push($);if(W)for(let Y of W)Z.push(Y);return Z},"getAllAliases"),x=_(($,W)=>{return`${$||"anonymous"}${W&&W.length>0?` (a.k.a. ${W.join(",")})`:""}`},"getMiddlewareNameWithAliases"),s0=_(()=>{let $=[],W=[],Z=!1,Y=new Set,Q=_((L)=>L.sort((z,B)=>G8[B.step]-G8[z.step]||Q8[B.priority||"normal"]-Q8[z.priority||"normal"]),"sort"),G=_((L)=>{let z=!1,B=_((H)=>{let q=d(H.name,H.aliases);if(q.includes(L)){z=!0;for(let M of q)Y.delete(M);return!1}return!0},"filterCb");return $=$.filter(B),W=W.filter(B),z},"removeByName"),J=_((L)=>{let z=!1,B=_((H)=>{if(H.middleware===L){z=!0;for(let q of d(H.name,H.aliases))Y.delete(q);return!1}return!0},"filterCb");return $=$.filter(B),W=W.filter(B),z},"removeByReference"),U=_((L)=>{return $.forEach((z)=>{L.add(z.middleware,{...z})}),W.forEach((z)=>{L.addRelativeTo(z.middleware,{...z})}),L.identifyOnResolve?.(K.identifyOnResolve()),L},"cloneTo"),X=_((L)=>{let z=[];return L.before.forEach((B)=>{if(B.before.length===0&&B.after.length===0)z.push(B);else z.push(...X(B))}),z.push(L),L.after.reverse().forEach((B)=>{if(B.before.length===0&&B.after.length===0)z.push(B);else z.push(...X(B))}),z},"expandRelativeMiddlewareList"),F=_((L=!1)=>{let z=[],B=[],H={};return $.forEach((M)=>{let w={...M,before:[],after:[]};for(let V of d(w.name,w.aliases))H[V]=w;z.push(w)}),W.forEach((M)=>{let w={...M,before:[],after:[]};for(let V of d(w.name,w.aliases))H[V]=w;B.push(w)}),B.forEach((M)=>{if(M.toMiddleware){let w=H[M.toMiddleware];if(w===void 0){if(L)return;throw new Error(`${M.toMiddleware} is not found when adding ${x(M.name,M.aliases)} middleware ${M.relation} ${M.toMiddleware}`)}if(M.relation==="after")w.after.push(M);if(M.relation==="before")w.before.push(M)}}),Q(z).map(X).reduce((M,w)=>{return M.push(...w),M},[])},"getMiddlewareList"),K={add:(L,z={})=>{let{name:B,override:H,aliases:q}=z,M={step:"initialize",priority:"normal",middleware:L,...z},w=d(B,q);if(w.length>0){if(w.some((V)=>Y.has(V))){if(!H)throw new Error(`Duplicate middleware name '${x(B,q)}'`);for(let V of w){let A=$.findIndex((k)=>k.name===V||k.aliases?.some((D)=>D===V));if(A===-1)continue;let O=$[A];if(O.step!==M.step||M.priority!==O.priority)throw new Error(`"${x(O.name,O.aliases)}" middleware with ${O.priority} priority in ${O.step} step cannot be overridden by "${x(B,q)}" middleware with ${M.priority} priority in ${M.step} step.`);$.splice(A,1)}}for(let V of w)Y.add(V)}$.push(M)},addRelativeTo:(L,z)=>{let{name:B,override:H,aliases:q}=z,M={middleware:L,...z},w=d(B,q);if(w.length>0){if(w.some((V)=>Y.has(V))){if(!H)throw new Error(`Duplicate middleware name '${x(B,q)}'`);for(let V of w){let A=W.findIndex((k)=>k.name===V||k.aliases?.some((D)=>D===V));if(A===-1)continue;let O=W[A];if(O.toMiddleware!==M.toMiddleware||O.relation!==M.relation)throw new Error(`"${x(O.name,O.aliases)}" middleware ${O.relation} "${O.toMiddleware}" middleware cannot be overridden by "${x(B,q)}" middleware ${M.relation} "${M.toMiddleware}" middleware.`);W.splice(A,1)}}for(let V of w)Y.add(V)}W.push(M)},clone:()=>U(s0()),use:(L)=>{L.applyToStack(K)},remove:(L)=>{if(typeof L==="string")return G(L);else return J(L)},removeByTag:(L)=>{let z=!1,B=_((H)=>{let{tags:q,name:M,aliases:w}=H;if(q&&q.includes(L)){let V=d(M,w);for(let A of V)Y.delete(A);return z=!0,!1}return!0},"filterCb");return $=$.filter(B),W=W.filter(B),z},concat:(L)=>{let z=U(s0());return z.use(L),z.identifyOnResolve(Z||z.identifyOnResolve()||(L.identifyOnResolve?.()??!1)),z},applyToStack:U,identify:()=>{return F(!0).map((L)=>{let z=L.step??L.relation+" "+L.toMiddleware;return x(L.name,L.aliases)+" - "+z})},identifyOnResolve(L){if(typeof L==="boolean")Z=L;return Z},resolve:(L,z)=>{for(let B of F().map((H)=>H.middleware).reverse())L=B(L,z);if(Z)console.log(K.identify());return L}};return K},"constructStack"),G8={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Q8={high:3,normal:2,low:1}});var m=I((u7,e0)=>{var{defineProperty:I0,getOwnPropertyDescriptor:V9,getOwnPropertyNames:w9}=Object,I9=Object.prototype.hasOwnProperty,T=($,W)=>I0($,"name",{value:W,configurable:!0}),A9=($,W)=>{for(var Z in W)I0($,Z,{get:W[Z],enumerable:!0})},i0=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of w9(W))if(!I9.call($,Q)&&Q!==Z)I0($,Q,{get:()=>W[Q],enumerable:!(Y=V9(W,Q))||Y.enumerable})}return $},R9=($,W,Z)=>(i0($,W,"default"),Z&&i0(Z,W,"default")),T9=($)=>i0(I0({},"__esModule",{value:!0}),$),a0={};A9(a0,{Client:()=>O9,Command:()=>L8,NoOpLogger:()=>u9,SENSITIVE_STRING:()=>P9,ServiceException:()=>k9,_json:()=>r0,collectBody:()=>n0.collectBody,convertMap:()=>c9,createAggregatedClient:()=>E9,decorateServiceException:()=>z8,emitWarningIfUnsupportedVersion:()=>D9,extendedEncodeURIComponent:()=>n0.extendedEncodeURIComponent,getArrayIfSingleItem:()=>x9,getDefaultClientConfiguration:()=>y9,getDefaultExtensionConfiguration:()=>H8,getValueFromTextNode:()=>q8,isSerializableHeaderValue:()=>g9,loadConfigsForDefaultMode:()=>N9,map:()=>t0,resolveDefaultRuntimeConfig:()=>v9,resolvedPath:()=>n0.resolvedPath,serializeDateTime:()=>n9,serializeFloat:()=>s9,take:()=>p9,throwDefaultError:()=>B8,withBaseException:()=>j9});e0.exports=T9(a0);var K8=X8(),O9=class{constructor($){this.config=$,this.middlewareStack=K8.constructStack()}static{T(this,"Client")}send($,W,Z){let Y=typeof W!=="function"?W:void 0,Q=typeof W==="function"?W:Z,G=Y===void 0&&this.config.cacheMiddleware===!0,J;if(G){if(!this.handlers)this.handlers=new WeakMap;let U=this.handlers;if(U.has($.constructor))J=U.get($.constructor);else J=$.resolveMiddleware(this.middlewareStack,this.config,Y),U.set($.constructor,J)}else delete this.handlers,J=$.resolveMiddleware(this.middlewareStack,this.config,Y);if(Q)J($).then((U)=>Q(null,U.output),(U)=>Q(U)).catch(()=>{});else return J($).then((U)=>U.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},n0=v(),o0=d1(),L8=class{constructor(){this.middlewareStack=K8.constructStack()}static{T(this,"Command")}static classBuilder(){return new C9}resolveMiddlewareWithContext($,W,Z,{middlewareFn:Y,clientName:Q,commandName:G,inputFilterSensitiveLog:J,outputFilterSensitiveLog:U,smithyContext:X,additionalContext:F,CommandCtor:K}){for(let q of Y.bind(this)(K,$,W,Z))this.middlewareStack.use(q);let L=$.concat(this.middlewareStack),{logger:z}=W,B={logger:z,clientName:Q,commandName:G,inputFilterSensitiveLog:J,outputFilterSensitiveLog:U,[o0.SMITHY_CONTEXT_KEY]:{commandInstance:this,...X},...F},{requestHandler:H}=W;return L.resolve((q)=>H.handle(q.request,Z||{}),B)}},C9=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=($)=>$,this._outputFilterSensitiveLog=($)=>$,this._serializer=null,this._deserializer=null}static{T(this,"ClassBuilder")}init($){this._init=$}ep($){return this._ep=$,this}m($){return this._middlewareFn=$,this}s($,W,Z={}){return this._smithyContext={service:$,operation:W,...Z},this}c($={}){return this._additionalContext=$,this}n($,W){return this._clientName=$,this._commandName=W,this}f($=(Z)=>Z,W=(Z)=>Z){return this._inputFilterSensitiveLog=$,this._outputFilterSensitiveLog=W,this}ser($){return this._serializer=$,this}de($){return this._deserializer=$,this}sc($){return this._operationSchema=$,this._smithyContext.operationSchema=$,this}build(){let $=this,W;return W=class extends L8{constructor(...[Z]){super();this.serialize=$._serializer,this.deserialize=$._deserializer,this.input=Z??{},$._init(this),this.schema=$._operationSchema}static{T(this,"CommandRef")}static getEndpointParameterInstructions(){return $._ep}resolveMiddleware(Z,Y,Q){return this.resolveMiddlewareWithContext(Z,Y,Q,{CommandCtor:W,middlewareFn:$._middlewareFn,clientName:$._clientName,commandName:$._commandName,inputFilterSensitiveLog:$._inputFilterSensitiveLog,outputFilterSensitiveLog:$._outputFilterSensitiveLog,smithyContext:$._smithyContext,additionalContext:$._additionalContext})}}}},P9="***SensitiveInformation***",E9=T(($,W)=>{for(let Z of Object.keys($)){let Y=$[Z],Q=T(async function(J,U,X){let F=new Y(J);if(typeof U==="function")this.send(F,U);else if(typeof X==="function"){if(typeof U!=="object")throw new Error(`Expected http options but got ${typeof U}`);this.send(F,U||{},X)}else return this.send(F,U)},"methodImpl"),G=(Z[0].toLowerCase()+Z.slice(1)).replace(/Command$/,"");W.prototype[G]=Q}},"createAggregatedClient"),k9=class $ extends Error{static{T(this,"ServiceException")}constructor(W){super(W.message);Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=W.name,this.$fault=W.$fault,this.$metadata=W.$metadata}static isInstance(W){if(!W)return!1;let Z=W;return $.prototype.isPrototypeOf(Z)||Boolean(Z.$fault)&&Boolean(Z.$metadata)&&(Z.$fault==="client"||Z.$fault==="server")}static[Symbol.hasInstance](W){if(!W)return!1;let Z=W;if(this===$)return $.isInstance(W);if($.isInstance(W)){if(Z.name&&this.name)return this.prototype.isPrototypeOf(W)||Z.name===this.name;return this.prototype.isPrototypeOf(W)}return!1}},z8=T(($,W={})=>{Object.entries(W).filter(([,Y])=>Y!==void 0).forEach(([Y,Q])=>{if($[Y]==null||$[Y]==="")$[Y]=Q});let Z=$.message||$.Message||"UnknownError";return $.message=Z,delete $.Message,$},"decorateServiceException"),B8=T(({output:$,parsedBody:W,exceptionCtor:Z,errorCode:Y})=>{let Q=S9($),G=Q.httpStatusCode?Q.httpStatusCode+"":void 0,J=new Z({name:W?.code||W?.Code||Y||G||"UnknownError",$fault:"client",$metadata:Q});throw z8(J,W)},"throwDefaultError"),j9=T(($)=>{return({output:W,parsedBody:Z,errorCode:Y})=>{B8({output:W,parsedBody:Z,exceptionCtor:$,errorCode:Y})}},"withBaseException"),S9=T(($)=>({httpStatusCode:$.statusCode,requestId:$.headers["x-amzn-requestid"]??$.headers["x-amzn-request-id"]??$.headers["x-amz-request-id"],extendedRequestId:$.headers["x-amz-id-2"],cfId:$.headers["x-amz-cf-id"]}),"deserializeMetadata"),N9=T(($)=>{switch($){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:30000};default:return{}}},"loadConfigsForDefaultMode"),F8=!1,D9=T(($)=>{if($&&!F8&&parseInt($.substring(1,$.indexOf(".")))<16)F8=!0},"emitWarningIfUnsupportedVersion"),_9=T(($)=>{let W=[];for(let Z in o0.AlgorithmId){let Y=o0.AlgorithmId[Z];if($[Y]===void 0)continue;W.push({algorithmId:()=>Y,checksumConstructor:()=>$[Y]})}return{addChecksumAlgorithm(Z){W.push(Z)},checksumAlgorithms(){return W}}},"getChecksumConfiguration"),f9=T(($)=>{let W={};return $.checksumAlgorithms().forEach((Z)=>{W[Z.algorithmId()]=Z.checksumConstructor()}),W},"resolveChecksumRuntimeConfig"),b9=T(($)=>{return{setRetryStrategy(W){$.retryStrategy=W},retryStrategy(){return $.retryStrategy}}},"getRetryConfiguration"),h9=T(($)=>{let W={};return W.retryStrategy=$.retryStrategy(),W},"resolveRetryRuntimeConfig"),H8=T(($)=>{return Object.assign(_9($),b9($))},"getDefaultExtensionConfiguration"),y9=H8,v9=T(($)=>{return Object.assign(f9($),h9($))},"resolveDefaultRuntimeConfig"),x9=T(($)=>Array.isArray($)?$:[$],"getArrayIfSingleItem"),q8=T(($)=>{for(let Z in $)if($.hasOwnProperty(Z)&&$[Z]["#text"]!==void 0)$[Z]=$[Z]["#text"];else if(typeof $[Z]==="object"&&$[Z]!==null)$[Z]=q8($[Z]);return $},"getValueFromTextNode"),g9=T(($)=>{return $!=null},"isSerializableHeaderValue"),u9=class{static{T(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function t0($,W,Z){let Y,Q,G;if(typeof W==="undefined"&&typeof Z==="undefined")Y={},G=$;else if(Y=$,typeof W==="function")return Q=W,G=Z,d9(Y,Q,G);else G=W;for(let J of Object.keys(G)){if(!Array.isArray(G[J])){Y[J]=G[J];continue}M8(Y,null,G,J)}return Y}T(t0,"map");var c9=T(($)=>{let W={};for(let[Z,Y]of Object.entries($||{}))W[Z]=[,Y];return W},"convertMap"),p9=T(($,W)=>{let Z={};for(let Y in W)M8(Z,$,W,Y);return Z},"take"),d9=T(($,W,Z)=>{return t0($,Object.entries(Z).reduce((Y,[Q,G])=>{if(Array.isArray(G))Y[Q]=G;else if(typeof G==="function")Y[Q]=[W,G()];else Y[Q]=[W,G];return Y},{}))},"mapWithFilter"),M8=T(($,W,Z,Y)=>{if(W!==null){let J=Z[Y];if(typeof J==="function")J=[,J];let[U=m9,X=l9,F=Y]=J;if(typeof U==="function"&&U(W[F])||typeof U!=="function"&&!!U)$[Y]=X(W[F]);return}let[Q,G]=Z[Y];if(typeof G==="function"){let J,U=Q===void 0&&(J=G())!=null,X=typeof Q==="function"&&!!Q(void 0)||typeof Q!=="function"&&!!Q;if(U)$[Y]=J;else if(X)$[Y]=G()}else{let J=Q===void 0&&G!=null,U=typeof Q==="function"&&!!Q(G)||typeof Q!=="function"&&!!Q;if(J||U)$[Y]=G}},"applyInstruction"),m9=T(($)=>$!=null,"nonNullish"),l9=T(($)=>$,"pass"),s9=T(($)=>{if($!==$)return"NaN";switch($){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return $}},"serializeFloat"),n9=T(($)=>$.toISOString().replace(".000Z","Z"),"serializeDateTime"),r0=T(($)=>{if($==null)return{};if(Array.isArray($))return $.filter((W)=>W!=null).map(r0);if(typeof $==="object"){let W={};for(let Z of Object.keys($)){if($[Z]==null)continue;W[Z]=r0($[Z])}return W}return $},"_json");R9(a0,g(),e0.exports)});var l8=I((s7,T0)=>{var V8,w8,I8,A8,R8,T8,O8,C8,P8,E8,k8,j8,S8,A0,$1,N8,D8,_8,a,f8,b8,h8,y8,v8,x8,g8,u8,c8,R0,p8,d8,m8;(function($){var W=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd)define("tslib",["exports"],function(Y){$(Z(W,Z(Y)))});else if(typeof T0==="object"&&typeof s7==="object")$(Z(W,Z(s7)));else $(Z(W));function Z(Y,Q){if(Y!==W)if(typeof Object.create==="function")Object.defineProperty(Y,"__esModule",{value:!0});else Y.__esModule=!0;return function(G,J){return Y[G]=Q?Q(G,J):J}}})(function($){var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,J){G.__proto__=J}||function(G,J){for(var U in J)if(Object.prototype.hasOwnProperty.call(J,U))G[U]=J[U]};V8=function(G,J){if(typeof J!=="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");W(G,J);function U(){this.constructor=G}G.prototype=J===null?Object.create(J):(U.prototype=J.prototype,new U)},w8=Object.assign||function(G){for(var J,U=1,X=arguments.length;U<X;U++){J=arguments[U];for(var F in J)if(Object.prototype.hasOwnProperty.call(J,F))G[F]=J[F]}return G},I8=function(G,J){var U={};for(var X in G)if(Object.prototype.hasOwnProperty.call(G,X)&&J.indexOf(X)<0)U[X]=G[X];if(G!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var F=0,X=Object.getOwnPropertySymbols(G);F<X.length;F++)if(J.indexOf(X[F])<0&&Object.prototype.propertyIsEnumerable.call(G,X[F]))U[X[F]]=G[X[F]]}return U},A8=function(G,J,U,X){var F=arguments.length,K=F<3?J:X===null?X=Object.getOwnPropertyDescriptor(J,U):X,L;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")K=Reflect.decorate(G,J,U,X);else for(var z=G.length-1;z>=0;z--)if(L=G[z])K=(F<3?L(K):F>3?L(J,U,K):L(J,U))||K;return F>3&&K&&Object.defineProperty(J,U,K),K},R8=function(G,J){return function(U,X){J(U,X,G)}},T8=function(G,J,U,X,F,K){function L(D){if(D!==void 0&&typeof D!=="function")throw new TypeError("Function expected");return D}var z=X.kind,B=z==="getter"?"get":z==="setter"?"set":"value",H=!J&&G?X.static?G:G.prototype:null,q=J||(H?Object.getOwnPropertyDescriptor(H,X.name):{}),M,w=!1;for(var V=U.length-1;V>=0;V--){var A={};for(var O in X)A[O]=O==="access"?{}:X[O];for(var O in X.access)A.access[O]=X.access[O];A.addInitializer=function(D){if(w)throw new TypeError("Cannot add initializers after decoration has completed");K.push(L(D||null))};var k=U[V](z==="accessor"?{get:q.get,set:q.set}:q[B],A);if(z==="accessor"){if(k===void 0)continue;if(k===null||typeof k!=="object")throw new TypeError("Object expected");if(M=L(k.get))q.get=M;if(M=L(k.set))q.set=M;if(M=L(k.init))F.unshift(M)}else if(M=L(k))if(z==="field")F.unshift(M);else q[B]=M}if(H)Object.defineProperty(H,X.name,q);w=!0},O8=function(G,J,U){var X=arguments.length>2;for(var F=0;F<J.length;F++)U=X?J[F].call(G,U):J[F].call(G);return X?U:void 0},C8=function(G){return typeof G==="symbol"?G:"".concat(G)},P8=function(G,J,U){if(typeof J==="symbol")J=J.description?"[".concat(J.description,"]"):"";return Object.defineProperty(G,"name",{configurable:!0,value:U?"".concat(U," ",J):J})},E8=function(G,J){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(G,J)},k8=function(G,J,U,X){function F(K){return K instanceof U?K:new U(function(L){L(K)})}return new(U||(U=Promise))(function(K,L){function z(q){try{H(X.next(q))}catch(M){L(M)}}function B(q){try{H(X.throw(q))}catch(M){L(M)}}function H(q){q.done?K(q.value):F(q.value).then(z,B)}H((X=X.apply(G,J||[])).next())})},j8=function(G,J){var U={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},X,F,K,L=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return L.next=z(0),L.throw=z(1),L.return=z(2),typeof Symbol==="function"&&(L[Symbol.iterator]=function(){return this}),L;function z(H){return function(q){return B([H,q])}}function B(H){if(X)throw new TypeError("Generator is already executing.");while(L&&(L=0,H[0]&&(U=0)),U)try{if(X=1,F&&(K=H[0]&2?F.return:H[0]?F.throw||((K=F.return)&&K.call(F),0):F.next)&&!(K=K.call(F,H[1])).done)return K;if(F=0,K)H=[H[0]&2,K.value];switch(H[0]){case 0:case 1:K=H;break;case 4:return U.label++,{value:H[1],done:!1};case 5:U.label++,F=H[1],H=[0];continue;case 7:H=U.ops.pop(),U.trys.pop();continue;default:if((K=U.trys,!(K=K.length>0&&K[K.length-1]))&&(H[0]===6||H[0]===2)){U=0;continue}if(H[0]===3&&(!K||H[1]>K[0]&&H[1]<K[3])){U.label=H[1];break}if(H[0]===6&&U.label<K[1]){U.label=K[1],K=H;break}if(K&&U.label<K[2]){U.label=K[2],U.ops.push(H);break}if(K[2])U.ops.pop();U.trys.pop();continue}H=J.call(G,U)}catch(q){H=[6,q],F=0}finally{X=K=0}if(H[0]&5)throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}},S8=function(G,J){for(var U in G)if(U!=="default"&&!Object.prototype.hasOwnProperty.call(J,U))R0(J,G,U)},R0=Object.create?function(G,J,U,X){if(X===void 0)X=U;var F=Object.getOwnPropertyDescriptor(J,U);if(!F||("get"in F?!J.__esModule:F.writable||F.configurable))F={enumerable:!0,get:function(){return J[U]}};Object.defineProperty(G,X,F)}:function(G,J,U,X){if(X===void 0)X=U;G[X]=J[U]},A0=function(G){var J=typeof Symbol==="function"&&Symbol.iterator,U=J&&G[J],X=0;if(U)return U.call(G);if(G&&typeof G.length==="number")return{next:function(){if(G&&X>=G.length)G=void 0;return{value:G&&G[X++],done:!G}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")},$1=function(G,J){var U=typeof Symbol==="function"&&G[Symbol.iterator];if(!U)return G;var X=U.call(G),F,K=[],L;try{while((J===void 0||J-- >0)&&!(F=X.next()).done)K.push(F.value)}catch(z){L={error:z}}finally{try{if(F&&!F.done&&(U=X.return))U.call(X)}finally{if(L)throw L.error}}return K},N8=function(){for(var G=[],J=0;J<arguments.length;J++)G=G.concat($1(arguments[J]));return G},D8=function(){for(var G=0,J=0,U=arguments.length;J<U;J++)G+=arguments[J].length;for(var X=Array(G),F=0,J=0;J<U;J++)for(var K=arguments[J],L=0,z=K.length;L<z;L++,F++)X[F]=K[L];return X},_8=function(G,J,U){if(U||arguments.length===2){for(var X=0,F=J.length,K;X<F;X++)if(K||!(X in J)){if(!K)K=Array.prototype.slice.call(J,0,X);K[X]=J[X]}}return G.concat(K||Array.prototype.slice.call(J))},a=function(G){return this instanceof a?(this.v=G,this):new a(G)},f8=function(G,J,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X=U.apply(G,J||[]),F,K=[];return F=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),z("next"),z("throw"),z("return",L),F[Symbol.asyncIterator]=function(){return this},F;function L(V){return function(A){return Promise.resolve(A).then(V,M)}}function z(V,A){if(X[V]){if(F[V]=function(O){return new Promise(function(k,D){K.push([V,O,k,D])>1||B(V,O)})},A)F[V]=A(F[V])}}function B(V,A){try{H(X[V](A))}catch(O){w(K[0][3],O)}}function H(V){V.value instanceof a?Promise.resolve(V.value.v).then(q,M):w(K[0][2],V)}function q(V){B("next",V)}function M(V){B("throw",V)}function w(V,A){if(V(A),K.shift(),K.length)B(K[0][0],K[0][1])}},b8=function(G){var J,U;return J={},X("next"),X("throw",function(F){throw F}),X("return"),J[Symbol.iterator]=function(){return this},J;function X(F,K){J[F]=G[F]?function(L){return(U=!U)?{value:a(G[F](L)),done:!1}:K?K(L):L}:K}},h8=function(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=G[Symbol.asyncIterator],U;return J?J.call(G):(G=typeof A0==="function"?A0(G):G[Symbol.iterator](),U={},X("next"),X("throw"),X("return"),U[Symbol.asyncIterator]=function(){return this},U);function X(K){U[K]=G[K]&&function(L){return new Promise(function(z,B){L=G[K](L),F(z,B,L.done,L.value)})}}function F(K,L,z,B){Promise.resolve(B).then(function(H){K({value:H,done:z})},L)}},y8=function(G,J){if(Object.defineProperty)Object.defineProperty(G,"raw",{value:J});else G.raw=J;return G};var Z=Object.create?function(G,J){Object.defineProperty(G,"default",{enumerable:!0,value:J})}:function(G,J){G.default=J},Y=function(G){return Y=Object.getOwnPropertyNames||function(J){var U=[];for(var X in J)if(Object.prototype.hasOwnProperty.call(J,X))U[U.length]=X;return U},Y(G)};v8=function(G){if(G&&G.__esModule)return G;var J={};if(G!=null){for(var U=Y(G),X=0;X<U.length;X++)if(U[X]!=="default")R0(J,G,U[X])}return Z(J,G),J},x8=function(G){return G&&G.__esModule?G:{default:G}},g8=function(G,J,U,X){if(U==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof J==="function"?G!==J||!X:!J.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return U==="m"?X:U==="a"?X.call(G):X?X.value:J.get(G)},u8=function(G,J,U,X,F){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!F)throw new TypeError("Private accessor was defined without a setter");if(typeof J==="function"?G!==J||!F:!J.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?F.call(G,U):F?F.value=U:J.set(G,U),U},c8=function(G,J){if(J===null||typeof J!=="object"&&typeof J!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof G==="function"?J===G:G.has(J)},p8=function(G,J,U){if(J!==null&&J!==void 0){if(typeof J!=="object"&&typeof J!=="function")throw new TypeError("Object expected.");var X,F;if(U){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");X=J[Symbol.asyncDispose]}if(X===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");if(X=J[Symbol.dispose],U)F=X}if(typeof X!=="function")throw new TypeError("Object not disposable.");if(F)X=function(){try{F.call(this)}catch(K){return Promise.reject(K)}};G.stack.push({value:J,dispose:X,async:U})}else if(U)G.stack.push({async:!0});return J};var Q=typeof SuppressedError==="function"?SuppressedError:function(G,J,U){var X=new Error(U);return X.name="SuppressedError",X.error=G,X.suppressed=J,X};d8=function(G){function J(K){G.error=G.hasError?new Q(K,G.error,"An error was suppressed during disposal."):K,G.hasError=!0}var U,X=0;function F(){while(U=G.stack.pop())try{if(!U.async&&X===1)return X=0,G.stack.push(U),Promise.resolve().then(F);if(U.dispose){var K=U.dispose.call(U.value);if(U.async)return X|=2,Promise.resolve(K).then(F,function(L){return J(L),F()})}else X|=1}catch(L){J(L)}if(X===1)return G.hasError?Promise.reject(G.error):Promise.resolve();if(G.hasError)throw G.error}return F()},m8=function(G,J){if(typeof G==="string"&&/^\.\.?\//.test(G))return G.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(U,X,F,K,L){return X?J?".jsx":".js":F&&(!K||!L)?U:F+K+"."+L.toLowerCase()+"js"});return G},$("__extends",V8),$("__assign",w8),$("__rest",I8),$("__decorate",A8),$("__param",R8),$("__esDecorate",T8),$("__runInitializers",O8),$("__propKey",C8),$("__setFunctionName",P8),$("__metadata",E8),$("__awaiter",k8),$("__generator",j8),$("__exportStar",S8),$("__createBinding",R0),$("__values",A0),$("__read",$1),$("__spread",N8),$("__spreadArrays",D8),$("__spreadArray",_8),$("__await",a),$("__asyncGenerator",f8),$("__asyncDelegator",b8),$("__asyncValues",h8),$("__makeTemplateObject",y8),$("__importStar",v8),$("__importDefault",x8),$("__classPrivateFieldGet",g8),$("__classPrivateFieldSet",u8),$("__classPrivateFieldIn",c8),$("__addDisposableResource",p8),$("__disposeResources",d8),$("__rewriteRelativeImportExtension",m8)})});var i8=I((n7,n8)=>{var{defineProperty:O0,getOwnPropertyDescriptor:i9,getOwnPropertyNames:o9}=Object,r9=Object.prototype.hasOwnProperty,l=($,W)=>O0($,"name",{value:W,configurable:!0}),a9=($,W)=>{for(var Z in W)O0($,Z,{get:W[Z],enumerable:!0})},t9=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of o9(W))if(!r9.call($,Q)&&Q!==Z)O0($,Q,{get:()=>W[Q],enumerable:!(Y=i9(W,Q))||Y.enumerable})}return $},e9=($)=>t9(O0({},"__esModule",{value:!0}),$),s8={};a9(s8,{CredentialsProviderError:()=>$W,ProviderError:()=>C0,TokenProviderError:()=>WW,chain:()=>ZW,fromStatic:()=>YW,memoize:()=>GW});n8.exports=e9(s8);var C0=class $ extends Error{constructor(W,Z=!0){let Y,Q=!0;if(typeof Z==="boolean")Y=void 0,Q=Z;else if(Z!=null&&typeof Z==="object")Y=Z.logger,Q=Z.tryNextLink??!0;super(W);this.name="ProviderError",this.tryNextLink=Q,Object.setPrototypeOf(this,$.prototype),Y?.debug?.(`@smithy/property-provider ${Q?"->":"(!)"} ${W}`)}static{l(this,"ProviderError")}static from(W,Z=!0){return Object.assign(new this(W.message,Z),W)}},$W=class $ extends C0{constructor(W,Z=!0){super(W,Z);this.name="CredentialsProviderError",Object.setPrototypeOf(this,$.prototype)}static{l(this,"CredentialsProviderError")}},WW=class $ extends C0{constructor(W,Z=!0){super(W,Z);this.name="TokenProviderError",Object.setPrototypeOf(this,$.prototype)}static{l(this,"TokenProviderError")}},ZW=l((...$)=>async()=>{if($.length===0)throw new C0("No providers in chain");let W;for(let Z of $)try{return await Z()}catch(Y){if(W=Y,Y?.tryNextLink)continue;throw Y}throw W},"chain"),YW=l(($)=>()=>Promise.resolve($),"fromStatic"),GW=l(($,W,Z)=>{let Y,Q,G,J=!1,U=l(async()=>{if(!Q)Q=$();try{Y=await Q,G=!0,J=!1}finally{Q=void 0}return Y},"coalesceProvider");if(W===void 0)return async(X)=>{if(!G||X?.forceRefresh)Y=await U();return Y};return async(X)=>{if(!G||X?.forceRefresh)Y=await U();if(J)return Y;if(Z&&!Z(Y))return J=!0,Y;if(W(Y))return await U(),Y;return Y}},"memoize")});var T$=I((i7,R$)=>{var{defineProperty:D0,getOwnPropertyDescriptor:XW,getOwnPropertyNames:FW}=Object,KW=Object.prototype.hasOwnProperty,j=($,W)=>D0($,"name",{value:W,configurable:!0}),LW=($,W)=>{for(var Z in W)D0($,Z,{get:W[Z],enumerable:!0})},zW=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of FW(W))if(!KW.call($,Q)&&Q!==Z)D0($,Q,{get:()=>W[Q],enumerable:!(Y=XW(W,Q))||Y.enumerable})}return $},BW=($)=>zW(D0({},"__esModule",{value:!0}),$),e8={};LW(e8,{ALGORITHM_IDENTIFIER:()=>P0,ALGORITHM_IDENTIFIER_V4A:()=>VW,ALGORITHM_QUERY_PARAM:()=>$$,ALWAYS_UNSIGNABLE_HEADERS:()=>X$,AMZ_DATE_HEADER:()=>X1,AMZ_DATE_QUERY_PARAM:()=>G1,AUTH_HEADER:()=>U1,CREDENTIAL_QUERY_PARAM:()=>W$,DATE_HEADER:()=>G$,EVENT_ALGORITHM_IDENTIFIER:()=>L$,EXPIRES_QUERY_PARAM:()=>Y$,GENERATED_HEADERS:()=>Q$,HOST_HEADER:()=>qW,KEY_TYPE_IDENTIFIER:()=>F1,MAX_CACHE_SIZE:()=>B$,MAX_PRESIGNED_TTL:()=>H$,PROXY_HEADER_PATTERN:()=>F$,REGION_SET_PARAM:()=>HW,SEC_HEADER_PATTERN:()=>K$,SHA256_HEADER:()=>N0,SIGNATURE_HEADER:()=>J$,SIGNATURE_QUERY_PARAM:()=>Q1,SIGNED_HEADERS_QUERY_PARAM:()=>Z$,SignatureV4:()=>jW,SignatureV4Base:()=>A$,TOKEN_HEADER:()=>U$,TOKEN_QUERY_PARAM:()=>J1,UNSIGNABLE_PATTERNS:()=>MW,UNSIGNED_PAYLOAD:()=>z$,clearCredentialCache:()=>IW,createScope:()=>k0,getCanonicalHeaders:()=>W1,getCanonicalQuery:()=>I$,getPayloadHash:()=>j0,getSigningKey:()=>q$,hasHeader:()=>M$,moveHeadersToQuery:()=>w$,prepareRequest:()=>Y1,signatureV4aContainer:()=>SW});R$.exports=BW(e8);var o8=e(),$$="X-Amz-Algorithm",W$="X-Amz-Credential",G1="X-Amz-Date",Z$="X-Amz-SignedHeaders",Y$="X-Amz-Expires",Q1="X-Amz-Signature",J1="X-Amz-Security-Token",HW="X-Amz-Region-Set",U1="authorization",X1=G1.toLowerCase(),G$="date",Q$=[U1,X1,G$],J$=Q1.toLowerCase(),N0="x-amz-content-sha256",U$=J1.toLowerCase(),qW="host",X$={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},F$=/^proxy-/,K$=/^sec-/,MW=[/^proxy-/i,/^sec-/i],P0="AWS4-HMAC-SHA256",VW="AWS4-ECDSA-P256-SHA256",L$="AWS4-HMAC-SHA256-PAYLOAD",z$="UNSIGNED-PAYLOAD",B$=50,F1="aws4_request",H$=604800,u=UW(),wW=e(),t={},E0=[],k0=j(($,W,Z)=>`${$}/${W}/${Z}/${F1}`,"createScope"),q$=j(async($,W,Z,Y,Q)=>{let G=await r8($,W.secretAccessKey,W.accessKeyId),J=`${Z}:${Y}:${Q}:${u.toHex(G)}:${W.sessionToken}`;if(J in t)return t[J];E0.push(J);while(E0.length>B$)delete t[E0.shift()];let U=`AWS4${W.secretAccessKey}`;for(let X of[Z,Y,Q,F1])U=await r8($,U,X);return t[J]=U},"getSigningKey"),IW=j(()=>{E0.length=0,Object.keys(t).forEach(($)=>{delete t[$]})},"clearCredentialCache"),r8=j(($,W,Z)=>{let Y=new $(W);return Y.update(wW.toUint8Array(Z)),Y.digest()},"hmac"),W1=j(({headers:$},W,Z)=>{let Y={};for(let Q of Object.keys($).sort()){if($[Q]==null)continue;let G=Q.toLowerCase();if(G in X$||W?.has(G)||F$.test(G)||K$.test(G)){if(!Z||Z&&!Z.has(G))continue}Y[G]=$[Q].trim().replace(/\s+/g," ")}return Y},"getCanonicalHeaders"),AW=QW(),RW=e(),j0=j(async({headers:$,body:W},Z)=>{for(let Y of Object.keys($))if(Y.toLowerCase()===N0)return $[Y];if(W==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";else if(typeof W==="string"||ArrayBuffer.isView(W)||AW.isArrayBuffer(W)){let Y=new Z;return Y.update(RW.toUint8Array(W)),u.toHex(await Y.digest())}return z$},"getPayloadHash"),a8=e(),TW=class{static{j(this,"HeaderFormatter")}format($){let W=[];for(let Q of Object.keys($)){let G=a8.fromUtf8(Q);W.push(Uint8Array.from([G.byteLength]),G,this.formatHeaderValue($[Q]))}let Z=new Uint8Array(W.reduce((Q,G)=>Q+G.byteLength,0)),Y=0;for(let Q of W)Z.set(Q,Y),Y+=Q.byteLength;return Z}formatHeaderValue($){switch($.type){case"boolean":return Uint8Array.from([$.value?0:1]);case"byte":return Uint8Array.from([2,$.value]);case"short":let W=new DataView(new ArrayBuffer(3));return W.setUint8(0,3),W.setInt16(1,$.value,!1),new Uint8Array(W.buffer);case"integer":let Z=new DataView(new ArrayBuffer(5));return Z.setUint8(0,4),Z.setInt32(1,$.value,!1),new Uint8Array(Z.buffer);case"long":let Y=new Uint8Array(9);return Y[0]=5,Y.set($.value.bytes,1),Y;case"binary":let Q=new DataView(new ArrayBuffer(3+$.value.byteLength));Q.setUint8(0,6),Q.setUint16(1,$.value.byteLength,!1);let G=new Uint8Array(Q.buffer);return G.set($.value,3),G;case"string":let J=a8.fromUtf8($.value),U=new DataView(new ArrayBuffer(3+J.byteLength));U.setUint8(0,7),U.setUint16(1,J.byteLength,!1);let X=new Uint8Array(U.buffer);return X.set(J,3),X;case"timestamp":let F=new Uint8Array(9);return F[0]=8,F.set(CW.fromNumber($.value.valueOf()).bytes,1),F;case"uuid":if(!OW.test($.value))throw new Error(`Invalid UUID received: ${$.value}`);let K=new Uint8Array(17);return K[0]=9,K.set(u.fromHex($.value.replace(/\-/g,"")),1),K}}},OW=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,CW=class ${constructor(W){if(this.bytes=W,W.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{j(this,"Int64")}static fromNumber(W){if(W>9223372036854776000||W<-9223372036854776000)throw new Error(`${W} is too large (or, if negative, too small) to represent as an Int64`);let Z=new Uint8Array(8);for(let Y=7,Q=Math.abs(Math.round(W));Y>-1&&Q>0;Y--,Q/=256)Z[Y]=Q;if(W<0)Z1(Z);return new $(Z)}valueOf(){let W=this.bytes.slice(0),Z=W[0]&128;if(Z)Z1(W);return parseInt(u.toHex(W),16)*(Z?-1:1)}toString(){return String(this.valueOf())}};function Z1($){for(let W=0;W<8;W++)$[W]^=255;for(let W=7;W>-1;W--)if($[W]++,$[W]!==0)break}j(Z1,"negate");var M$=j(($,W)=>{$=$.toLowerCase();for(let Z of Object.keys(W))if($===Z.toLowerCase())return!0;return!1},"hasHeader"),V$=r(),w$=j(($,W={})=>{let{headers:Z,query:Y={}}=V$.HttpRequest.clone($);for(let Q of Object.keys(Z)){let G=Q.toLowerCase();if(G.slice(0,6)==="x-amz-"&&!W.unhoistableHeaders?.has(G)||W.hoistableHeaders?.has(G))Y[Q]=Z[Q],delete Z[Q]}return{...$,headers:Z,query:Y}},"moveHeadersToQuery"),Y1=j(($)=>{$=V$.HttpRequest.clone($);for(let W of Object.keys($.headers))if(Q$.indexOf(W.toLowerCase())>-1)delete $.headers[W];return $},"prepareRequest"),t8=m1(),PW=e(),S0=JW(),I$=j(({query:$={}})=>{let W=[],Z={};for(let Y of Object.keys($)){if(Y.toLowerCase()===J$)continue;let Q=S0.escapeUri(Y);W.push(Q);let G=$[Y];if(typeof G==="string")Z[Q]=`${Q}=${S0.escapeUri(G)}`;else if(Array.isArray(G))Z[Q]=G.slice(0).reduce((J,U)=>J.concat([`${Q}=${S0.escapeUri(U)}`]),[]).sort().join("&")}return W.sort().map((Y)=>Z[Y]).filter((Y)=>Y).join("&")},"getCanonicalQuery"),EW=j(($)=>kW($).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),kW=j(($)=>{if(typeof $==="number")return new Date($*1000);if(typeof $==="string"){if(Number($))return new Date(Number($)*1000);return new Date($)}return $},"toDate"),A$=class{static{j(this,"SignatureV4Base")}constructor({applyChecksum:$,credentials:W,region:Z,service:Y,sha256:Q,uriEscapePath:G=!0}){this.service=Y,this.sha256=Q,this.uriEscapePath=G,this.applyChecksum=typeof $==="boolean"?$:!0,this.regionProvider=t8.normalizeProvider(Z),this.credentialProvider=t8.normalizeProvider(W)}createCanonicalRequest($,W,Z){let Y=Object.keys(W).sort();return`${$.method}
${this.getCanonicalPath($)}
${I$($)}
${Y.map((Q)=>`${Q}:${W[Q]}`).join(`
`)}

${Y.join(";")}
${Z}`}async createStringToSign($,W,Z,Y){let Q=new this.sha256;Q.update(PW.toUint8Array(Z));let G=await Q.digest();return`${Y}
${$}
${W}
${u.toHex(G)}`}getCanonicalPath({path:$}){if(this.uriEscapePath){let W=[];for(let Q of $.split("/")){if(Q?.length===0)continue;if(Q===".")continue;if(Q==="..")W.pop();else W.push(Q)}let Z=`${$?.startsWith("/")?"/":""}${W.join("/")}${W.length>0&&$?.endsWith("/")?"/":""}`;return S0.escapeUri(Z).replace(/%2F/g,"/")}return $}validateResolvedCredentials($){if(typeof $!=="object"||typeof $.accessKeyId!=="string"||typeof $.secretAccessKey!=="string")throw new Error("Resolved credential object is not valid")}formatDate($){let W=EW($).replace(/[\-:]/g,"");return{longDate:W,shortDate:W.slice(0,8)}}getCanonicalHeaderList($){return Object.keys($).sort().join(";")}},jW=class extends A${constructor({applyChecksum:$,credentials:W,region:Z,service:Y,sha256:Q,uriEscapePath:G=!0}){super({applyChecksum:$,credentials:W,region:Z,service:Y,sha256:Q,uriEscapePath:G});this.headerFormatter=new TW}static{j(this,"SignatureV4")}async presign($,W={}){let{signingDate:Z=new Date,expiresIn:Y=3600,unsignableHeaders:Q,unhoistableHeaders:G,signableHeaders:J,hoistableHeaders:U,signingRegion:X,signingService:F}=W,K=await this.credentialProvider();this.validateResolvedCredentials(K);let L=X??await this.regionProvider(),{longDate:z,shortDate:B}=this.formatDate(Z);if(Y>H$)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let H=k0(B,L,F??this.service),q=w$(Y1($),{unhoistableHeaders:G,hoistableHeaders:U});if(K.sessionToken)q.query[J1]=K.sessionToken;q.query[$$]=P0,q.query[W$]=`${K.accessKeyId}/${H}`,q.query[G1]=z,q.query[Y$]=Y.toString(10);let M=W1(q,Q,J);return q.query[Z$]=this.getCanonicalHeaderList(M),q.query[Q1]=await this.getSignature(z,H,this.getSigningKey(K,L,B,F),this.createCanonicalRequest(q,M,await j0($,this.sha256))),q}async sign($,W){if(typeof $==="string")return this.signString($,W);else if($.headers&&$.payload)return this.signEvent($,W);else if($.message)return this.signMessage($,W);else return this.signRequest($,W)}async signEvent({headers:$,payload:W},{signingDate:Z=new Date,priorSignature:Y,signingRegion:Q,signingService:G}){let J=Q??await this.regionProvider(),{shortDate:U,longDate:X}=this.formatDate(Z),F=k0(U,J,G??this.service),K=await j0({headers:{},body:W},this.sha256),L=new this.sha256;L.update($);let z=u.toHex(await L.digest()),B=[L$,X,F,Y,z,K].join(`
`);return this.signString(B,{signingDate:Z,signingRegion:J,signingService:G})}async signMessage($,{signingDate:W=new Date,signingRegion:Z,signingService:Y}){return this.signEvent({headers:this.headerFormatter.format($.message.headers),payload:$.message.body},{signingDate:W,signingRegion:Z,signingService:Y,priorSignature:$.priorSignature}).then((G)=>{return{message:$.message,signature:G}})}async signString($,{signingDate:W=new Date,signingRegion:Z,signingService:Y}={}){let Q=await this.credentialProvider();this.validateResolvedCredentials(Q);let G=Z??await this.regionProvider(),{shortDate:J}=this.formatDate(W),U=new this.sha256(await this.getSigningKey(Q,G,J,Y));return U.update(o8.toUint8Array($)),u.toHex(await U.digest())}async signRequest($,{signingDate:W=new Date,signableHeaders:Z,unsignableHeaders:Y,signingRegion:Q,signingService:G}={}){let J=await this.credentialProvider();this.validateResolvedCredentials(J);let U=Q??await this.regionProvider(),X=Y1($),{longDate:F,shortDate:K}=this.formatDate(W),L=k0(K,U,G??this.service);if(X.headers[X1]=F,J.sessionToken)X.headers[U$]=J.sessionToken;let z=await j0(X,this.sha256);if(!M$(N0,X.headers)&&this.applyChecksum)X.headers[N0]=z;let B=W1(X,Y,Z),H=await this.getSignature(F,L,this.getSigningKey(J,U,K,G),this.createCanonicalRequest(X,B,z));return X.headers[U1]=`${P0} Credential=${J.accessKeyId}/${L}, SignedHeaders=${this.getCanonicalHeaderList(B)}, Signature=${H}`,X}async getSignature($,W,Z,Y){let Q=await this.createStringToSign($,W,Y,P0),G=new this.sha256(await Z);return G.update(o8.toUint8Array(Q)),u.toHex(await G.digest())}getSigningKey($,W,Z,Y){return q$(this.sha256,$,Z,W,Y||this.service)}},SW={SignatureV4a:null}});var v$=I((t7,y$)=>{var{defineProperty:_0,getOwnPropertyDescriptor:NW,getOwnPropertyNames:DW}=Object,_W=Object.prototype.hasOwnProperty,P=($,W)=>_0($,"name",{value:W,configurable:!0}),fW=($,W)=>{for(var Z in W)_0($,Z,{get:W[Z],enumerable:!0})},bW=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of DW(W))if(!_W.call($,Q)&&Q!==Z)_0($,Q,{get:()=>W[Q],enumerable:!(Y=NW(W,Q))||Y.enumerable})}return $},hW=($)=>bW(_0({},"__esModule",{value:!0}),$),D$={};fW(D$,{AWSSDKSigV4Signer:()=>gW,AwsSdkSigV4ASigner:()=>cW,AwsSdkSigV4Signer:()=>z1,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>pW,NODE_SIGV4A_CONFIG_OPTIONS:()=>lW,getBearerTokenEnvKey:()=>_$,resolveAWSSDKSigV4Config:()=>nW,resolveAwsSdkSigV4AConfig:()=>mW,resolveAwsSdkSigV4Config:()=>f$,validateSigningProperties:()=>L1});y$.exports=hW(D$);var yW=r(),vW=r(),O$=P(($)=>vW.HttpResponse.isInstance($)?$.headers?.date??$.headers?.Date:void 0,"getDateHeader"),K1=P(($)=>new Date(Date.now()+$),"getSkewCorrectedDate"),xW=P(($,W)=>Math.abs(K1(W).getTime()-$)>=300000,"isClockSkewed"),C$=P(($,W)=>{let Z=Date.parse($);if(xW(Z,W))return Z-Date.now();return W},"getUpdatedSystemClockOffset"),G0=P(($,W)=>{if(!W)throw new Error(`Property \`${$}\` is not resolved for AWS SDK SigV4Auth`);return W},"throwSigningPropertyError"),L1=P(async($)=>{let W=G0("context",$.context),Z=G0("config",$.config),Y=W.endpointV2?.properties?.authSchemes?.[0],G=await G0("signer",Z.signer)(Y),J=$?.signingRegion,U=$?.signingRegionSet,X=$?.signingName;return{config:Z,signer:G,signingRegion:J,signingRegionSet:U,signingName:X}},"validateSigningProperties"),z1=class{static{P(this,"AwsSdkSigV4Signer")}async sign($,W,Z){if(!yW.HttpRequest.isInstance($))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let Y=await L1(Z),{config:Q,signer:G}=Y,{signingRegion:J,signingName:U}=Y,X=Z.context;if(X?.authSchemes?.length??0>1){let[K,L]=X.authSchemes;if(K?.name==="sigv4a"&&L?.name==="sigv4")J=L?.signingRegion??J,U=L?.signingName??U}return await G.sign($,{signingDate:K1(Q.systemClockOffset),signingRegion:J,signingService:U})}errorHandler($){return(W)=>{let Z=W.ServerTime??O$(W.$response);if(Z){let Y=G0("config",$.config),Q=Y.systemClockOffset;if(Y.systemClockOffset=C$(Z,Y.systemClockOffset),Y.systemClockOffset!==Q&&W.$metadata)W.$metadata.clockSkewCorrected=!0}throw W}}successHandler($,W){let Z=O$($);if(Z){let Y=G0("config",W.config);Y.systemClockOffset=C$(Z,Y.systemClockOffset)}}},gW=z1,uW=r(),cW=class extends z1{static{P(this,"AwsSdkSigV4ASigner")}async sign($,W,Z){if(!uW.HttpRequest.isInstance($))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:Y,signer:Q,signingRegion:G,signingRegionSet:J,signingName:U}=await L1(Z),F=(await Y.sigv4aSigningRegionSet?.()??J??[G]).join(",");return await Q.sign($,{signingDate:K1(Y.systemClockOffset),signingRegion:F,signingService:U})}},P$=P(($)=>typeof $==="string"&&$.length>0?$.split(",").map((W)=>W.trim()):[],"getArrayForCommaSeparatedString"),_$=P(($)=>`AWS_BEARER_TOKEN_${$.replace(/[\s-]/g,"_").toUpperCase()}`,"getBearerTokenEnvKey"),E$="AWS_AUTH_SCHEME_PREFERENCE",k$="auth_scheme_preference",pW={environmentVariableSelector:P(($,W)=>{if(W?.signingName){if(_$(W.signingName)in $)return["httpBearerAuth"]}if(!(E$ in $))return;return P$($[E$])},"environmentVariableSelector"),configFileSelector:P(($)=>{if(!(k$ in $))return;return P$($[k$])},"configFileSelector"),default:[]},dW=l0(),j$=i8(),mW=P(($)=>{return $.sigv4aSigningRegionSet=dW.normalizeProvider($.sigv4aSigningRegionSet),$},"resolveAwsSdkSigV4AConfig"),lW={environmentVariableSelector($){if($.AWS_SIGV4A_SIGNING_REGION_SET)return $.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map((W)=>W.trim());throw new j$.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector($){if($.sigv4a_signing_region_set)return($.sigv4a_signing_region_set??"").split(",").map((W)=>W.trim());throw new j$.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0},sW=N$(),s=l0(),S$=T$(),f$=P(($)=>{let W=$.credentials,Z=!!$.credentials,Y=void 0;Object.defineProperty($,"credentials",{set(F){if(F&&F!==W&&F!==Y)Z=!0;W=F;let K=b$($,{credentials:W,credentialDefaultProvider:$.credentialDefaultProvider}),L=h$($,K);if(Z&&!L.attributed)Y=P(async(z)=>L(z).then((B)=>sW.setCredentialFeature(B,"CREDENTIALS_CODE","e")),"resolvedCredentials"),Y.memoized=L.memoized,Y.configBound=L.configBound,Y.attributed=!0;else Y=L},get(){return Y},enumerable:!0,configurable:!0}),$.credentials=W;let{signingEscapePath:Q=!0,systemClockOffset:G=$.systemClockOffset||0,sha256:J}=$,U;if($.signer)U=s.normalizeProvider($.signer);else if($.regionInfoProvider)U=P(()=>s.normalizeProvider($.region)().then(async(F)=>[await $.regionInfoProvider(F,{useFipsEndpoint:await $.useFipsEndpoint(),useDualstackEndpoint:await $.useDualstackEndpoint()})||{},F]).then(([F,K])=>{let{signingRegion:L,signingService:z}=F;$.signingRegion=$.signingRegion||L||K,$.signingName=$.signingName||z||$.serviceId;let B={...$,credentials:$.credentials,region:$.signingRegion,service:$.signingName,sha256:J,uriEscapePath:Q};return new($.signerConstructor||S$.SignatureV4)(B)}),"signer");else U=P(async(F)=>{F=Object.assign({},{name:"sigv4",signingName:$.signingName||$.defaultSigningName,signingRegion:await s.normalizeProvider($.region)(),properties:{}},F);let{signingRegion:K,signingName:L}=F;$.signingRegion=$.signingRegion||K,$.signingName=$.signingName||L||$.serviceId;let z={...$,credentials:$.credentials,region:$.signingRegion,service:$.signingName,sha256:J,uriEscapePath:Q};return new($.signerConstructor||S$.SignatureV4)(z)},"signer");return Object.assign($,{systemClockOffset:G,signingEscapePath:Q,signer:U})},"resolveAwsSdkSigV4Config"),nW=f$;function b$($,{credentials:W,credentialDefaultProvider:Z}){let Y;if(W)if(!W?.memoized)Y=s.memoizeIdentityProvider(W,s.isIdentityExpired,s.doesIdentityRequireRefresh);else Y=W;else if(Z)Y=s.normalizeProvider(Z(Object.assign({},$,{parentClientConfig:$})));else Y=P(async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},"credentialsProvider");return Y.memoized=!0,Y}P(b$,"normalizeCredentialProvider");function h$($,W){if(W.configBound)return W;let Z=P(async(Y)=>W({...Y,callerClientConfig:$}),"fn");return Z.memoized=W.memoized,Z.configBound=!0,Z}P(h$,"bindCallerConfig")});var Q0=I((WY,u$)=>{var{defineProperty:f0,getOwnPropertyDescriptor:iW,getOwnPropertyNames:oW}=Object,rW=Object.prototype.hasOwnProperty,aW=($,W)=>f0($,"name",{value:W,configurable:!0}),tW=($,W)=>{for(var Z in W)f0($,Z,{get:W[Z],enumerable:!0})},eW=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of oW(W))if(!rW.call($,Q)&&Q!==Z)f0($,Q,{get:()=>W[Q],enumerable:!(Y=iW(W,Q))||Y.enumerable})}return $},$2=($)=>eW(f0({},"__esModule",{value:!0}),$),g$={};tW(g$,{calculateBodyLength:()=>W2});u$.exports=$2(g$);var x$=typeof TextEncoder=="function"?new TextEncoder:null,W2=aW(($)=>{if(typeof $==="string"){if(x$)return x$.encode($).byteLength;let W=$.length;for(let Z=W-1;Z>=0;Z--){let Y=$.charCodeAt(Z);if(Y>127&&Y<=2047)W++;else if(Y>2047&&Y<=65535)W+=2;if(Y>=56320&&Y<=57343)Z--}return W}else if(typeof $.byteLength==="number")return $.byteLength;else if(typeof $.size==="number")return $.size;throw new Error(`Body Length computation failed for ${$}`)},"calculateBodyLength")});var b0=I((J2)=>{var Z2=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",c$="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]["+Z2+"]*",Y2=new RegExp("^"+c$+"$"),G2=function($,W){let Z=[],Y=W.exec($);while(Y){let Q=[];Q.startIndex=W.lastIndex-Y[0].length;let G=Y.length;for(let J=0;J<G;J++)Q.push(Y[J]);Z.push(Q),Y=W.exec($)}return Z},Q2=function($){let W=Y2.exec($);return!(W===null||typeof W==="undefined")};J2.isExist=function($){return typeof $!=="undefined"};J2.isEmptyObject=function($){return Object.keys($).length===0};J2.merge=function($,W,Z){if(W){let Y=Object.keys(W),Q=Y.length;for(let G=0;G<Q;G++)if(Z==="strict")$[Y[G]]=[W[Y[G]]];else $[Y[G]]=W[Y[G]]}};J2.getValue=function($){if(J2.isExist($))return $;else return""};J2.isName=Q2;J2.getAllMatches=G2;J2.nameRegexp=c$});var H1=I((T2)=>{var B1=b0(),B2={allowBooleanAttributes:!1,unpairedTags:[]};T2.validate=function($,W){W=Object.assign({},B2,W);let Z=[],Y=!1,Q=!1;if($[0]==="\uFEFF")$=$.substr(1);for(let G=0;G<$.length;G++)if($[G]==="<"&&$[G+1]==="?"){if(G+=2,G=m$($,G),G.err)return G}else if($[G]==="<"){let J=G;if(G++,$[G]==="!"){G=l$($,G);continue}else{let U=!1;if($[G]==="/")U=!0,G++;let X="";for(;G<$.length&&$[G]!==">"&&$[G]!==" "&&$[G]!=="\t"&&$[G]!==`
`&&$[G]!=="\r";G++)X+=$[G];if(X=X.trim(),X[X.length-1]==="/")X=X.substring(0,X.length-1),G--;if(!R2(X)){let L;if(X.trim().length===0)L="Invalid space after '<'.";else L="Tag '"+X+"' is an invalid name.";return E("InvalidTag",L,N($,G))}let F=M2($,G);if(F===!1)return E("InvalidAttr","Attributes for '"+X+"' have open quote.",N($,G));let K=F.value;if(G=F.index,K[K.length-1]==="/"){let L=G-K.length;K=K.substring(0,K.length-1);let z=s$(K,W);if(z===!0)Y=!0;else return E(z.err.code,z.err.msg,N($,L+z.err.line))}else if(U)if(!F.tagClosed)return E("InvalidTag","Closing tag '"+X+"' doesn't have proper closing.",N($,G));else if(K.trim().length>0)return E("InvalidTag","Closing tag '"+X+"' can't have attributes or invalid starting.",N($,J));else if(Z.length===0)return E("InvalidTag","Closing tag '"+X+"' has not been opened.",N($,J));else{let L=Z.pop();if(X!==L.tagName){let z=N($,L.tagStartPos);return E("InvalidTag","Expected closing tag '"+L.tagName+"' (opened in line "+z.line+", col "+z.col+") instead of closing tag '"+X+"'.",N($,J))}if(Z.length==0)Q=!0}else{let L=s$(K,W);if(L!==!0)return E(L.err.code,L.err.msg,N($,G-K.length+L.err.line));if(Q===!0)return E("InvalidXml","Multiple possible root nodes found.",N($,G));else if(W.unpairedTags.indexOf(X)!==-1);else Z.push({tagName:X,tagStartPos:J});Y=!0}for(G++;G<$.length;G++)if($[G]==="<")if($[G+1]==="!"){G++,G=l$($,G);continue}else if($[G+1]==="?"){if(G=m$($,++G),G.err)return G}else break;else if($[G]==="&"){let L=I2($,G);if(L==-1)return E("InvalidChar","char '&' is not expected.",N($,G));G=L}else if(Q===!0&&!d$($[G]))return E("InvalidXml","Extra text at the end",N($,G));if($[G]==="<")G--}}else{if(d$($[G]))continue;return E("InvalidChar","char '"+$[G]+"' is not expected.",N($,G))}if(!Y)return E("InvalidXml","Start tag expected.",1);else if(Z.length==1)return E("InvalidTag","Unclosed tag '"+Z[0].tagName+"'.",N($,Z[0].tagStartPos));else if(Z.length>0)return E("InvalidXml","Invalid '"+JSON.stringify(Z.map((G)=>G.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1});return!0};function d$($){return $===" "||$==="\t"||$===`
`||$==="\r"}function m$($,W){let Z=W;for(;W<$.length;W++)if($[W]=="?"||$[W]==" "){let Y=$.substr(Z,W-Z);if(W>5&&Y==="xml")return E("InvalidXml","XML declaration allowed only at the start of the document.",N($,W));else if($[W]=="?"&&$[W+1]==">"){W++;break}else continue}return W}function l$($,W){if($.length>W+5&&$[W+1]==="-"&&$[W+2]==="-"){for(W+=3;W<$.length;W++)if($[W]==="-"&&$[W+1]==="-"&&$[W+2]===">"){W+=2;break}}else if($.length>W+8&&$[W+1]==="D"&&$[W+2]==="O"&&$[W+3]==="C"&&$[W+4]==="T"&&$[W+5]==="Y"&&$[W+6]==="P"&&$[W+7]==="E"){let Z=1;for(W+=8;W<$.length;W++)if($[W]==="<")Z++;else if($[W]===">"){if(Z--,Z===0)break}}else if($.length>W+9&&$[W+1]==="["&&$[W+2]==="C"&&$[W+3]==="D"&&$[W+4]==="A"&&$[W+5]==="T"&&$[W+6]==="A"&&$[W+7]==="["){for(W+=8;W<$.length;W++)if($[W]==="]"&&$[W+1]==="]"&&$[W+2]===">"){W+=2;break}}return W}var H2='"',q2="'";function M2($,W){let Z="",Y="",Q=!1;for(;W<$.length;W++){if($[W]===H2||$[W]===q2)if(Y==="")Y=$[W];else if(Y!==$[W]);else Y="";else if($[W]===">"){if(Y===""){Q=!0;break}}Z+=$[W]}if(Y!=="")return!1;return{value:Z,index:W,tagClosed:Q}}var V2=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function s$($,W){let Z=B1.getAllMatches($,V2),Y={};for(let Q=0;Q<Z.length;Q++){if(Z[Q][1].length===0)return E("InvalidAttr","Attribute '"+Z[Q][2]+"' has no space in starting.",J0(Z[Q]));else if(Z[Q][3]!==void 0&&Z[Q][4]===void 0)return E("InvalidAttr","Attribute '"+Z[Q][2]+"' is without value.",J0(Z[Q]));else if(Z[Q][3]===void 0&&!W.allowBooleanAttributes)return E("InvalidAttr","boolean attribute '"+Z[Q][2]+"' is not allowed.",J0(Z[Q]));let G=Z[Q][2];if(!A2(G))return E("InvalidAttr","Attribute '"+G+"' is an invalid name.",J0(Z[Q]));if(!Y.hasOwnProperty(G))Y[G]=1;else return E("InvalidAttr","Attribute '"+G+"' is repeated.",J0(Z[Q]))}return!0}function w2($,W){let Z=/\d/;if($[W]==="x")W++,Z=/[\da-fA-F]/;for(;W<$.length;W++){if($[W]===";")return W;if(!$[W].match(Z))break}return-1}function I2($,W){if(W++,$[W]===";")return-1;if($[W]==="#")return W++,w2($,W);let Z=0;for(;W<$.length;W++,Z++){if($[W].match(/\w/)&&Z<20)continue;if($[W]===";")break;return-1}return W}function E($,W,Z){return{err:{code:$,msg:W,line:Z.line||Z,col:Z.col}}}function A2($){return B1.isName($)}function R2($){return B1.isName($)}function N($,W){let Z=$.substring(0,W).split(/\r?\n/);return{line:Z.length,col:Z[Z.length-1].length+1}}function J0($){return $.startIndex+$[1].length}});var i$=I((P2)=>{var n$={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function($,W){return W},attributeValueProcessor:function($,W){return W},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function($,W,Z){return $}},C2=function($){return Object.assign({},n$,$)};P2.buildOptions=C2;P2.defaultOptions=n$});var a$=I((QY,r$)=>{class o${constructor($){this.tagname=$,this.child=[],this[":@"]={}}add($,W){if($==="__proto__")$="#__proto__";this.child.push({[$]:W})}addChild($){if($.tagname==="__proto__")$.tagname="#__proto__";if($[":@"]&&Object.keys($[":@"]).length>0)this.child.push({[$.tagname]:$.child,[":@"]:$[":@"]});else this.child.push({[$.tagname]:$.child})}}r$.exports=o$});var e$=I((JY,t$)=>{var j2=b0();function S2($,W){let Z={};if($[W+3]==="O"&&$[W+4]==="C"&&$[W+5]==="T"&&$[W+6]==="Y"&&$[W+7]==="P"&&$[W+8]==="E"){W=W+9;let Y=1,Q=!1,G=!1,J="";for(;W<$.length;W++)if($[W]==="<"&&!G){if(Q&&_2($,W)){if(W+=7,[entityName,val,W]=N2($,W+1),val.indexOf("&")===-1)Z[y2(entityName)]={regx:RegExp(`&${entityName};`,"g"),val}}else if(Q&&f2($,W))W+=8;else if(Q&&b2($,W))W+=8;else if(Q&&h2($,W))W+=9;else if(D2)G=!0;else throw new Error("Invalid DOCTYPE");Y++,J=""}else if($[W]===">"){if(G){if($[W-1]==="-"&&$[W-2]==="-")G=!1,Y--}else Y--;if(Y===0)break}else if($[W]==="[")Q=!0;else J+=$[W];if(Y!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:Z,i:W}}function N2($,W){let Z="";for(;W<$.length&&($[W]!=="'"&&$[W]!=='"');W++)Z+=$[W];if(Z=Z.trim(),Z.indexOf(" ")!==-1)throw new Error("External entites are not supported");let Y=$[W++],Q="";for(;W<$.length&&$[W]!==Y;W++)Q+=$[W];return[Z,Q,W]}function D2($,W){if($[W+1]==="!"&&$[W+2]==="-"&&$[W+3]==="-")return!0;return!1}function _2($,W){if($[W+1]==="!"&&$[W+2]==="E"&&$[W+3]==="N"&&$[W+4]==="T"&&$[W+5]==="I"&&$[W+6]==="T"&&$[W+7]==="Y")return!0;return!1}function f2($,W){if($[W+1]==="!"&&$[W+2]==="E"&&$[W+3]==="L"&&$[W+4]==="E"&&$[W+5]==="M"&&$[W+6]==="E"&&$[W+7]==="N"&&$[W+8]==="T")return!0;return!1}function b2($,W){if($[W+1]==="!"&&$[W+2]==="A"&&$[W+3]==="T"&&$[W+4]==="T"&&$[W+5]==="L"&&$[W+6]==="I"&&$[W+7]==="S"&&$[W+8]==="T")return!0;return!1}function h2($,W){if($[W+1]==="!"&&$[W+2]==="N"&&$[W+3]==="O"&&$[W+4]==="T"&&$[W+5]==="A"&&$[W+6]==="T"&&$[W+7]==="I"&&$[W+8]==="O"&&$[W+9]==="N")return!0;return!1}function y2($){if(j2.isName($))return $;else throw new Error(`Invalid entity name ${$}`)}t$.exports=S2});var W4=I((UY,$4)=>{var v2=/^[-+]?0x[a-fA-F0-9]+$/,x2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,g2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function u2($,W={}){if(W=Object.assign({},g2,W),!$||typeof $!=="string")return $;let Z=$.trim();if(W.skipLike!==void 0&&W.skipLike.test(Z))return $;else if($==="0")return 0;else if(W.hex&&v2.test(Z))return p2(Z,16);else if(Z.search(/[eE]/)!==-1){let Y=Z.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(Y){if(W.leadingZeros)Z=(Y[1]||"")+Y[3];else if(Y[2]==="0"&&Y[3][0]===".");else return $;return W.eNotation?Number(Z):$}else return $}else{let Y=x2.exec(Z);if(Y){let Q=Y[1],G=Y[2],J=c2(Y[3]);if(!W.leadingZeros&&G.length>0&&Q&&Z[2]!==".")return $;else if(!W.leadingZeros&&G.length>0&&!Q&&Z[1]!==".")return $;else if(W.leadingZeros&&G===$)return 0;else{let U=Number(Z),X=""+U;if(X.search(/[eE]/)!==-1)if(W.eNotation)return U;else return $;else if(Z.indexOf(".")!==-1)if(X==="0"&&J==="")return U;else if(X===J)return U;else if(Q&&X==="-"+J)return U;else return $;if(G)return J===X||Q+J===X?U:$;else return Z===X||Z===Q+X?U:$}}else return $}}function c2($){if($&&$.indexOf(".")!==-1){if($=$.replace(/0+$/,""),$===".")$="0";else if($[0]===".")$="0"+$;else if($[$.length-1]===".")$=$.substr(0,$.length-1);return $}return $}function p2($,W){if(parseInt)return parseInt($,W);else if(Number.parseInt)return Number.parseInt($,W);else if(window&&window.parseInt)return window.parseInt($,W);else throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}$4.exports=u2});var Q4=I((XY,G4)=>{var Z4=b0(),U0=a$(),d2=e$(),m2=W4();class Y4{constructor($){this.options=$,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(W,Z)=>String.fromCharCode(Number.parseInt(Z,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(W,Z)=>String.fromCharCode(Number.parseInt(Z,16))}},this.addExternalEntities=l2,this.parseXml=r2,this.parseTextData=s2,this.resolveNameSpace=n2,this.buildAttributesMap=o2,this.isItStopNode=$Z,this.replaceEntitiesValue=t2,this.readStopNodeData=ZZ,this.saveTextToParentTag=e2,this.addChild=a2}}function l2($){let W=Object.keys($);for(let Z=0;Z<W.length;Z++){let Y=W[Z];this.lastEntities[Y]={regex:new RegExp("&"+Y+";","g"),val:$[Y]}}}function s2($,W,Z,Y,Q,G,J){if($!==void 0){if(this.options.trimValues&&!Y)$=$.trim();if($.length>0){if(!J)$=this.replaceEntitiesValue($);let U=this.options.tagValueProcessor(W,$,Z,Q,G);if(U===null||U===void 0)return $;else if(typeof U!==typeof $||U!==$)return U;else if(this.options.trimValues)return M1($,this.options.parseTagValue,this.options.numberParseOptions);else if($.trim()===$)return M1($,this.options.parseTagValue,this.options.numberParseOptions);else return $}}}function n2($){if(this.options.removeNSPrefix){let W=$.split(":"),Z=$.charAt(0)==="/"?"/":"";if(W[0]==="xmlns")return"";if(W.length===2)$=Z+W[1]}return $}var i2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function o2($,W,Z){if(!this.options.ignoreAttributes&&typeof $==="string"){let Y=Z4.getAllMatches($,i2),Q=Y.length,G={};for(let J=0;J<Q;J++){let U=this.resolveNameSpace(Y[J][1]),X=Y[J][4],F=this.options.attributeNamePrefix+U;if(U.length){if(this.options.transformAttributeName)F=this.options.transformAttributeName(F);if(F==="__proto__")F="#__proto__";if(X!==void 0){if(this.options.trimValues)X=X.trim();X=this.replaceEntitiesValue(X);let K=this.options.attributeValueProcessor(U,X,W);if(K===null||K===void 0)G[F]=X;else if(typeof K!==typeof X||K!==X)G[F]=K;else G[F]=M1(X,this.options.parseAttributeValue,this.options.numberParseOptions)}else if(this.options.allowBooleanAttributes)G[F]=!0}}if(!Object.keys(G).length)return;if(this.options.attributesGroupName){let J={};return J[this.options.attributesGroupName]=G,J}return G}}var r2=function($){$=$.replace(/\r\n?/g,`
`);let W=new U0("!xml"),Z=W,Y="",Q="";for(let G=0;G<$.length;G++)if($[G]==="<")if($[G+1]==="/"){let U=n($,">",G,"Closing Tag is not closed."),X=$.substring(G+2,U).trim();if(this.options.removeNSPrefix){let L=X.indexOf(":");if(L!==-1)X=X.substr(L+1)}if(this.options.transformTagName)X=this.options.transformTagName(X);if(Z)Y=this.saveTextToParentTag(Y,Z,Q);let F=Q.substring(Q.lastIndexOf(".")+1);if(X&&this.options.unpairedTags.indexOf(X)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${X}>`);let K=0;if(F&&this.options.unpairedTags.indexOf(F)!==-1)K=Q.lastIndexOf(".",Q.lastIndexOf(".")-1),this.tagsNodeStack.pop();else K=Q.lastIndexOf(".");Q=Q.substring(0,K),Z=this.tagsNodeStack.pop(),Y="",G=U}else if($[G+1]==="?"){let U=q1($,G,!1,"?>");if(!U)throw new Error("Pi Tag is not closed.");if(Y=this.saveTextToParentTag(Y,Z,Q),this.options.ignoreDeclaration&&U.tagName==="?xml"||this.options.ignorePiTags);else{let X=new U0(U.tagName);if(X.add(this.options.textNodeName,""),U.tagName!==U.tagExp&&U.attrExpPresent)X[":@"]=this.buildAttributesMap(U.tagExp,Q,U.tagName);this.addChild(Z,X,Q)}G=U.closeIndex+1}else if($.substr(G+1,3)==="!--"){let U=n($,"-->",G+4,"Comment is not closed.");if(this.options.commentPropName){let X=$.substring(G+4,U-2);Y=this.saveTextToParentTag(Y,Z,Q),Z.add(this.options.commentPropName,[{[this.options.textNodeName]:X}])}G=U}else if($.substr(G+1,2)==="!D"){let U=d2($,G);this.docTypeEntities=U.entities,G=U.i}else if($.substr(G+1,2)==="!["){let U=n($,"]]>",G,"CDATA is not closed.")-2,X=$.substring(G+9,U);Y=this.saveTextToParentTag(Y,Z,Q);let F=this.parseTextData(X,Z.tagname,Q,!0,!1,!0,!0);if(F==null)F="";if(this.options.cdataPropName)Z.add(this.options.cdataPropName,[{[this.options.textNodeName]:X}]);else Z.add(this.options.textNodeName,F);G=U+2}else{let U=q1($,G,this.options.removeNSPrefix),X=U.tagName,F=U.rawTagName,K=U.tagExp,L=U.attrExpPresent,z=U.closeIndex;if(this.options.transformTagName)X=this.options.transformTagName(X);if(Z&&Y){if(Z.tagname!=="!xml")Y=this.saveTextToParentTag(Y,Z,Q,!1)}let B=Z;if(B&&this.options.unpairedTags.indexOf(B.tagname)!==-1)Z=this.tagsNodeStack.pop(),Q=Q.substring(0,Q.lastIndexOf("."));if(X!==W.tagname)Q+=Q?"."+X:X;if(this.isItStopNode(this.options.stopNodes,Q,X)){let H="";if(K.length>0&&K.lastIndexOf("/")===K.length-1){if(X[X.length-1]==="/")X=X.substr(0,X.length-1),Q=Q.substr(0,Q.length-1),K=X;else K=K.substr(0,K.length-1);G=U.closeIndex}else if(this.options.unpairedTags.indexOf(X)!==-1)G=U.closeIndex;else{let M=this.readStopNodeData($,F,z+1);if(!M)throw new Error(`Unexpected end of ${F}`);G=M.i,H=M.tagContent}let q=new U0(X);if(X!==K&&L)q[":@"]=this.buildAttributesMap(K,Q,X);if(H)H=this.parseTextData(H,X,Q,!0,L,!0,!0);Q=Q.substr(0,Q.lastIndexOf(".")),q.add(this.options.textNodeName,H),this.addChild(Z,q,Q)}else{if(K.length>0&&K.lastIndexOf("/")===K.length-1){if(X[X.length-1]==="/")X=X.substr(0,X.length-1),Q=Q.substr(0,Q.length-1),K=X;else K=K.substr(0,K.length-1);if(this.options.transformTagName)X=this.options.transformTagName(X);let H=new U0(X);if(X!==K&&L)H[":@"]=this.buildAttributesMap(K,Q,X);this.addChild(Z,H,Q),Q=Q.substr(0,Q.lastIndexOf("."))}else{let H=new U0(X);if(this.tagsNodeStack.push(Z),X!==K&&L)H[":@"]=this.buildAttributesMap(K,Q,X);this.addChild(Z,H,Q),Z=H}Y="",G=z}}else Y+=$[G];return W.child};function a2($,W,Z){let Y=this.options.updateTag(W.tagname,Z,W[":@"]);if(Y===!1);else if(typeof Y==="string")W.tagname=Y,$.addChild(W);else $.addChild(W)}var t2=function($){if(this.options.processEntities){for(let W in this.docTypeEntities){let Z=this.docTypeEntities[W];$=$.replace(Z.regx,Z.val)}for(let W in this.lastEntities){let Z=this.lastEntities[W];$=$.replace(Z.regex,Z.val)}if(this.options.htmlEntities)for(let W in this.htmlEntities){let Z=this.htmlEntities[W];$=$.replace(Z.regex,Z.val)}$=$.replace(this.ampEntity.regex,this.ampEntity.val)}return $};function e2($,W,Z,Y){if($){if(Y===void 0)Y=Object.keys(W.child).length===0;if($=this.parseTextData($,W.tagname,Z,!1,W[":@"]?Object.keys(W[":@"]).length!==0:!1,Y),$!==void 0&&$!=="")W.add(this.options.textNodeName,$);$=""}return $}function $Z($,W,Z){let Y="*."+Z;for(let Q in $){let G=$[Q];if(Y===G||W===G)return!0}return!1}function WZ($,W,Z=">"){let Y,Q="";for(let G=W;G<$.length;G++){let J=$[G];if(Y){if(J===Y)Y=""}else if(J==='"'||J==="'")Y=J;else if(J===Z[0])if(Z[1]){if($[G+1]===Z[1])return{data:Q,index:G}}else return{data:Q,index:G};else if(J==="\t")J=" ";Q+=J}}function n($,W,Z,Y){let Q=$.indexOf(W,Z);if(Q===-1)throw new Error(Y);else return Q+W.length-1}function q1($,W,Z,Y=">"){let Q=WZ($,W+1,Y);if(!Q)return;let{data:G,index:J}=Q,U=G.search(/\s/),X=G,F=!0;if(U!==-1)X=G.substring(0,U),G=G.substring(U+1).trimStart();let K=X;if(Z){let L=X.indexOf(":");if(L!==-1)X=X.substr(L+1),F=X!==Q.data.substr(L+1)}return{tagName:X,tagExp:G,closeIndex:J,attrExpPresent:F,rawTagName:K}}function ZZ($,W,Z){let Y=Z,Q=1;for(;Z<$.length;Z++)if($[Z]==="<")if($[Z+1]==="/"){let G=n($,">",Z,`${W} is not closed`);if($.substring(Z+2,G).trim()===W){if(Q--,Q===0)return{tagContent:$.substring(Y,Z),i:G}}Z=G}else if($[Z+1]==="?")Z=n($,"?>",Z+1,"StopNode is not closed.");else if($.substr(Z+1,3)==="!--")Z=n($,"-->",Z+3,"StopNode is not closed.");else if($.substr(Z+1,2)==="![")Z=n($,"]]>",Z,"StopNode is not closed.")-2;else{let G=q1($,Z,">");if(G){if((G&&G.tagName)===W&&G.tagExp[G.tagExp.length-1]!=="/")Q++;Z=G.closeIndex}}}function M1($,W,Z){if(W&&typeof $==="string"){let Y=$.trim();if(Y==="true")return!0;else if(Y==="false")return!1;else return m2($,Z)}else if(Z4.isExist($))return $;else return""}G4.exports=Y4});var U4=I((UZ)=>{function YZ($,W){return J4($,W)}function J4($,W,Z){let Y,Q={};for(let G=0;G<$.length;G++){let J=$[G],U=GZ(J),X="";if(Z===void 0)X=U;else X=Z+"."+U;if(U===W.textNodeName)if(Y===void 0)Y=J[U];else Y+=""+J[U];else if(U===void 0)continue;else if(J[U]){let F=J4(J[U],W,X),K=JZ(F,W);if(J[":@"])QZ(F,J[":@"],X,W);else if(Object.keys(F).length===1&&F[W.textNodeName]!==void 0&&!W.alwaysCreateTextNode)F=F[W.textNodeName];else if(Object.keys(F).length===0)if(W.alwaysCreateTextNode)F[W.textNodeName]="";else F="";if(Q[U]!==void 0&&Q.hasOwnProperty(U)){if(!Array.isArray(Q[U]))Q[U]=[Q[U]];Q[U].push(F)}else if(W.isArray(U,X,K))Q[U]=[F];else Q[U]=F}}if(typeof Y==="string"){if(Y.length>0)Q[W.textNodeName]=Y}else if(Y!==void 0)Q[W.textNodeName]=Y;return Q}function GZ($){let W=Object.keys($);for(let Z=0;Z<W.length;Z++){let Y=W[Z];if(Y!==":@")return Y}}function QZ($,W,Z,Y){if(W){let Q=Object.keys(W),G=Q.length;for(let J=0;J<G;J++){let U=Q[J];if(Y.isArray(U,Z+"."+U,!0,!0))$[U]=[W[U]];else $[U]=W[U]}}}function JZ($,W){let{textNodeName:Z}=W,Y=Object.keys($).length;if(Y===0)return!0;if(Y===1&&($[Z]||typeof $[Z]==="boolean"||$[Z]===0))return!0;return!1}UZ.prettify=YZ});var K4=I((KY,F4)=>{var{buildOptions:FZ}=i$(),KZ=Q4(),{prettify:LZ}=U4(),zZ=H1();class X4{constructor($){this.externalEntities={},this.options=FZ($)}parse($,W){if(typeof $==="string");else if($.toString)$=$.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(W){if(W===!0)W={};let Q=zZ.validate($,W);if(Q!==!0)throw Error(`${Q.err.msg}:${Q.err.line}:${Q.err.col}`)}let Z=new KZ(this.options);Z.addExternalEntities(this.externalEntities);let Y=Z.parseXml($);if(this.options.preserveOrder||Y===void 0)return Y;else return LZ(Y,this.options)}addEntity($,W){if(W.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");else if($.indexOf("&")!==-1||$.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");else if(W==="&")throw new Error("An entity with value '&' is not permitted");else this.externalEntities[$]=W}}F4.exports=X4});var q4=I((LY,H4)=>{function BZ($,W){let Z="";if(W.format&&W.indentBy.length>0)Z=`
`;return z4($,W,"",Z)}function z4($,W,Z,Y){let Q="",G=!1;for(let J=0;J<$.length;J++){let U=$[J],X=HZ(U);if(X===void 0)continue;let F="";if(Z.length===0)F=X;else F=`${Z}.${X}`;if(X===W.textNodeName){let H=U[X];if(!qZ(F,W))H=W.tagValueProcessor(X,H),H=B4(H,W);if(G)Q+=Y;Q+=H,G=!1;continue}else if(X===W.cdataPropName){if(G)Q+=Y;Q+=`<![CDATA[${U[X][0][W.textNodeName]}]]>`,G=!1;continue}else if(X===W.commentPropName){Q+=Y+`<!--${U[X][0][W.textNodeName]}-->`,G=!0;continue}else if(X[0]==="?"){let H=L4(U[":@"],W),q=X==="?xml"?"":Y,M=U[X][0][W.textNodeName];M=M.length!==0?" "+M:"",Q+=q+`<${X}${M}${H}?>`,G=!0;continue}let K=Y;if(K!=="")K+=W.indentBy;let L=L4(U[":@"],W),z=Y+`<${X}${L}`,B=z4(U[X],W,F,K);if(W.unpairedTags.indexOf(X)!==-1)if(W.suppressUnpairedNode)Q+=z+">";else Q+=z+"/>";else if((!B||B.length===0)&&W.suppressEmptyNode)Q+=z+"/>";else if(B&&B.endsWith(">"))Q+=z+`>${B}${Y}</${X}>`;else{if(Q+=z+">",B&&Y!==""&&(B.includes("/>")||B.includes("</")))Q+=Y+W.indentBy+B+Y;else Q+=B;Q+=`</${X}>`}G=!0}return Q}function HZ($){let W=Object.keys($);for(let Z=0;Z<W.length;Z++){let Y=W[Z];if(!$.hasOwnProperty(Y))continue;if(Y!==":@")return Y}}function L4($,W){let Z="";if($&&!W.ignoreAttributes)for(let Y in $){if(!$.hasOwnProperty(Y))continue;let Q=W.attributeValueProcessor(Y,$[Y]);if(Q=B4(Q,W),Q===!0&&W.suppressBooleanAttributes)Z+=` ${Y.substr(W.attributeNamePrefix.length)}`;else Z+=` ${Y.substr(W.attributeNamePrefix.length)}="${Q}"`}return Z}function qZ($,W){$=$.substr(0,$.length-W.textNodeName.length-1);let Z=$.substr($.lastIndexOf(".")+1);for(let Y in W.stopNodes)if(W.stopNodes[Y]===$||W.stopNodes[Y]==="*."+Z)return!0;return!1}function B4($,W){if($&&$.length>0&&W.processEntities)for(let Z=0;Z<W.entities.length;Z++){let Y=W.entities[Z];$=$.replace(Y.regex,Y.val)}return $}H4.exports=BZ});var V4=I((zY,M4)=>{var MZ=q4(),VZ={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function($,W){return W},attributeValueProcessor:function($,W){return W},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function c($){if(this.options=Object.assign({},VZ,$),this.options.ignoreAttributes||this.options.attributesGroupName)this.isAttribute=function(){return!1};else this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=AZ;if(this.processTextOrObjNode=wZ,this.options.format)this.indentate=IZ,this.tagEndChar=`>
`,this.newLine=`
`;else this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""}c.prototype.build=function($){if(this.options.preserveOrder)return MZ($,this.options);else{if(Array.isArray($)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1)$={[this.options.arrayNodeName]:$};return this.j2x($,0).val}};c.prototype.j2x=function($,W){let Z="",Y="";for(let Q in $){if(!Object.prototype.hasOwnProperty.call($,Q))continue;if(typeof $[Q]==="undefined"){if(this.isAttribute(Q))Y+=""}else if($[Q]===null)if(this.isAttribute(Q))Y+="";else if(Q[0]==="?")Y+=this.indentate(W)+"<"+Q+"?"+this.tagEndChar;else Y+=this.indentate(W)+"<"+Q+"/"+this.tagEndChar;else if($[Q]instanceof Date)Y+=this.buildTextValNode($[Q],Q,"",W);else if(typeof $[Q]!=="object"){let G=this.isAttribute(Q);if(G)Z+=this.buildAttrPairStr(G,""+$[Q]);else if(Q===this.options.textNodeName){let J=this.options.tagValueProcessor(Q,""+$[Q]);Y+=this.replaceEntitiesValue(J)}else Y+=this.buildTextValNode($[Q],Q,"",W)}else if(Array.isArray($[Q])){let G=$[Q].length,J="",U="";for(let X=0;X<G;X++){let F=$[Q][X];if(typeof F==="undefined");else if(F===null)if(Q[0]==="?")Y+=this.indentate(W)+"<"+Q+"?"+this.tagEndChar;else Y+=this.indentate(W)+"<"+Q+"/"+this.tagEndChar;else if(typeof F==="object")if(this.options.oneListGroup){let K=this.j2x(F,W+1);if(J+=K.val,this.options.attributesGroupName&&F.hasOwnProperty(this.options.attributesGroupName))U+=K.attrStr}else J+=this.processTextOrObjNode(F,Q,W);else if(this.options.oneListGroup){let K=this.options.tagValueProcessor(Q,F);K=this.replaceEntitiesValue(K),J+=K}else J+=this.buildTextValNode(F,Q,"",W)}if(this.options.oneListGroup)J=this.buildObjectNode(J,Q,U,W);Y+=J}else if(this.options.attributesGroupName&&Q===this.options.attributesGroupName){let G=Object.keys($[Q]),J=G.length;for(let U=0;U<J;U++)Z+=this.buildAttrPairStr(G[U],""+$[Q][G[U]])}else Y+=this.processTextOrObjNode($[Q],Q,W)}return{attrStr:Z,val:Y}};c.prototype.buildAttrPairStr=function($,W){if(W=this.options.attributeValueProcessor($,""+W),W=this.replaceEntitiesValue(W),this.options.suppressBooleanAttributes&&W==="true")return" "+$;else return" "+$+'="'+W+'"'};function wZ($,W,Z){let Y=this.j2x($,Z+1);if($[this.options.textNodeName]!==void 0&&Object.keys($).length===1)return this.buildTextValNode($[this.options.textNodeName],W,Y.attrStr,Z);else return this.buildObjectNode(Y.val,W,Y.attrStr,Z)}c.prototype.buildObjectNode=function($,W,Z,Y){if($==="")if(W[0]==="?")return this.indentate(Y)+"<"+W+Z+"?"+this.tagEndChar;else return this.indentate(Y)+"<"+W+Z+this.closeTag(W)+this.tagEndChar;else{let Q="</"+W+this.tagEndChar,G="";if(W[0]==="?")G="?",Q="";if((Z||Z==="")&&$.indexOf("<")===-1)return this.indentate(Y)+"<"+W+Z+G+">"+$+Q;else if(this.options.commentPropName!==!1&&W===this.options.commentPropName&&G.length===0)return this.indentate(Y)+`<!--${$}-->`+this.newLine;else return this.indentate(Y)+"<"+W+Z+G+this.tagEndChar+$+this.indentate(Y)+Q}};c.prototype.closeTag=function($){let W="";if(this.options.unpairedTags.indexOf($)!==-1){if(!this.options.suppressUnpairedNode)W="/"}else if(this.options.suppressEmptyNode)W="/";else W=`></${$}`;return W};c.prototype.buildTextValNode=function($,W,Z,Y){if(this.options.cdataPropName!==!1&&W===this.options.cdataPropName)return this.indentate(Y)+`<![CDATA[${$}]]>`+this.newLine;else if(this.options.commentPropName!==!1&&W===this.options.commentPropName)return this.indentate(Y)+`<!--${$}-->`+this.newLine;else if(W[0]==="?")return this.indentate(Y)+"<"+W+Z+"?"+this.tagEndChar;else{let Q=this.options.tagValueProcessor(W,$);if(Q=this.replaceEntitiesValue(Q),Q==="")return this.indentate(Y)+"<"+W+Z+this.closeTag(W)+this.tagEndChar;else return this.indentate(Y)+"<"+W+Z+">"+Q+"</"+W+this.tagEndChar}};c.prototype.replaceEntitiesValue=function($){if($&&$.length>0&&this.options.processEntities)for(let W=0;W<this.options.entities.length;W++){let Z=this.options.entities[W];$=$.replace(Z.regex,Z.val)}return $};function IZ($){return this.options.indentBy.repeat($)}function AZ($){if($.startsWith(this.options.attributeNamePrefix)&&$!==this.options.textNodeName)return $.substr(this.attrPrefixLen);else return!1}M4.exports=c});var V1=I((BY,w4)=>{var RZ=H1(),TZ=K4(),OZ=V4();w4.exports={XMLParser:TZ,XMLValidator:RZ,XMLBuilder:OZ}});var C4=I((HY,O4)=>{var{defineProperty:h0,getOwnPropertyDescriptor:CZ,getOwnPropertyNames:PZ}=Object,EZ=Object.prototype.hasOwnProperty,y0=($,W)=>h0($,"name",{value:W,configurable:!0}),kZ=($,W)=>{for(var Z in W)h0($,Z,{get:W[Z],enumerable:!0})},jZ=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of PZ(W))if(!EZ.call($,Q)&&Q!==Z)h0($,Q,{get:()=>W[Q],enumerable:!(Y=CZ(W,Q))||Y.enumerable})}return $},SZ=($)=>jZ(h0({},"__esModule",{value:!0}),$),I4={};kZ(I4,{XmlNode:()=>NZ,XmlText:()=>T4});O4.exports=SZ(I4);function A4($){return $.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}y0(A4,"escapeAttribute");function R4($){return $.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}y0(R4,"escapeElement");var T4=class{constructor($){this.value=$}static{y0(this,"XmlText")}toString(){return R4(""+this.value)}},NZ=class ${constructor(W,Z=[]){this.name=W,this.children=Z}static{y0(this,"XmlNode")}attributes={};static of(W,Z,Y){let Q=new $(W);if(Z!==void 0)Q.addChildNode(new T4(Z));if(Y!==void 0)Q.withName(Y);return Q}withName(W){return this.name=W,this}addAttribute(W,Z){return this.attributes[W]=Z,this}addChildNode(W){return this.children.push(W),this}removeAttribute(W){return delete this.attributes[W],this}n(W){return this.name=W,this}c(W){return this.children.push(W),this}a(W,Z){if(Z!=null)this.attributes[W]=Z;return this}cc(W,Z,Y=Z){if(W[Z]!=null){let Q=$.of(Z,W[Z]).withName(Y);this.c(Q)}}l(W,Z,Y,Q){if(W[Z]!=null)Q().map((J)=>{J.withName(Y),this.c(J)})}lc(W,Z,Y,Q){if(W[Z]!=null){let G=Q(),J=new $(Y);G.map((U)=>{J.c(U)}),this.c(J)}}toString(){let W=Boolean(this.children.length),Z=`<${this.name}`,Y=this.attributes;for(let Q of Object.keys(Y)){let G=Y[Q];if(G!=null)Z+=` ${Q}="${A4(""+G)}"`}return Z+=!W?"/>":`>${this.children.map((Q)=>Q.toString()).join("")}</${this.name}>`}}});var u4=I((MY,g4)=>{var{defineProperty:x0,getOwnPropertyDescriptor:DZ,getOwnPropertyNames:_Z}=Object,fZ=Object.prototype.hasOwnProperty,R=($,W)=>x0($,"name",{value:W,configurable:!0}),bZ=($,W)=>{for(var Z in W)x0($,Z,{get:W[Z],enumerable:!0})},hZ=($,W,Z,Y)=>{if(W&&typeof W==="object"||typeof W==="function"){for(let Q of _Z(W))if(!fZ.call($,Q)&&Q!==Z)x0($,Q,{get:()=>W[Q],enumerable:!(Y=DZ(W,Q))||Y.enumerable})}return $},yZ=($)=>hZ(x0({},"__esModule",{value:!0}),$),S4={};bZ(S4,{AwsEc2QueryProtocol:()=>L6,AwsJson1_0Protocol:()=>rZ,AwsJson1_1Protocol:()=>aZ,AwsJsonRpcProtocol:()=>E1,AwsQueryProtocol:()=>b4,AwsRestJsonProtocol:()=>eZ,AwsRestXmlProtocol:()=>V6,JsonCodec:()=>P1,JsonShapeDeserializer:()=>_4,JsonShapeSerializer:()=>f4,XmlCodec:()=>x4,XmlShapeDeserializer:()=>k1,XmlShapeSerializer:()=>v4,_toBool:()=>xZ,_toNum:()=>gZ,_toStr:()=>vZ,awsExpectUnion:()=>W6,loadRestJsonErrorCode:()=>C1,loadRestXmlErrorCode:()=>y4,parseJsonBody:()=>O1,parseJsonErrorBody:()=>lZ,parseXmlBody:()=>h4,parseXmlErrorBody:()=>q6});g4.exports=yZ(S4);var vZ=R(($)=>{if($==null)return $;if(typeof $==="number"||typeof $==="bigint"){let W=new Error(`Received number ${$} where a string was expected.`);return W.name="Warning",console.warn(W),String($)}if(typeof $==="boolean"){let W=new Error(`Received boolean ${$} where a string was expected.`);return W.name="Warning",console.warn(W),String($)}return $},"_toStr"),xZ=R(($)=>{if($==null)return $;if(typeof $==="string"){let W=$.toLowerCase();if($!==""&&W!=="false"&&W!=="true"){let Z=new Error(`Received string "${$}" where a boolean was expected.`);Z.name="Warning",console.warn(Z)}return $!==""&&W!=="false"}return $},"_toBool"),gZ=R(($)=>{if($==null)return $;if(typeof $==="string"){let W=Number($);if(W.toString()!==$){let Z=new Error(`Received string "${$}" where a number was expected.`);return Z.name="Warning",console.warn(Z),$}return W}return $},"_toNum"),uZ=v(),$0=h(),cZ=Q0(),o=class{static{R(this,"SerdeContextConfig")}serdeContext;setSerdeContext($){this.serdeContext=$}},X0=h(),W0=g(),pZ=T1(),dZ=g();function N4($,W,Z){if(Z?.source){let Y=Z.source;if(typeof W==="number"){if(W>Number.MAX_SAFE_INTEGER||W<Number.MIN_SAFE_INTEGER||Y!==String(W))if(Y.includes("."))return new dZ.NumericValue(Y,"bigDecimal");else return BigInt(Y)}}return W}R(N4,"jsonReviver");var mZ=m(),D4=R(($,W)=>mZ.collectBody($,W).then((Z)=>W.utf8Encoder(Z)),"collectBodyString"),O1=R(($,W)=>D4($,W).then((Z)=>{if(Z.length)try{return JSON.parse(Z)}catch(Y){if(Y?.name==="SyntaxError")Object.defineProperty(Y,"$responseBodyText",{value:Z});throw Y}return{}}),"parseJsonBody"),lZ=R(async($,W)=>{let Z=await O1($,W);return Z.message=Z.message??Z.Message,Z},"parseJsonErrorBody"),C1=R(($,W)=>{let Z=R((G,J)=>Object.keys(G).find((U)=>U.toLowerCase()===J.toLowerCase()),"findKey"),Y=R((G)=>{let J=G;if(typeof J==="number")J=J.toString();if(J.indexOf(",")>=0)J=J.split(",")[0];if(J.indexOf(":")>=0)J=J.split(":")[0];if(J.indexOf("#")>=0)J=J.split("#")[1];return J},"sanitizeErrorCode"),Q=Z($.headers,"x-amzn-errortype");if(Q!==void 0)return Y($.headers[Q]);if(W&&typeof W==="object"){let G=Z(W,"code");if(G&&W[G]!==void 0)return Y(W[G]);if(W.__type!==void 0)return Y(W.__type)}},"loadRestJsonErrorCode"),_4=class extends o{constructor($){super();this.settings=$}static{R(this,"JsonShapeDeserializer")}async read($,W){return this._read($,typeof W==="string"?JSON.parse(W,N4):await O1(W,this.serdeContext))}readObject($,W){return this._read($,W)}_read($,W){let Z=W!==null&&typeof W==="object",Y=X0.NormalizedSchema.of($);if(Y.isListSchema()&&Array.isArray(W)){let G=Y.getValueSchema(),J=[],U=!!Y.getMergedTraits().sparse;for(let X of W)if(U||X!=null)J.push(this._read(G,X));return J}else if(Y.isMapSchema()&&Z){let G=Y.getValueSchema(),J={},U=!!Y.getMergedTraits().sparse;for(let[X,F]of Object.entries(W))if(U||F!=null)J[X]=this._read(G,F);return J}else if(Y.isStructSchema()&&Z){let G={};for(let[J,U]of Y.structIterator()){let X=this.settings.jsonName?U.getMergedTraits().jsonName??J:J,F=this._read(U,W[X]);if(F!=null)G[J]=F}return G}if(Y.isBlobSchema()&&typeof W==="string")return pZ.fromBase64(W);let Q=Y.getMergedTraits().mediaType;if(Y.isStringSchema()&&typeof W==="string"&&Q){if(Q==="application/json"||Q.endsWith("+json"))return W0.LazyJsonString.from(W)}if(Y.isTimestampSchema()){let G=this.settings.timestampFormat;switch(G.useTrait?Y.getSchema()===X0.SCHEMA.TIMESTAMP_DEFAULT?G.default:Y.getSchema()??G.default:G.default){case X0.SCHEMA.TIMESTAMP_DATE_TIME:return W0.parseRfc3339DateTimeWithOffset(W);case X0.SCHEMA.TIMESTAMP_HTTP_DATE:return W0.parseRfc7231DateTime(W);case X0.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return W0.parseEpochTimestamp(W);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",W),new Date(W)}}if(Y.isBigIntegerSchema()&&(typeof W==="number"||typeof W==="string"))return BigInt(W);if(Y.isBigDecimalSchema()&&W!=null){if(W instanceof W0.NumericValue)return W;return new W0.NumericValue(String(W),"bigDecimal")}if(Y.isNumericSchema()&&typeof W==="string")switch(W){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return W}},Z0=h(),sZ=g(),nZ=g(),iZ=g(),P4=String.fromCharCode(925),oZ=class{static{R(this,"JsonReplacer")}values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,($,W)=>{if(W instanceof iZ.NumericValue){let Z=`${P4+NaN+this.counter++}_`+W.string;return this.values.set(`"${Z}"`,W.string),Z}if(typeof W==="bigint"){let Z=W.toString(),Y=`${P4+"b"+this.counter++}_`+Z;return this.values.set(`"${Y}"`,Z),Y}return W}}replaceInJson($){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return $;for(let[W,Z]of this.values)$=$.replace(W,Z);return $}},f4=class extends o{constructor($){super();this.settings=$}static{R(this,"JsonShapeSerializer")}buffer;rootSchema;write($,W){this.rootSchema=Z0.NormalizedSchema.of($),this.buffer=this._write(this.rootSchema,W)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let $=new oZ;return $.replaceInJson(JSON.stringify(this.buffer,$.createReplacer(),0))}return this.buffer}_write($,W,Z){let Y=W!==null&&typeof W==="object",Q=Z0.NormalizedSchema.of($);if(Q.isListSchema()&&Array.isArray(W)){let J=Q.getValueSchema(),U=[],X=!!Q.getMergedTraits().sparse;for(let F of W)if(X||F!=null)U.push(this._write(J,F));return U}else if(Q.isMapSchema()&&Y){let J=Q.getValueSchema(),U={},X=!!Q.getMergedTraits().sparse;for(let[F,K]of Object.entries(W))if(X||K!=null)U[F]=this._write(J,K);return U}else if(Q.isStructSchema()&&Y){let J={};for(let[U,X]of Q.structIterator()){let F=this.settings.jsonName?X.getMergedTraits().jsonName??U:U,K=this._write(X,W[U],Q);if(K!==void 0)J[F]=K}return J}if(W===null&&Z?.isStructSchema())return;if(Q.isBlobSchema()&&(W instanceof Uint8Array||typeof W==="string")){if(Q===this.rootSchema)return W;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(W)}if(Q.isTimestampSchema()&&W instanceof Date){let J=this.settings.timestampFormat;switch(J.useTrait?Q.getSchema()===Z0.SCHEMA.TIMESTAMP_DEFAULT?J.default:Q.getSchema()??J.default:J.default){case Z0.SCHEMA.TIMESTAMP_DATE_TIME:return W.toISOString().replace(".000Z","Z");case Z0.SCHEMA.TIMESTAMP_HTTP_DATE:return sZ.dateToUtcString(W);case Z0.SCHEMA.TIMESTAMP_EPOCH_SECONDS:return W.getTime()/1000;default:return console.warn("Missing timestamp format, using epoch seconds",W),W.getTime()/1000}}if(Q.isNumericSchema()&&typeof W==="number"){if(Math.abs(W)===1/0||isNaN(W))return String(W)}let G=Q.getMergedTraits().mediaType;if(Q.isStringSchema()&&typeof W==="string"&&G){if(G==="application/json"||G.endsWith("+json"))return nZ.LazyJsonString.from(W)}return W}},P1=class extends o{constructor($){super();this.settings=$}static{R(this,"JsonCodec")}createSerializer(){let $=new f4(this.settings);return $.setSerdeContext(this.serdeContext),$}createDeserializer(){let $=new _4(this.settings);return $.setSerdeContext(this.serdeContext),$}},E1=class extends uZ.RpcProtocol{static{R(this,"AwsJsonRpcProtocol")}serializer;deserializer;codec;constructor({defaultNamespace:$}){super({defaultNamespace:$});this.codec=new P1({timestampFormat:{useTrait:!0,default:$0.SCHEMA.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest($,W,Z){let Y=await super.serializeRequest($,W,Z);if(!Y.path.endsWith("/"))Y.path+="/";if(Object.assign(Y.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+$0.NormalizedSchema.of($).getName()}),$0.deref($.input)==="unit"||!Y.body)Y.body="{}";try{Y.headers["content-length"]=String(cZ.calculateBodyLength(Y.body))}catch(Q){}return Y}getPayloadCodec(){return this.codec}async handleError($,W,Z,Y,Q){let G=C1(Z,Y)??"Unknown",J=this.options.defaultNamespace,U=G;if(G.includes("#"))[J,U]=G.split("#");let X=$0.TypeRegistry.for(J),F;try{F=X.getSchema(G)}catch(H){let q=$0.TypeRegistry.for("smithy.ts.sdk.synthetic."+J).getBaseException();if(q){let M=q.ctor;throw Object.assign(new M(U),Y)}throw new Error(U)}let K=$0.NormalizedSchema.of(F),L=Y.message??Y.Message??"Unknown",z=new F.ctor(L);await this.deserializeHttpMessage(F,W,Z,Y);let B={};for(let[H,q]of K.structIterator()){let M=q.getMergedTraits().jsonName??H;B[H]=this.codec.createDeserializer().readObject(q,Y[M])}throw Object.assign(z,{$metadata:Q,$response:Z,$fault:K.getMergedTraits().error,message:L,...B}),z}},rZ=class extends E1{static{R(this,"AwsJson1_0Protocol")}constructor({defaultNamespace:$}){super({defaultNamespace:$})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}},aZ=class extends E1{static{R(this,"AwsJson1_1Protocol")}constructor({defaultNamespace:$}){super({defaultNamespace:$})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}},w1=v(),F0=h(),tZ=Q0(),eZ=class extends w1.HttpBindingProtocol{static{R(this,"AwsRestJsonProtocol")}serializer;deserializer;codec;constructor({defaultNamespace:$}){super({defaultNamespace:$});let W={timestampFormat:{useTrait:!0,default:F0.SCHEMA.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new P1(W),this.serializer=new w1.HttpInterceptingShapeSerializer(this.codec.createSerializer(),W),this.deserializer=new w1.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),W)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext($){this.codec.setSerdeContext($),super.setSerdeContext($)}async serializeRequest($,W,Z){let Y=await super.serializeRequest($,W,Z),Q=F0.NormalizedSchema.of($.input),G=Q.getMemberSchemas();if(!Y.headers["content-type"]){let J=Object.values(G).find((U)=>{return!!U.getMergedTraits().httpPayload});if(J){let U=J.getMergedTraits().mediaType;if(U)Y.headers["content-type"]=U;else if(J.isStringSchema())Y.headers["content-type"]="text/plain";else if(J.isBlobSchema())Y.headers["content-type"]="application/octet-stream";else Y.headers["content-type"]="application/json"}else if(!Q.isUnitSchema()){if(Object.values(G).find((X)=>{let{httpQuery:F,httpQueryParams:K,httpHeader:L,httpLabel:z,httpPrefixHeaders:B}=X.getMergedTraits();return!F&&!K&&!L&&!z&&B===void 0}))Y.headers["content-type"]="application/json"}}if(Y.headers["content-type"]&&!Y.body)Y.body="{}";if(Y.body)try{Y.headers["content-length"]=String(tZ.calculateBodyLength(Y.body))}catch(J){}return Y}async handleError($,W,Z,Y,Q){let G=C1(Z,Y)??"Unknown",J=this.options.defaultNamespace,U=G;if(G.includes("#"))[J,U]=G.split("#");let X=F0.TypeRegistry.for(J),F;try{F=X.getSchema(G)}catch(H){let q=F0.TypeRegistry.for("smithy.ts.sdk.synthetic."+J).getBaseException();if(q){let M=q.ctor;throw Object.assign(new M(U),Y)}throw new Error(U)}let K=F0.NormalizedSchema.of(F),L=Y.message??Y.Message??"Unknown",z=new F.ctor(L);await this.deserializeHttpMessage(F,W,Z,Y);let B={};for(let[H,q]of K.structIterator()){let M=q.getMergedTraits().jsonName??H;B[H]=this.codec.createDeserializer().readObject(q,Y[M])}throw Object.assign(z,{$metadata:Q,$response:Z,$fault:K.getMergedTraits().error,message:L,...B}),z}},$6=m(),W6=R(($)=>{if($==null)return;if(typeof $==="object"&&"__type"in $)delete $.__type;return $6.expectUnion($)},"awsExpectUnion"),I1=v(),p=h(),Z6=Q0(),Y6=v(),E4=h(),G6=m(),Q6=e(),J6=V1(),k1=class extends o{constructor($){super();this.settings=$,this.stringDeserializer=new Y6.FromStringShapeDeserializer($)}static{R(this,"XmlShapeDeserializer")}stringDeserializer;setSerdeContext($){this.serdeContext=$,this.stringDeserializer.setSerdeContext($)}read($,W,Z){let Y=E4.NormalizedSchema.of($),Q=Y.getMemberSchemas();if(Y.isStructSchema()&&Y.isMemberSchema()&&!!Object.values(Q).find((X)=>{return!!X.getMemberTraits().eventPayload})){let X={},F=Object.keys(Q)[0];if(Q[F].isBlobSchema())X[F]=W;else X[F]=this.read(Q[F],W);return X}let J=(this.serdeContext?.utf8Encoder??Q6.toUtf8)(W),U=this.parseXml(J);return this.readSchema($,Z?U[Z]:U)}readSchema($,W){let Z=E4.NormalizedSchema.of($),Y=Z.getMergedTraits(),Q=Z.getSchema();if(Z.isListSchema()&&!Array.isArray(W))return this.readSchema(Q,[W]);if(W==null)return W;if(typeof W==="object"){let G=!!Y.sparse,J=!!Y.xmlFlattened;if(Z.isListSchema()){let X=Z.getValueSchema(),F=[],K=X.getMergedTraits().xmlName??"member",L=J?W:(W[0]??W)[K],z=Array.isArray(L)?L:[L];for(let B of z)if(B!=null||G)F.push(this.readSchema(X,B));return F}let U={};if(Z.isMapSchema()){let X=Z.getKeySchema(),F=Z.getValueSchema(),K;if(J)K=Array.isArray(W)?W:[W];else K=Array.isArray(W.entry)?W.entry:[W.entry];let L=X.getMergedTraits().xmlName??"key",z=F.getMergedTraits().xmlName??"value";for(let B of K){let H=B[L],q=B[z];if(q!=null||G)U[H]=this.readSchema(F,q)}return U}if(Z.isStructSchema()){for(let[X,F]of Z.structIterator()){let K=F.getMergedTraits(),L=!K.httpPayload?F.getMemberTraits().xmlName??X:K.xmlName??F.getName();if(W[L]!=null)U[X]=this.readSchema(F,W[L])}return U}if(Z.isDocumentSchema())return W;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${Z.getName(!0)}`)}else{if(Z.isListSchema())return[];else if(Z.isMapSchema()||Z.isStructSchema())return{};return this.stringDeserializer.read(Z,W)}}parseXml($){if($.length){let W=new J6.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:R((J,U)=>U.trim()===""&&U.includes(`
`)?"":void 0,"tagValueProcessor")});W.addEntity("#xD","\r"),W.addEntity("#10",`
`);let Z;try{Z=W.parse($,!0)}catch(J){if(J&&typeof J==="object")Object.defineProperty(J,"$responseBodyText",{value:$});throw J}let Y="#text",Q=Object.keys(Z)[0],G=Z[Q];if(G[Y])G[Q]=G[Y],delete G[Y];return G6.getValueFromTextNode(G)}return{}}},A1=v(),v0=h(),U6=g(),X6=m(),F6=T1(),K6=class extends o{constructor($){super();this.settings=$}static{R(this,"QueryShapeSerializer")}buffer;write($,W,Z=""){if(this.buffer===void 0)this.buffer="";let Y=v0.NormalizedSchema.of($);if(Z&&!Z.endsWith("."))Z+=".";if(Y.isBlobSchema()){if(typeof W==="string"||W instanceof Uint8Array)this.writeKey(Z),this.writeValue((this.serdeContext?.base64Encoder??F6.toBase64)(W))}else if(Y.isBooleanSchema()||Y.isNumericSchema()||Y.isStringSchema()){if(W!=null)this.writeKey(Z),this.writeValue(String(W))}else if(Y.isBigIntegerSchema()){if(W!=null)this.writeKey(Z),this.writeValue(String(W))}else if(Y.isBigDecimalSchema()){if(W!=null)this.writeKey(Z),this.writeValue(W instanceof U6.NumericValue?W.string:String(W))}else if(Y.isTimestampSchema()){if(W instanceof Date)switch(this.writeKey(Z),A1.determineTimestampFormat(Y,this.settings)){case v0.SCHEMA.TIMESTAMP_DATE_TIME:this.writeValue(W.toISOString().replace(".000Z","Z"));break;case v0.SCHEMA.TIMESTAMP_HTTP_DATE:this.writeValue(X6.dateToUtcString(W));break;case v0.SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(W.getTime()/1000));break}}else if(Y.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${Y.getName(!0)}`);else if(Y.isListSchema()){if(Array.isArray(W))if(W.length===0){if(this.settings.serializeEmptyLists)this.writeKey(Z),this.writeValue("")}else{let Q=Y.getValueSchema(),G=this.settings.flattenLists||Y.getMergedTraits().xmlFlattened,J=1;for(let U of W){if(U==null)continue;let X=this.getKey("member",Q.getMergedTraits().xmlName),F=G?`${Z}${J}`:`${Z}${X}.${J}`;this.write(Q,U,F),++J}}}else if(Y.isMapSchema()){if(W&&typeof W==="object"){let Q=Y.getKeySchema(),G=Y.getValueSchema(),J=Y.getMergedTraits().xmlFlattened,U=1;for(let[X,F]of Object.entries(W)){if(F==null)continue;let K=this.getKey("key",Q.getMergedTraits().xmlName),L=J?`${Z}${U}.${K}`:`${Z}entry.${U}.${K}`,z=this.getKey("value",G.getMergedTraits().xmlName),B=J?`${Z}${U}.${z}`:`${Z}entry.${U}.${z}`;this.write(Q,X,L),this.write(G,F,B),++U}}}else if(Y.isStructSchema()){if(W&&typeof W==="object")for(let[Q,G]of Y.structIterator()){if(W[Q]==null)continue;let J=this.getKey(Q,G.getMergedTraits().xmlName),U=`${Z}${J}`;this.write(G,W[Q],U)}}else if(Y.isUnitSchema());else throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${Y.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let $=this.buffer;return delete this.buffer,$}getKey($,W){let Z=W??$;if(this.settings.capitalizeKeys)return Z[0].toUpperCase()+Z.slice(1);return Z}writeKey($){if($.endsWith("."))$=$.slice(0,$.length-1);this.buffer+=`&${A1.extendedEncodeURIComponent($)}=`}writeValue($){this.buffer+=A1.extendedEncodeURIComponent($)}},b4=class extends I1.RpcProtocol{constructor($){super({defaultNamespace:$.defaultNamespace});this.options=$;let W={timestampFormat:{useTrait:!0,default:p.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:$.xmlNamespace,serviceNamespace:$.defaultNamespace,serializeEmptyLists:!0};this.serializer=new K6(W),this.deserializer=new k1(W)}static{R(this,"AwsQueryProtocol")}serializer;deserializer;getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext($){this.serializer.setSerdeContext($),this.deserializer.setSerdeContext($)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest($,W,Z){let Y=await super.serializeRequest($,W,Z);if(!Y.path.endsWith("/"))Y.path+="/";if(Object.assign(Y.headers,{"content-type":"application/x-www-form-urlencoded"}),p.deref($.input)==="unit"||!Y.body)Y.body="";if(Y.body=`Action=${$.name.split("#")[1]}&Version=${this.options.version}`+Y.body,Y.body.endsWith("&"))Y.body=Y.body.slice(-1);try{Y.headers["content-length"]=String(Z6.calculateBodyLength(Y.body))}catch(Q){}return Y}async deserializeResponse($,W,Z){let Y=this.deserializer,Q=p.NormalizedSchema.of($.output),G={};if(Z.statusCode>=300){let F=await I1.collectBody(Z.body,W);if(F.byteLength>0)Object.assign(G,await Y.read(p.SCHEMA.DOCUMENT,F));await this.handleError($,W,Z,G,this.deserializeMetadata(Z))}for(let F in Z.headers){let K=Z.headers[F];delete Z.headers[F],Z.headers[F.toLowerCase()]=K}let J=Q.isStructSchema()&&this.useNestedResult()?$.name.split("#")[1]+"Result":void 0,U=await I1.collectBody(Z.body,W);if(U.byteLength>0)Object.assign(G,await Y.read(Q,U,J));return{$metadata:this.deserializeMetadata(Z),...G}}useNestedResult(){return!0}async handleError($,W,Z,Y,Q){let G=this.loadQueryErrorCode(Z,Y)??"Unknown",J=this.options.defaultNamespace,U=G;if(G.includes("#"))[J,U]=G.split("#");let X=this.loadQueryError(Y),F=p.TypeRegistry.for(J),K;try{if(K=F.find((q)=>p.NormalizedSchema.of(q).getMergedTraits().awsQueryError?.[0]===U),!K)K=F.getSchema(G)}catch(q){let M=p.TypeRegistry.for("smithy.ts.sdk.synthetic."+J).getBaseException();if(M){let w=M.ctor;throw Object.assign(new w(U),X)}throw new Error(U)}let L=p.NormalizedSchema.of(K),z=this.loadQueryErrorMessage(Y),B=new K.ctor(z),H={};for(let[q,M]of L.structIterator()){let w=M.getMergedTraits().xmlName??q,V=X[w]??Y[w];H[q]=this.deserializer.readSchema(M,V)}throw Object.assign(B,{$metadata:Q,$response:Z,$fault:L.getMergedTraits().error,message:z,...H}),B}loadQueryErrorCode($,W){let Z=(W.Errors?.[0]?.Error??W.Errors?.Error??W.Error)?.Code;if(Z!==void 0)return Z;if($.statusCode==404)return"NotFound"}loadQueryError($){return $.Errors?.[0]?.Error??$.Errors?.Error??$.Error}loadQueryErrorMessage($){let W=this.loadQueryError($);return W?.message??W?.Message??$.message??$.Message??"Unknown"}},L6=class extends b4{constructor($){super($);this.options=$;let W={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,W)}static{R(this,"AwsEc2QueryProtocol")}useNestedResult(){return!1}},R1=v(),K0=h(),z6=Q0(),B6=m(),H6=V1(),h4=R(($,W)=>D4($,W).then((Z)=>{if(Z.length){let Y=new H6.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:R((X,F)=>F.trim()===""&&F.includes(`
`)?"":void 0,"tagValueProcessor")});Y.addEntity("#xD","\r"),Y.addEntity("#10",`
`);let Q;try{Q=Y.parse(Z,!0)}catch(X){if(X&&typeof X==="object")Object.defineProperty(X,"$responseBodyText",{value:Z});throw X}let G="#text",J=Object.keys(Q)[0],U=Q[J];if(U[G])U[J]=U[G],delete U[G];return B6.getValueFromTextNode(U)}return{}}),"parseXmlBody"),q6=R(async($,W)=>{let Z=await h4($,W);if(Z.Error)Z.Error.message=Z.Error.message??Z.Error.Message;return Z},"parseXmlErrorBody"),y4=R(($,W)=>{if(W?.Error?.Code!==void 0)return W.Error.Code;if(W?.Code!==void 0)return W.Code;if($.statusCode==404)return"NotFound"},"loadRestXmlErrorCode"),b=C4(),i=h(),M6=g(),k4=m(),j4=T1(),v4=class extends o{constructor($){super();this.settings=$}static{R(this,"XmlShapeSerializer")}stringBuffer;byteBuffer;buffer;write($,W){let Z=i.NormalizedSchema.of($);if(Z.isStringSchema()&&typeof W==="string")this.stringBuffer=W;else if(Z.isBlobSchema())this.byteBuffer="byteLength"in W?W:(this.serdeContext?.base64Decoder??j4.fromBase64)(W);else{this.buffer=this.writeStruct(Z,W,void 0);let Y=Z.getMergedTraits();if(Y.httpPayload&&!Y.xmlName)this.buffer.withName(Z.getName())}}flush(){if(this.byteBuffer!==void 0){let W=this.byteBuffer;return delete this.byteBuffer,W}if(this.stringBuffer!==void 0){let W=this.stringBuffer;return delete this.stringBuffer,W}let $=this.buffer;if(this.settings.xmlNamespace){if(!$?.attributes?.xmlns)$.addAttribute("xmlns",this.settings.xmlNamespace)}return delete this.buffer,$.toString()}writeStruct($,W,Z){let Y=$.getMergedTraits(),Q=$.isMemberSchema()&&!Y.httpPayload?$.getMemberTraits().xmlName??$.getMemberName():Y.xmlName??$.getName();if(!Q||!$.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${$.getName(!0)}.`);let G=b.XmlNode.of(Q),[J,U]=this.getXmlnsAttribute($,Z);if(U)G.addAttribute(J,U);for(let[X,F]of $.structIterator()){let K=W[X];if(K!=null){if(F.getMergedTraits().xmlAttribute){G.addAttribute(F.getMergedTraits().xmlName??X,this.writeSimple(F,K));continue}if(F.isListSchema())this.writeList(F,K,G,U);else if(F.isMapSchema())this.writeMap(F,K,G,U);else if(F.isStructSchema())G.addChildNode(this.writeStruct(F,K,U));else{let L=b.XmlNode.of(F.getMergedTraits().xmlName??F.getMemberName());this.writeSimpleInto(F,K,L,U),G.addChildNode(L)}}}return G}writeList($,W,Z,Y){if(!$.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${$.getName(!0)}`);let Q=$.getMergedTraits(),G=$.getValueSchema(),J=G.getMergedTraits(),U=!!J.sparse,X=!!Q.xmlFlattened,[F,K]=this.getXmlnsAttribute($,Y),L=R((z,B)=>{if(G.isListSchema())this.writeList(G,Array.isArray(B)?B:[B],z,K);else if(G.isMapSchema())this.writeMap(G,B,z,K);else if(G.isStructSchema()){let H=this.writeStruct(G,B,K);z.addChildNode(H.withName(X?Q.xmlName??$.getMemberName():J.xmlName??"member"))}else{let H=b.XmlNode.of(X?Q.xmlName??$.getMemberName():J.xmlName??"member");this.writeSimpleInto(G,B,H,K),z.addChildNode(H)}},"writeItem");if(X){for(let z of W)if(U||z!=null)L(Z,z)}else{let z=b.XmlNode.of(Q.xmlName??$.getMemberName());if(K)z.addAttribute(F,K);for(let B of W)if(U||B!=null)L(z,B);Z.addChildNode(z)}}writeMap($,W,Z,Y,Q=!1){if(!$.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${$.getName(!0)}`);let G=$.getMergedTraits(),J=$.getKeySchema(),X=J.getMergedTraits().xmlName??"key",F=$.getValueSchema(),K=F.getMergedTraits(),L=K.xmlName??"value",z=!!K.sparse,B=!!G.xmlFlattened,[H,q]=this.getXmlnsAttribute($,Y),M=R((w,V,A)=>{let O=b.XmlNode.of(X,V),[k,D]=this.getXmlnsAttribute(J,q);if(D)O.addAttribute(k,D);w.addChildNode(O);let Y0=b.XmlNode.of(L);if(F.isListSchema())this.writeList(F,A,Y0,q);else if(F.isMapSchema())this.writeMap(F,A,Y0,q,!0);else if(F.isStructSchema())Y0=this.writeStruct(F,A,q);else this.writeSimpleInto(F,A,Y0,q);w.addChildNode(Y0)},"addKeyValue");if(B){for(let[w,V]of Object.entries(W))if(z||V!=null){let A=b.XmlNode.of(G.xmlName??$.getMemberName());M(A,w,V),Z.addChildNode(A)}}else{let w;if(!Q){if(w=b.XmlNode.of(G.xmlName??$.getMemberName()),q)w.addAttribute(H,q);Z.addChildNode(w)}for(let[V,A]of Object.entries(W))if(z||A!=null){let O=b.XmlNode.of("entry");M(O,V,A),(Q?Z:w).addChildNode(O)}}}writeSimple($,W){if(W===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let Z=i.NormalizedSchema.of($),Y=null;if(W&&typeof W==="object")if(Z.isBlobSchema())Y=(this.serdeContext?.base64Encoder??j4.toBase64)(W);else if(Z.isTimestampSchema()&&W instanceof Date){let Q=this.settings.timestampFormat;switch(Q.useTrait?Z.getSchema()===i.SCHEMA.TIMESTAMP_DEFAULT?Q.default:Z.getSchema()??Q.default:Q.default){case i.SCHEMA.TIMESTAMP_DATE_TIME:Y=W.toISOString().replace(".000Z","Z");break;case i.SCHEMA.TIMESTAMP_HTTP_DATE:Y=k4.dateToUtcString(W);break;case i.SCHEMA.TIMESTAMP_EPOCH_SECONDS:Y=String(W.getTime()/1000);break;default:console.warn("Missing timestamp format, using http date",W),Y=k4.dateToUtcString(W);break}}else if(Z.isBigDecimalSchema()&&W){if(W instanceof M6.NumericValue)return W.string;return String(W)}else if(Z.isMapSchema()||Z.isListSchema())throw new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead.");else throw new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${Z.getName(!0)}`);if(Z.isStringSchema()||Z.isBooleanSchema()||Z.isNumericSchema()||Z.isBigIntegerSchema()||Z.isBigDecimalSchema())Y=String(W);if(Y===null)throw new Error(`Unhandled schema-value pair ${Z.getName(!0)}=${W}`);return Y}writeSimpleInto($,W,Z,Y){let Q=this.writeSimple($,W),G=i.NormalizedSchema.of($),J=new b.XmlText(Q),[U,X]=this.getXmlnsAttribute(G,Y);if(X)Z.addAttribute(U,X);Z.addChildNode(J)}getXmlnsAttribute($,W){let Z=$.getMergedTraits(),[Y,Q]=Z.xmlNamespace??[];if(Q&&Q!==W)return[Y?`xmlns:${Y}`:"xmlns",Q];return[void 0,void 0]}},x4=class extends o{constructor($){super();this.settings=$}static{R(this,"XmlCodec")}createSerializer(){let $=new v4(this.settings);return $.setSerdeContext(this.serdeContext),$}createDeserializer(){let $=new k1(this.settings);return $.setSerdeContext(this.serdeContext),$}},V6=class extends R1.HttpBindingProtocol{static{R(this,"AwsRestXmlProtocol")}codec;serializer;deserializer;constructor($){super($);let W={timestampFormat:{useTrait:!0,default:K0.SCHEMA.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:$.xmlNamespace,serviceNamespace:$.defaultNamespace};this.codec=new x4(W),this.serializer=new R1.HttpInterceptingShapeSerializer(this.codec.createSerializer(),W),this.deserializer=new R1.HttpInterceptingShapeDeserializer(this.codec.createDeserializer(),W)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest($,W,Z){let Y=await super.serializeRequest($,W,Z),Q=K0.NormalizedSchema.of($.input),G=Q.getMemberSchemas();if(Y.path=String(Y.path).split("/").filter((J)=>{return J!=="{Bucket}"}).join("/")||"/",!Y.headers["content-type"]){let J=Object.values(G).find((U)=>{return!!U.getMergedTraits().httpPayload});if(J){let U=J.getMergedTraits().mediaType;if(U)Y.headers["content-type"]=U;else if(J.isStringSchema())Y.headers["content-type"]="text/plain";else if(J.isBlobSchema())Y.headers["content-type"]="application/octet-stream";else Y.headers["content-type"]="application/xml"}else if(!Q.isUnitSchema()){if(Object.values(G).find((X)=>{let{httpQuery:F,httpQueryParams:K,httpHeader:L,httpLabel:z,httpPrefixHeaders:B}=X.getMergedTraits();return!F&&!K&&!L&&!z&&B===void 0}))Y.headers["content-type"]="application/xml"}}if(Y.headers["content-type"]==="application/xml"){if(typeof Y.body==="string")Y.body='<?xml version="1.0" encoding="UTF-8"?>'+Y.body}if(Y.body)try{Y.headers["content-length"]=String(z6.calculateBodyLength(Y.body))}catch(J){}return Y}async deserializeResponse($,W,Z){return super.deserializeResponse($,W,Z)}async handleError($,W,Z,Y,Q){let G=y4(Z,Y)??"Unknown",J=this.options.defaultNamespace,U=G;if(G.includes("#"))[J,U]=G.split("#");let X=K0.TypeRegistry.for(J),F;try{F=X.getSchema(G)}catch(H){let q=K0.TypeRegistry.for("smithy.ts.sdk.synthetic."+J).getBaseException();if(q){let M=q.ctor;throw Object.assign(new M(U),Y)}throw new Error(U)}let K=K0.NormalizedSchema.of(F),L=Y.Error?.message??Y.Error?.Message??Y.message??Y.Message??"Unknown",z=new F.ctor(L);await this.deserializeHttpMessage(F,W,Z,Y);let B={};for(let[H,q]of K.structIterator()){let M=q.getMergedTraits().xmlName??H,w=Y.Error?.[M]??Y[M];B[H]=this.codec.createDeserializer().readSchema(q,w)}throw Object.assign(z,{$metadata:Q,$response:Z,$fault:K.getMergedTraits().error,message:L,...B}),z}}});var w6=I((L0)=>{Object.defineProperty(L0,"__esModule",{value:!0});var j1=l8();j1.__exportStar(N$(),L0);j1.__exportStar(v$(),L0);j1.__exportStar(u4(),L0)});var S1=I((c4)=>{Object.defineProperty(c4,"__esModule",{value:!0});c4.default=R6;var I6=A6(c0("crypto"));function A6($){return $&&$.__esModule?$:{default:$}}var u0=new Uint8Array(256),g0=u0.length;function R6(){if(g0>u0.length-16)I6.default.randomFillSync(u0),g0=0;return u0.slice(g0,g0+=16)}});var m4=I((p4)=>{Object.defineProperty(p4,"__esModule",{value:!0});p4.default=void 0;var O6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;p4.default=O6});var z0=I((l4)=>{Object.defineProperty(l4,"__esModule",{value:!0});l4.default=void 0;var C6=P6(m4());function P6($){return $&&$.__esModule?$:{default:$}}function E6($){return typeof $==="string"&&C6.default.test($)}var k6=E6;l4.default=k6});var B0=I((i4)=>{Object.defineProperty(i4,"__esModule",{value:!0});i4.default=void 0;i4.unsafeStringify=n4;var j6=S6(z0());function S6($){return $&&$.__esModule?$:{default:$}}var S=[];for(let $=0;$<256;++$)S.push(($+256).toString(16).slice(1));function n4($,W=0){return S[$[W+0]]+S[$[W+1]]+S[$[W+2]]+S[$[W+3]]+"-"+S[$[W+4]]+S[$[W+5]]+"-"+S[$[W+6]]+S[$[W+7]]+"-"+S[$[W+8]]+S[$[W+9]]+"-"+S[$[W+10]]+S[$[W+11]]+S[$[W+12]]+S[$[W+13]]+S[$[W+14]]+S[$[W+15]]}function N6($,W=0){let Z=n4($,W);if(!j6.default(Z))throw TypeError("Stringified UUID is invalid");return Z}var D6=N6;i4.default=D6});var e4=I((a4)=>{Object.defineProperty(a4,"__esModule",{value:!0});a4.default=void 0;var f6=h6(S1()),b6=B0();function h6($){return $&&$.__esModule?$:{default:$}}var r4,N1,D1=0,_1=0;function y6($,W,Z){let Y=W&&Z||0,Q=W||new Array(16);$=$||{};let G=$.node||r4,J=$.clockseq!==void 0?$.clockseq:N1;if(G==null||J==null){let z=$.random||($.rng||f6.default)();if(G==null)G=r4=[z[0]|1,z[1],z[2],z[3],z[4],z[5]];if(J==null)J=N1=(z[6]<<8|z[7])&16383}let U=$.msecs!==void 0?$.msecs:Date.now(),X=$.nsecs!==void 0?$.nsecs:_1+1,F=U-D1+(X-_1)/1e4;if(F<0&&$.clockseq===void 0)J=J+1&16383;if((F<0||U>D1)&&$.nsecs===void 0)X=0;if(X>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");D1=U,_1=X,N1=J,U+=12219292800000;let K=((U&268435455)*1e4+X)%4294967296;Q[Y++]=K>>>24&255,Q[Y++]=K>>>16&255,Q[Y++]=K>>>8&255,Q[Y++]=K&255;let L=U/4294967296*1e4&268435455;Q[Y++]=L>>>8&255,Q[Y++]=L&255,Q[Y++]=L>>>24&15|16,Q[Y++]=L>>>16&255,Q[Y++]=J>>>8|128,Q[Y++]=J&255;for(let z=0;z<6;++z)Q[Y+z]=G[z];return W||b6.unsafeStringify(Q)}var v6=y6;a4.default=v6});var f1=I(($5)=>{Object.defineProperty($5,"__esModule",{value:!0});$5.default=void 0;var x6=g6(z0());function g6($){return $&&$.__esModule?$:{default:$}}function u6($){if(!x6.default($))throw TypeError("Invalid UUID");let W,Z=new Uint8Array(16);return Z[0]=(W=parseInt($.slice(0,8),16))>>>24,Z[1]=W>>>16&255,Z[2]=W>>>8&255,Z[3]=W&255,Z[4]=(W=parseInt($.slice(9,13),16))>>>8,Z[5]=W&255,Z[6]=(W=parseInt($.slice(14,18),16))>>>8,Z[7]=W&255,Z[8]=(W=parseInt($.slice(19,23),16))>>>8,Z[9]=W&255,Z[10]=(W=parseInt($.slice(24,36),16))/1099511627776&255,Z[11]=W/4294967296&255,Z[12]=W>>>24&255,Z[13]=W>>>16&255,Z[14]=W>>>8&255,Z[15]=W&255,Z}var c6=u6;$5.default=c6});var b1=I((G5)=>{Object.defineProperty(G5,"__esModule",{value:!0});G5.URL=G5.DNS=void 0;G5.default=s6;var p6=B0(),d6=m6(f1());function m6($){return $&&$.__esModule?$:{default:$}}function l6($){$=unescape(encodeURIComponent($));let W=[];for(let Z=0;Z<$.length;++Z)W.push($.charCodeAt(Z));return W}var Z5="6ba7b810-9dad-11d1-80b4-00c04fd430c8";G5.DNS=Z5;var Y5="6ba7b811-9dad-11d1-80b4-00c04fd430c8";G5.URL=Y5;function s6($,W,Z){function Y(Q,G,J,U){var X;if(typeof Q==="string")Q=l6(Q);if(typeof G==="string")G=d6.default(G);if(((X=G)===null||X===void 0?void 0:X.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let F=new Uint8Array(16+Q.length);if(F.set(G),F.set(Q,G.length),F=Z(F),F[6]=F[6]&15|W,F[8]=F[8]&63|128,J){U=U||0;for(let K=0;K<16;++K)J[U+K]=F[K];return J}return p6.unsafeStringify(F)}try{Y.name=$}catch(Q){}return Y.DNS=Z5,Y.URL=Y5,Y}});var X5=I((J5)=>{Object.defineProperty(J5,"__esModule",{value:!0});J5.default=void 0;var o6=r6(c0("crypto"));function r6($){return $&&$.__esModule?$:{default:$}}function a6($){if(Array.isArray($))$=Buffer.from($);else if(typeof $==="string")$=Buffer.from($,"utf8");return o6.default.createHash("md5").update($).digest()}var t6=a6;J5.default=t6});var z5=I((K5)=>{Object.defineProperty(K5,"__esModule",{value:!0});K5.default=void 0;var e6=F5(b1()),$7=F5(X5());function F5($){return $&&$.__esModule?$:{default:$}}var W7=e6.default("v3",48,$7.default),Z7=W7;K5.default=Z7});var q5=I((B5)=>{Object.defineProperty(B5,"__esModule",{value:!0});B5.default=void 0;var Y7=G7(c0("crypto"));function G7($){return $&&$.__esModule?$:{default:$}}var Q7={randomUUID:Y7.default.randomUUID};B5.default=Q7});var A5=I((w5)=>{Object.defineProperty(w5,"__esModule",{value:!0});w5.default=void 0;var M5=V5(q5()),J7=V5(S1()),U7=B0();function V5($){return $&&$.__esModule?$:{default:$}}function X7($,W,Z){if(M5.default.randomUUID&&!W&&!$)return M5.default.randomUUID();$=$||{};let Y=$.random||($.rng||J7.default)();if(Y[6]=Y[6]&15|64,Y[8]=Y[8]&63|128,W){Z=Z||0;for(let Q=0;Q<16;++Q)W[Z+Q]=Y[Q];return W}return U7.unsafeStringify(Y)}var F7=X7;w5.default=F7});var O5=I((R5)=>{Object.defineProperty(R5,"__esModule",{value:!0});R5.default=void 0;var K7=L7(c0("crypto"));function L7($){return $&&$.__esModule?$:{default:$}}function z7($){if(Array.isArray($))$=Buffer.from($);else if(typeof $==="string")$=Buffer.from($,"utf8");return K7.default.createHash("sha1").update($).digest()}var B7=z7;R5.default=B7});var k5=I((P5)=>{Object.defineProperty(P5,"__esModule",{value:!0});P5.default=void 0;var H7=C5(b1()),q7=C5(O5());function C5($){return $&&$.__esModule?$:{default:$}}var M7=H7.default("v5",80,q7.default),V7=M7;P5.default=V7});var N5=I((j5)=>{Object.defineProperty(j5,"__esModule",{value:!0});j5.default=void 0;var w7="00000000-0000-0000-0000-000000000000";j5.default=w7});var f5=I((D5)=>{Object.defineProperty(D5,"__esModule",{value:!0});D5.default=void 0;var I7=A7(z0());function A7($){return $&&$.__esModule?$:{default:$}}function R7($){if(!I7.default($))throw TypeError("Invalid UUID");return parseInt($.slice(14,15),16)}var T7=R7;D5.default=T7});var _7=I((f)=>{Object.defineProperty(f,"__esModule",{value:!0});Object.defineProperty(f,"NIL",{enumerable:!0,get:function(){return k7.default}});Object.defineProperty(f,"parse",{enumerable:!0,get:function(){return D7.default}});Object.defineProperty(f,"stringify",{enumerable:!0,get:function(){return N7.default}});Object.defineProperty(f,"v1",{enumerable:!0,get:function(){return O7.default}});Object.defineProperty(f,"v3",{enumerable:!0,get:function(){return C7.default}});Object.defineProperty(f,"v4",{enumerable:!0,get:function(){return P7.default}});Object.defineProperty(f,"v5",{enumerable:!0,get:function(){return E7.default}});Object.defineProperty(f,"validate",{enumerable:!0,get:function(){return S7.default}});Object.defineProperty(f,"version",{enumerable:!0,get:function(){return j7.default}});var O7=y(e4()),C7=y(z5()),P7=y(A5()),E7=y(k5()),k7=y(N5()),j7=y(f5()),S7=y(z0()),N7=y(B0()),D7=y(f1());function y($){return $&&$.__esModule?$:{default:$}}});
export{p1 as xd,l0 as yd,l8 as zd,i8 as Ad,m as Bd,w6 as Cd,_7 as Dd};
