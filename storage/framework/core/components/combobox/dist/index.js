function e(e){if(!e||typeof document>`u`)return;let t=document.head||document.getElementsByTagName(`head`)[0],n=document.createElement(`style`);n.type=`text/css`,t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}e(``);import*as t from"vue";import{Fragment as n,cloneVNode as r,computed as i,defineComponent as a,h as o,inject as s,nextTick as c,onMounted as l,onScopeDispose as u,onUnmounted as d,provide as f,reactive as p,ref as m,shallowRef as h,toRaw as g,triggerRef as _,unref as v,watch as y,watchEffect as b}from"vue";function x(e,t,n){let r=n.initialDeps??[],i;function a(){var a,o,s,c;let l;n.key&&(a=n.debug)?.call(n)&&(l=Date.now());let u=e(),d=u.length!==r.length||u.some((e,t)=>r[t]!==e);if(!d)return i;r=u;let f;if(n.key&&(o=n.debug)?.call(n)&&(f=Date.now()),i=t(...u),n.key&&(s=n.debug)?.call(n)){let e=Math.round((Date.now()-l)*100)/100,t=Math.round((Date.now()-f)*100)/100,r=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=` `+e;return e};console.info(`%câ± ${i(t,5)} /${i(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,n?.key)}return(c=n?.onChange)==null||c.call(n,i),i}return a.updateDeps=e=>{r=e},a}function S(e,t){if(e===void 0)throw Error(`Unexpected undefined${t?`: ${t}`:``}`);return e}const C=(e,t)=>Math.abs(e-t)<1.01,w=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},T=e=>{let{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},E=e=>e,D=e=>{let t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},O=(e,t)=>{let n=e.scrollElement;if(!n)return;let r=e.targetWindow;if(!r)return;let i=e=>{let{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(i(T(n)),!r.ResizeObserver)return()=>{};let a=new r.ResizeObserver(t=>{let r=()=>{let e=t[0];if(e?.borderBoxSize){let t=e.borderBoxSize[0];if(t){i({width:t.inlineSize,height:t.blockSize});return}}i(T(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return a.observe(n,{box:`border-box`}),()=>{a.unobserve(n)}},k={passive:!0},A=typeof window>`u`?!0:`onscrollend`in window,j=(e,t)=>{let n=e.scrollElement;if(!n)return;let r=e.targetWindow;if(!r)return;let i=0,a=e.options.useScrollendEvent&&A?()=>void 0:w(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=r=>()=>{let{horizontal:o,isRtl:s}=e.options;i=o?n.scrollLeft*(s&&-1||1):n.scrollTop,a(),t(i,r)},s=o(!0),c=o(!1);c(),n.addEventListener(`scroll`,s,k);let l=e.options.useScrollendEvent&&A;return l&&n.addEventListener(`scrollend`,c,k),()=>{n.removeEventListener(`scroll`,s),l&&n.removeEventListener(`scrollend`,c)}},ee=(e,t,n)=>{if(t?.borderBoxSize){let e=t.borderBoxSize[0];if(e){let t=Math.round(e[n.options.horizontal?`inlineSize`:`blockSize`]);return t}}return e[n.options.horizontal?`offsetWidth`:`offsetHeight`]},M=(e,{adjustments:t=0,behavior:n},r)=>{var i,a;let o=e+t;(a=(i=r.scrollElement)?.scrollTo)==null||a.call(i,{[r.options.horizontal?`left`:`top`]:o,behavior:n})};var N=class{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null,t=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{let t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}));return{disconnect:()=>{var n;(n=t())==null||n.disconnect(),e=null},observe:e=>{var n;return(n=t())?.observe(e,{box:`border-box`})},unobserve:e=>{var n;return(n=t())?.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,n])=>{n===void 0&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:E,rangeExtractor:D,onChange:()=>{},measureElement:ee,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:`data-index`,initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;(n=(t=this.options).onChange)==null||n.call(t,this,e)},this.maybeNotify=x(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:process.env.NODE_ENV!==`production`&&`maybeNotify`,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;let t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t){this.maybeNotify();return}this.scrollElement=t,this.scrollElement&&`ownerDocument`in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(e=this.scrollElement)?.window??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?`forward`:`backward`:null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?`width`:`height`]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset==`function`?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{let n=new Map,r=new Map;for(let i=t-1;i>=0;i--){let t=e[i];if(n.has(t.lane))continue;let a=r.get(t.lane);if(a==null||t.end>a.end?r.set(t.lane,t):t.end<a.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=x(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,n,r,i)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:i}),{key:!1}),this.getMeasurements=x(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:i},a)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));let o=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];let s=this.measurementsCache.slice(0,o);for(let i=o;i<e;i++){let e=r(i),o=this.options.lanes===1?s[i-1]:this.getFurthestMeasurement(s,i),c=o?o.end+this.options.gap:t+n,l=a.get(e),u=typeof l==`number`?l:this.options.estimateSize(i),d=c+u,f=o?o.lane:i%this.options.lanes;s[i]={index:i,start:c,size:u,end:d,key:e,lane:f}}return this.measurementsCache=s,s},{key:process.env.NODE_ENV!==`production`&&`getMeasurements`,debug:()=>this.options.debug}),this.calculateRange=x(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,n,r)=>this.range=e.length>0&&t>0?ne({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null,{key:process.env.NODE_ENV!==`production`&&`calculateRange`,debug:()=>this.options.debug}),this.getVirtualIndexes=x(()=>{let e=null,t=null,n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,n,r,i)=>r===null||i===null?[]:e({startIndex:r,endIndex:i,overscan:t,count:n}),{key:process.env.NODE_ENV!==`production`&&`getVirtualIndexes`,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{let n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;let i=r.key,a=this.elementsCache.get(i);a!==e&&(a&&this.observer.unobserve(a),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{let n=this.measurementsCache[e];if(!n)return;let r=this.itemSizeCache.get(n.key)??n.size,i=t-r;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange===void 0?n.start<this.getScrollOffset()+this.scrollAdjustments:this.shouldAdjustScrollPositionOnItemSizeChange(n,i,this))&&(process.env.NODE_ENV!==`production`&&this.options.debug&&console.info(`correction`,i),this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0})),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=x(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{let n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r],a=t[i];n.push(a)}return n},{key:process.env.NODE_ENV!==`production`&&`getVirtualItems`,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(t.length!==0)return S(t[te(0,t.length-1,e=>S(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,n=0)=>{let r=this.getSize(),i=this.getScrollOffset();t===`auto`&&(t=e>=i+r?`end`:`start`),t===`center`?e+=(n-r)/2:t===`end`&&(e-=r);let a=this.getTotalSize()+this.options.scrollMargin-r;return Math.max(Math.min(a,e),0)},this.getOffsetForIndex=(e,t=`auto`)=>{e=Math.max(0,Math.min(e,this.options.count-1));let n=this.measurementsCache[e];if(!n)return;let r=this.getSize(),i=this.getScrollOffset();if(t===`auto`)if(n.end>=i+r-this.options.scrollPaddingEnd)t=`end`;else if(n.start<=i+this.options.scrollPaddingStart)t=`start`;else return[i,t];let a=t===`end`?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t=`start`,behavior:n}={})=>{n===`smooth`&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t=`auto`,behavior:n}={})=>{n===`smooth`&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let r=0,i=10,a=t=>{if(!this.targetWindow)return;let r=this.getOffsetForIndex(e,t);if(!r){console.warn(`Failed to get offset for index:`,e);return}let[i,a]=r;this._scrollToOffset(i,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{let t=this.getScrollOffset(),n=this.getOffsetForIndex(e,a);if(!n){console.warn(`Failed to get offset for index:`,e);return}C(n[0],t)||o(a)})},o=t=>{this.targetWindow&&(r++,r<i?(process.env.NODE_ENV!==`production`&&this.options.debug&&console.info(`Schedule retry`,r,i),this.targetWindow.requestAnimationFrame(()=>a(t))):console.warn(`Failed to scroll to index ${e} after ${i} attempts.`))};a(t)},this.scrollBy=(e,{behavior:t}={})=>{t===`smooth`&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;let t=this.getMeasurements(),n;if(t.length===0)n=this.options.paddingStart;else if(this.options.lanes===1)n=(e=t[t.length-1])?.end??0;else{let e=Array(this.options.lanes).fill(null),r=t.length-1;for(;r>=0&&e.some(e=>e===null);){let n=t[r];e[n.lane]===null&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter(e=>e!==null))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}};const te=(e,t,n,r)=>{for(;e<=t;){let i=(e+t)/2|0,a=n(i);if(a<r)e=i+1;else if(a>r)t=i-1;else return i}return e>0?e-1:0};function ne({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){let i=e.length-1,a=t=>e[t].start;if(e.length<=r)return{startIndex:0,endIndex:i};let o=te(0,i,a,n),s=o;if(r===1)for(;s<i&&e[s].end<n+t;)s++;else if(r>1){let a=Array(r).fill(0);for(;s<i&&a.some(e=>e<n+t);){let t=e[s];a[t.lane]=t.end,s++}let c=Array(r).fill(n+t);for(;o>=0&&c.some(e=>e>=n);){let t=e[o];c[t.lane]=t.start,o--}o=Math.max(0,o-o%r),s=Math.min(i,s+(r-1-s%r))}return{startIndex:o,endIndex:s}}function re(e){let t=new N(v(e)),n=h(t),r=t._didMount();return y(()=>v(e).getScrollElement(),e=>{e&&t._willUpdate()},{immediate:!0}),y(()=>v(e),e=>{t.setOptions({...e,onChange:(t,r)=>{var i;_(n),(i=e.onChange)==null||i.call(e,t,r)}}),t._willUpdate(),_(n)},{immediate:!0}),u(r),n}function ie(e){return re(i(()=>({observeElementRect:O,observeElementOffset:j,scrollToFn:M,...v(e)})))}function ae(e,t,n){let r=m(n?.value),a=i(()=>e.value!==void 0);return[i(()=>a.value?e.value:r.value),function(e){return a.value||(r.value=e),t?.(e)}]}function oe(e){typeof queueMicrotask==`function`?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function P(){let e=[],t={addEventListener(e,n,r,i){return e.addEventListener(n,r,i),t.add(()=>e.removeEventListener(n,r,i))},requestAnimationFrame(...e){let n=requestAnimationFrame(...e);t.add(()=>cancelAnimationFrame(n))},nextFrame(...e){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...e)})},setTimeout(...e){let n=setTimeout(...e);t.add(()=>clearTimeout(n))},microTask(...e){let n={current:!0};return oe(()=>{n.current&&e[0]()}),t.add(()=>{n.current=!1})},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add(()=>{Object.assign(e.style,{[t]:r})})},group(e){let t=P();return e(t),this.add(()=>t.dispose())},add(t){return e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}},dispose(){for(let t of e.splice(0))t()}};return t}function se(){let e=P();return d(()=>e.dispose()),e}function ce(){let e=se();return t=>{e.dispose(),e.nextFrame(t)}}var le;let ue=Symbol(`headlessui.useid`),de=0;const F=(le=t.useId)??function(){return t.inject(ue,()=>`${++de}`)()};function I(e){var t;if(e==null||e.value==null)return null;let n=(t=e.value.$el)??e.value;return n instanceof Node?n:null}function L(e,t,...n){if(e in t){let r=t[e];return typeof r==`function`?r(...n):r}let r=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(`, `)}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,L),r}var fe=Object.defineProperty,pe=(e,t,n)=>t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t,n)=>(pe(e,typeof t==`symbol`?t:t+``,n),n),me=class{constructor(){R(this,`current`,this.detect()),R(this,`currentId`,0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current===`server`}get isClient(){return this.current===`client`}detect(){return typeof window>`u`||typeof document>`u`?`server`:`client`}};let z=new me;function B(e){if(z.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty(`value`)){let t=I(e);if(t)return t.ownerDocument}return document}let V=[`[contentEditable=true]`,`[tabindex]`,`a[href]`,`area[href]`,`button:not([disabled])`,`iframe`,`input:not([disabled])`,`select:not([disabled])`,`textarea:not([disabled])`].map(e=>`${e}:not([tabindex='-1'])`).join(`,`);var he=(e=>(e[e.First=1]=`First`,e[e.Previous=2]=`Previous`,e[e.Next=4]=`Next`,e[e.Last=8]=`Last`,e[e.WrapAround=16]=`WrapAround`,e[e.NoScroll=32]=`NoScroll`,e))(he||{}),ge=(e=>(e[e.Error=0]=`Error`,e[e.Overflow=1]=`Overflow`,e[e.Success=2]=`Success`,e[e.Underflow=3]=`Underflow`,e))(ge||{}),_e=(e=>(e[e.Previous=-1]=`Previous`,e[e.Next=1]=`Next`,e))(_e||{}),H=(e=>(e[e.Strict=0]=`Strict`,e[e.Loose=1]=`Loose`,e))(H||{});function ve(e,t=0){var n;return e===(n=B(e))?.body?!1:L(t,{0(){return e.matches(V)},1(){let t=e;for(;t!==null;){if(t.matches(V))return!0;t=t.parentElement}return!1}})}var ye=(e=>(e[e.Keyboard=0]=`Keyboard`,e[e.Mouse=1]=`Mouse`,e))(ye||{});typeof window<`u`&&typeof document<`u`&&(document.addEventListener(`keydown`,e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible=``)},!0),document.addEventListener(`click`,e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible=``)},!0));let be=[`textarea`,`input`].join(`,`);function xe(e,t=e=>e){return e.slice().sort((e,n)=>{let r=t(e),i=t(n);if(r===null||i===null)return 0;let a=r.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Se(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Ce(){return/Android/gi.test(window.navigator.userAgent)}function we(){return Se()||Ce()}function U(e,t,n){z.isServer||b(r=>{document.addEventListener(e,t,n),r(()=>document.removeEventListener(e,t,n))})}function Te(e,t,n){z.isServer||b(r=>{window.addEventListener(e,t,n),r(()=>window.removeEventListener(e,t,n))})}function Ee(e,t,n=i(()=>!0)){function r(r,i){if(!n.value||r.defaultPrevented)return;let a=i(r);if(a===null||!a.getRootNode().contains(a))return;let o=function e(t){return typeof t==`function`?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of o){if(e===null)continue;let t=e instanceof HTMLElement?e:I(e);if(t!=null&&t.contains(a)||r.composed&&r.composedPath().includes(t))return}return!ve(a,H.Loose)&&a.tabIndex!==-1&&r.preventDefault(),t(r,a)}let a=m(null);U(`pointerdown`,e=>{var t,r;n.value&&(a.value=(r=(t=e.composedPath)?.call(e))?.[0]||e.target)},!0),U(`mousedown`,e=>{var t,r;n.value&&(a.value=(r=(t=e.composedPath)?.call(e))?.[0]||e.target)},!0),U(`click`,e=>{we()||a.value&&(r(e,()=>a.value),a.value=null)},!0),U(`touchend`,e=>r(e,()=>e.target instanceof HTMLElement?e.target:null),!0),Te(`blur`,e=>r(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function De(e,t){if(e)return e;let n=t??`button`;if(typeof n==`string`&&n.toLowerCase()===`button`)return`button`}function Oe(e,t){let n=m(De(e.value.type,e.value.as));return l(()=>{n.value=De(e.value.type,e.value.as)}),b(()=>{var e;n.value||I(t)&&I(t)instanceof HTMLButtonElement&&!((e=I(t))!=null&&e.hasAttribute(`type`))&&(n.value=`button`)}),n}function ke(e){return[e.screenX,e.screenY]}function Ae(){let e=m([-1,-1]);return{wasMoved(t){let n=ke(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=ke(t)}}}function je({container:e,accept:t,walk:n,enabled:r}){b(()=>{let i=e.value;if(!i||r!==void 0&&!r.value)return;let a=B(e);if(!a)return;let o=Object.assign(e=>t(e),{acceptNode:t}),s=a.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,o,!1);for(;s.nextNode();)n(s.currentNode)})}var W=(e=>(e[e.None=0]=`None`,e[e.RenderStrategy=1]=`RenderStrategy`,e[e.Static=2]=`Static`,e))(W||{}),Me=(e=>(e[e.Unmount=0]=`Unmount`,e[e.Hidden=1]=`Hidden`,e))(Me||{});function G({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...i}){var a;let o=Pe(r,n),s=Object.assign(i,{props:o});if(e||t&2&&o.static)return K(s);if(t&1){let e=(a=o.unmount)==null||a?0:1;return L(e,{0(){return null},1(){return K({...i,props:{...o,hidden:!0,style:{display:`none`}}})}})}return K(s)}function K({props:e,attrs:t,slots:n,slot:i,name:a}){var s,c;let{as:l,...u}=q(e,[`unmount`,`static`]),d=(s=n.default)?.call(n,i),f={};if(i){let e=!1,t=[];for(let[n,r]of Object.entries(i))typeof r==`boolean`&&(e=!0),r===!0&&t.push(n);e&&(f[`data-headlessui-state`]=t.join(` `))}if(l===`template`){if(d=Ne(d??[]),Object.keys(u).length>0||Object.keys(t).length>0){let[e,...n]=d??[];if(!Ie(e)||n.length>0)throw Error([`Passing props on "template"!`,``,`The current component <${a} /> is rendering a "template".`,`However we need to passthrough the following props:`,Object.keys(u).concat(Object.keys(t)).map(e=>e.trim()).filter((e,t,n)=>n.indexOf(e)===t).sort((e,t)=>e.localeCompare(t)).map(e=>`  - ${e}`).join(`
`),``,`You can apply a few solutions:`,['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',`Render a single element as the child so that we can forward the props onto that element.`].map(e=>`  - ${e}`).join(`
`)].join(`
`));let i=Pe((c=e.props)??{},u,f),o=r(e,i,!0);for(let e in i)e.startsWith(`on`)&&(o.props||={},o.props[e]=i[e]);return o}return Array.isArray(d)&&d.length===1?d[0]:d}return o(l,Object.assign({},u,f),{default:()=>d})}function Ne(e){return e.flatMap(e=>e.type===n?Ne(e.children):[e])}function Pe(...e){var t;if(e.length===0)return{};if(e.length===1)return e[0];let n={},r={};for(let i of e)for(let e in i)e.startsWith(`on`)&&typeof i[e]==`function`?((t=r[e])??(r[e]=[]),r[e].push(i[e])):n[e]=i[e];if(n.disabled||n[`aria-disabled`])return Object.assign(n,Object.fromEntries(Object.keys(r).map(e=>[e,void 0])));for(let e in r)Object.assign(n,{[e](t,...n){let i=r[e];for(let e of i){if(t instanceof Event&&t.defaultPrevented)return;e(t,...n)}}});return n}function Fe(e){let t=Object.assign({},e);for(let e in t)t[e]===void 0&&delete t[e];return t}function q(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}function Ie(e){return e==null?!1:typeof e.type==`string`||typeof e.type==`object`||typeof e.type==`function`}var Le=(e=>(e[e.None=1]=`None`,e[e.Focusable=2]=`Focusable`,e[e.Hidden=4]=`Hidden`,e))(Le||{});let Re=a({name:`Hidden`,props:{as:{type:[Object,String],default:`div`},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{var r;let{features:i,...a}=e,o={"aria-hidden":(i&2)==2?!0:(r=a[`aria-hidden`])??void 0,hidden:(i&4)==4?!0:void 0,style:{position:`fixed`,top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:`hidden`,clip:`rect(0, 0, 0, 0)`,whiteSpace:`nowrap`,borderWidth:`0`,...(i&4)==4&&(i&2)!=2&&{display:`none`}}};return G({ourProps:o,theirProps:a,slot:{},attrs:n,slots:t,name:`Hidden`})}}}),ze=Symbol(`Context`);var J=(e=>(e[e.Open=1]=`Open`,e[e.Closed=2]=`Closed`,e[e.Closing=4]=`Closing`,e[e.Opening=8]=`Opening`,e))(J||{});function Be(){return s(ze,null)}function Ve(e){f(ze,e)}var Y=(e=>(e.Space=` `,e.Enter=`Enter`,e.Escape=`Escape`,e.Backspace=`Backspace`,e.Delete=`Delete`,e.ArrowLeft=`ArrowLeft`,e.ArrowUp=`ArrowUp`,e.ArrowRight=`ArrowRight`,e.ArrowDown=`ArrowDown`,e.Home=`Home`,e.End=`End`,e.PageUp=`PageUp`,e.PageDown=`PageDown`,e.Tab=`Tab`,e))(Y||{}),He=(e=>(e[e.Left=0]=`Left`,e[e.Right=2]=`Right`,e))(He||{});function Ue(e){function t(){document.readyState!==`loading`&&(e(),document.removeEventListener(`DOMContentLoaded`,t))}typeof window<`u`&&typeof document<`u`&&(document.addEventListener(`DOMContentLoaded`,t),t())}let X=[];Ue(()=>{function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&X[0]!==e.target&&(X.unshift(e.target),X=X.filter(e=>e!=null&&e.isConnected),X.splice(10))}window.addEventListener(`click`,e,{capture:!0}),window.addEventListener(`mousedown`,e,{capture:!0}),window.addEventListener(`focus`,e,{capture:!0}),document.body.addEventListener(`click`,e,{capture:!0}),document.body.addEventListener(`mousedown`,e,{capture:!0}),document.body.addEventListener(`focus`,e,{capture:!0})});function We(e){throw Error(`Unexpected object: `+e)}var Z=(e=>(e[e.First=0]=`First`,e[e.Previous=1]=`Previous`,e[e.Next=2]=`Next`,e[e.Last=3]=`Last`,e[e.Specific=4]=`Specific`,e[e.Nothing=5]=`Nothing`,e))(Z||{});function Ge(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:i===-1&&(i=n.length);for(let e=i-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=i+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:We(e)}}function Q(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))qe(n,Ke(t,r),i);return n}function Ke(e,t){return e?e+`[`+t+`]`:t}function qe(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())qe(e,Ke(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n==`boolean`?e.push([t,n?`1`:`0`]):typeof n==`string`?e.push([t,n]):typeof n==`number`?e.push([t,`${n}`]):n==null?e.push([t,``]):Q(n,t,e)}function Je(e,t){return e===t}var Ye=(e=>(e[e.Open=0]=`Open`,e[e.Closed=1]=`Closed`,e))(Ye||{}),Xe=(e=>(e[e.Single=0]=`Single`,e[e.Multi=1]=`Multi`,e))(Xe||{}),Ze=(e=>(e[e.Pointer=0]=`Pointer`,e[e.Focus=1]=`Focus`,e[e.Other=2]=`Other`,e))(Ze||{});let Qe=Symbol(`ComboboxContext`);function $(e){let t=s(Qe,null);if(t===null){let t=Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,$),t}return t}let $e=Symbol(`VirtualContext`),et=a({name:`VirtualProvider`,setup(e,{slots:t}){let n=$(`VirtualProvider`),a=i(()=>{let e=I(n.optionsRef);if(!e)return{start:0,end:0};let t=window.getComputedStyle(e);return{start:parseFloat(t.paddingBlockStart||t.paddingTop),end:parseFloat(t.paddingBlockEnd||t.paddingBottom)}}),s=ie(i(()=>({scrollPaddingStart:a.value.start,scrollPaddingEnd:a.value.end,count:n.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return I(n.optionsRef)},overscan:12}))),c=i(()=>{var e;return(e=n.virtual.value)?.options}),l=m(0);return y([c],()=>{l.value+=1}),f($e,n.virtual.value?s:null),()=>[o(`div`,{style:{position:`relative`,width:`100%`,height:`${s.value.getTotalSize()}px`},ref:e=>{if(e){if(typeof process<`u`&&process.env.JEST_WORKER_ID!==void 0||n.activationTrigger.value===0)return;n.activeOptionIndex.value!==null&&n.virtual.value.options.length>n.activeOptionIndex.value&&s.value.scrollToIndex(n.activeOptionIndex.value)}}},s.value.getVirtualItems().map(e=>r(t.default({option:n.virtual.value.options[e.index],open:n.comboboxState.value===0})[0],{key:`${l.value}-${e.index}`,"data-index":e.index,"aria-setsize":n.virtual.value.options.length,"aria-posinset":e.index+1,style:{position:`absolute`,top:0,left:0,transform:`translateY(${e.start}px)`,overflowAnchor:`none`}})))]}}),tt=a({name:`Combobox`,emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:`template`},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:t,attrs:r,emit:a}){let s=m(1),c=m(null),u=m(null),d=m(null),h=m(null),_=m({static:!1,hold:!1}),v=m([]),b=m(null),x=m(2),S=m(!1);function C(e=e=>e){let t=b.value===null?null:v.value[b.value],n=e(v.value.slice()),r=n.length>0&&n[0].dataRef.order.value!==null?n.sort((e,t)=>e.dataRef.order.value-t.dataRef.order.value):xe(n,e=>I(e.dataRef.domRef)),i=t?r.indexOf(t):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let w=i(()=>e.multiple?1:0),T=i(()=>e.nullable),[E,D]=ae(i(()=>e.modelValue),e=>a(`update:modelValue`,e),i(()=>e.defaultValue)),O=i(()=>E.value===void 0?L(w.value,{1:[],0:void 0}):E.value),k=null,A=null;function j(e){return L(w.value,{0(){return D?.(e)},1:()=>{let t=g(M.value.value).slice(),n=g(e),r=t.findIndex(e=>M.compare(n,g(e)));return r===-1?t.push(n):t.splice(r,1),D?.(t)}})}let ee=i(()=>{});y([ee],([e],[t])=>{if(M.virtual.value&&e&&t&&b.value!==null){let n=e.indexOf(t[b.value]);n===-1?b.value=null:b.value=n}});let M={comboboxState:s,value:O,mode:w,compare(t,n){if(typeof e.by==`string`){let r=e.by;return t?.[r]===n?.[r]}return e.by===null?Je(t,n):e.by(t,n)},calculateIndex(t){return M.virtual.value?e.by===null?M.virtual.value.options.indexOf(t):M.virtual.value.options.findIndex(e=>M.compare(e,t)):v.value.findIndex(e=>M.compare(e.dataRef.value,t))},defaultValue:i(()=>e.defaultValue),nullable:T,immediate:i(()=>!1),virtual:i(()=>null),inputRef:u,labelRef:c,buttonRef:d,optionsRef:h,disabled:i(()=>e.disabled),options:v,change(e){D(e)},activeOptionIndex:i(()=>{if(S.value&&b.value===null&&(M.virtual.value?M.virtual.value.options.length>0:v.value.length>0)){if(M.virtual.value){let e=M.virtual.value.options.findIndex(e=>{var t;return!((t=M.virtual.value)!=null&&t.disabled(e))});if(e!==-1)return e}let e=v.value.findIndex(e=>!e.dataRef.disabled);if(e!==-1)return e}return b.value}),activationTrigger:x,optionsPropsRef:_,closeCombobox(){S.value=!1,!e.disabled&&s.value!==1&&(s.value=1,b.value=null)},openCombobox(){if(S.value=!0,!e.disabled&&s.value!==0){if(M.value.value){let e=M.calculateIndex(M.value.value);e!==-1&&(b.value=e)}s.value=0}},setActivationTrigger(e){x.value=e},goToOption(t,n,r){S.value=!1,k!==null&&cancelAnimationFrame(k),k=requestAnimationFrame(()=>{if(e.disabled||h.value&&!_.value.static&&s.value===1)return;if(M.virtual.value){b.value=t===Z.Specific?n:Ge({focus:t},{resolveItems:()=>M.virtual.value.options,resolveActiveIndex:()=>{var e,t;return(t=(e=M.activeOptionIndex.value)??M.virtual.value.options.findIndex(e=>{var t;return!((t=M.virtual.value)!=null&&t.disabled(e))}))??null},resolveDisabled:e=>M.virtual.value.disabled(e),resolveId(){throw Error(`Function not implemented.`)}}),x.value=r??2;return}let i=C();if(i.activeOptionIndex===null){let e=i.options.findIndex(e=>!e.dataRef.disabled);e!==-1&&(i.activeOptionIndex=e)}let a=t===Z.Specific?n:Ge({focus:t},{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});b.value=a,x.value=r??2,v.value=i.options})},selectOption(e){let t=v.value.find(t=>t.id===e);if(!t)return;let{dataRef:n}=t;j(n.value)},selectActiveOption(){if(M.activeOptionIndex.value!==null){if(M.virtual.value)j(M.virtual.value.options[M.activeOptionIndex.value]);else{let{dataRef:e}=v.value[M.activeOptionIndex.value];j(e.value)}M.goToOption(Z.Specific,M.activeOptionIndex.value)}},registerOption(e,t){let n=p({id:e,dataRef:t});if(M.virtual.value){v.value.push(n);return}A&&cancelAnimationFrame(A);let r=C(e=>(e.push(n),e));b.value===null&&M.isSelected(t.value.value)&&(r.activeOptionIndex=r.options.indexOf(n)),v.value=r.options,b.value=r.activeOptionIndex,x.value=2,r.options.some(e=>!I(e.dataRef.domRef))&&(A=requestAnimationFrame(()=>{let e=C();v.value=e.options,b.value=e.activeOptionIndex}))},unregisterOption(e,t){if(k!==null&&cancelAnimationFrame(k),t&&(S.value=!0),M.virtual.value){v.value=v.value.filter(t=>t.id!==e);return}let n=C(t=>{let n=t.findIndex(t=>t.id===e);return n!==-1&&t.splice(n,1),t});v.value=n.options,b.value=n.activeOptionIndex,x.value=2},isSelected(e){return L(w.value,{0:()=>M.compare(g(M.value.value),g(e)),1:()=>g(M.value.value).some(t=>M.compare(g(t),g(e)))})},isActive(e){return b.value===M.calculateIndex(e)}};Ee([u,d,h],()=>M.closeCombobox(),i(()=>s.value===0)),f(Qe,M),Ve(i(()=>L(s.value,{0:J.Open,1:J.Closed})));let N=i(()=>{var e;return(e=I(u))?.closest(`form`)});return l(()=>{y([N],()=>{if(!N.value||e.defaultValue===void 0)return;function t(){M.change(e.defaultValue)}return N.value.addEventListener(`reset`,t),()=>{var e;(e=N.value)==null||e.removeEventListener(`reset`,t)}},{immediate:!0})}),()=>{var i,a,c;let{name:l,disabled:u,form:d,...f}=e,p={open:s.value===0,disabled:u,activeIndex:M.activeOptionIndex.value,activeOption:M.activeOptionIndex.value===null?null:M.virtual.value?M.virtual.value.options[(i=M.activeOptionIndex.value)??0]:(c=(a=M.options.value[M.activeOptionIndex.value])?.dataRef.value)??null,value:O.value};return o(n,[...l!=null&&O.value!=null?Q({[l]:O.value}).map(([e,t])=>o(Re,Fe({features:Le.Hidden,key:e,as:`input`,type:`hidden`,hidden:!0,readOnly:!0,form:d,disabled:u,name:e,value:t}))):[],G({theirProps:{...r,...q(f,[`by`,`defaultValue`,`immediate`,`modelValue`,`multiple`,`nullable`,`onUpdate:modelValue`,`virtual`])},ourProps:{},slot:p,slots:t,attrs:r,name:`Combobox`})])}}}),nt=a({name:`ComboboxLabel`,props:{as:{type:[Object,String],default:`label`},id:{type:String,default:null}},setup(e,{attrs:t,slots:n}){var r;let i=(r=e.id)??`headlessui-combobox-label-${F()}`,a=$(`ComboboxLabel`);function o(){var e;(e=I(a.inputRef))==null||e.focus({preventScroll:!0})}return()=>{let r={open:a.comboboxState.value===0,disabled:a.disabled.value},{...s}=e,c={id:i,ref:a.labelRef,onClick:o};return G({ourProps:c,theirProps:s,slot:r,attrs:t,slots:n,name:`ComboboxLabel`})}}}),rt=a({name:`ComboboxButton`,props:{as:{type:[Object,String],default:`button`},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:r}){var a;let o=(a=e.id)??`headlessui-combobox-button-${F()}`,s=$(`ComboboxButton`);r({el:s.buttonRef,$el:s.buttonRef});function l(e){s.disabled.value||(s.comboboxState.value===0?s.closeCombobox():(e.preventDefault(),s.openCombobox()),c(()=>{var e;return(e=I(s.inputRef))?.focus({preventScroll:!0})}))}function u(e){switch(e.key){case Y.ArrowDown:e.preventDefault(),e.stopPropagation(),s.comboboxState.value===1&&s.openCombobox(),c(()=>{var e;return(e=s.inputRef.value)?.focus({preventScroll:!0})});return;case Y.ArrowUp:e.preventDefault(),e.stopPropagation(),s.comboboxState.value===1&&(s.openCombobox(),c(()=>{s.value.value||s.goToOption(Z.Last)})),c(()=>{var e;return(e=s.inputRef.value)?.focus({preventScroll:!0})});return;case Y.Escape:if(s.comboboxState.value!==0)return;e.preventDefault(),s.optionsRef.value&&!s.optionsPropsRef.value.static&&e.stopPropagation(),s.closeCombobox(),c(()=>{var e;return(e=s.inputRef.value)?.focus({preventScroll:!0})});return}}let d=Oe(i(()=>({as:e.as,type:t.type})),s.buttonRef);return()=>{var r,i;let a={open:s.comboboxState.value===0,disabled:s.disabled.value,value:s.value.value},{...c}=e,f={ref:s.buttonRef,id:o,type:d.value,tabindex:`-1`,"aria-haspopup":`listbox`,"aria-controls":(r=I(s.optionsRef))?.id,"aria-expanded":s.comboboxState.value===0,"aria-labelledby":s.labelRef.value?[(i=I(s.labelRef))?.id,o].join(` `):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:u,onClick:l};return G({ourProps:f,theirProps:c,slot:a,attrs:t,slots:n,name:`ComboboxButton`})}}}),it=a({name:`ComboboxInput`,props:{as:{type:[Object,String],default:`input`},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:a}){var o;let s=(o=e.id)??`headlessui-combobox-input-${F()}`,u=$(`ComboboxInput`),d=i(()=>B(I(u.inputRef))),f={value:!1};a({el:u.inputRef,$el:u.inputRef});function p(){u.change(null);let e=I(u.optionsRef);e&&(e.scrollTop=0),u.goToOption(Z.Nothing)}let h=i(()=>{var t;let n=u.value.value;return I(u.inputRef)?e.displayValue!==void 0&&n!==void 0?(t=e.displayValue(n))??``:typeof n==`string`?n:``:``});l(()=>{y([h,u.comboboxState,d],([e,t],[n,r])=>{if(f.value)return;let i=I(u.inputRef);i&&((r===0&&t===1||e!==n)&&(i.value=e),requestAnimationFrame(()=>{var e;if(f.value||!i||(e=d.value)?.activeElement!==i)return;let{selectionStart:t,selectionEnd:n}=i;Math.abs((n??0)-(t??0))===0&&t===0&&i.setSelectionRange(i.value.length,i.value.length)}))},{immediate:!0}),y([u.comboboxState],([e],[t])=>{if(e===0&&t===1){if(f.value)return;let e=I(u.inputRef);if(!e)return;let t=e.value,{selectionStart:n,selectionEnd:r,selectionDirection:i}=e;e.value=``,e.value=t,i===null?e.setSelectionRange(n,r):e.setSelectionRange(n,r,i)}})});let g=m(!1);function _(){g.value=!0}function v(){P().nextFrame(()=>{g.value=!1})}let b=ce();function x(e){switch(f.value=!0,b(()=>{f.value=!1}),e.key){case Y.Enter:if(f.value=!1,u.comboboxState.value!==0||g.value)return;if(e.preventDefault(),e.stopPropagation(),u.activeOptionIndex.value===null){u.closeCombobox();return}u.selectActiveOption(),u.mode.value===0&&u.closeCombobox();break;case Y.ArrowDown:return f.value=!1,e.preventDefault(),e.stopPropagation(),L(u.comboboxState.value,{0:()=>u.goToOption(Z.Next),1:()=>u.openCombobox()});case Y.ArrowUp:return f.value=!1,e.preventDefault(),e.stopPropagation(),L(u.comboboxState.value,{0:()=>u.goToOption(Z.Previous),1:()=>{u.openCombobox(),c(()=>{u.value.value||u.goToOption(Z.Last)})}});case Y.Home:if(e.shiftKey)break;return f.value=!1,e.preventDefault(),e.stopPropagation(),u.goToOption(Z.First);case Y.PageUp:return f.value=!1,e.preventDefault(),e.stopPropagation(),u.goToOption(Z.First);case Y.End:if(e.shiftKey)break;return f.value=!1,e.preventDefault(),e.stopPropagation(),u.goToOption(Z.Last);case Y.PageDown:return f.value=!1,e.preventDefault(),e.stopPropagation(),u.goToOption(Z.Last);case Y.Escape:if(f.value=!1,u.comboboxState.value!==0)return;e.preventDefault(),u.optionsRef.value&&!u.optionsPropsRef.value.static&&e.stopPropagation(),u.nullable.value&&u.mode.value===0&&u.value.value===null&&p(),u.closeCombobox();break;case Y.Tab:if(f.value=!1,u.comboboxState.value!==0)return;u.mode.value===0&&u.activationTrigger.value!==1&&u.selectActiveOption(),u.closeCombobox();break}}function S(e){t(`change`,e),u.nullable.value&&u.mode.value===0&&e.target.value===``&&p(),u.openCombobox()}function C(e){var t,n,r;let i=(t=e.relatedTarget)??X.find(t=>t!==e.currentTarget);if(f.value=!1,!((n=I(u.optionsRef))!=null&&n.contains(i))&&!((r=I(u.buttonRef))!=null&&r.contains(i))&&u.comboboxState.value===0)return e.preventDefault(),u.mode.value===0&&(u.nullable.value&&u.value.value===null?p():u.activationTrigger.value!==1&&u.selectActiveOption()),u.closeCombobox()}function w(e){var t,n,r;let i=(t=e.relatedTarget)??X.find(t=>t!==e.currentTarget);(n=I(u.buttonRef))!=null&&n.contains(i)||(r=I(u.optionsRef))!=null&&r.contains(i)||u.disabled.value||u.immediate.value&&u.comboboxState.value!==0&&(u.openCombobox(),P().nextFrame(()=>{u.setActivationTrigger(1)}))}let T=i(()=>{var t,n,r,i;return(i=(r=(n=e.defaultValue)??(u.defaultValue.value===void 0?null:(t=e.displayValue)?.call(e,u.defaultValue.value)))??u.defaultValue.value)??``});return()=>{var t,i,a,o,c,l,d;let f={open:u.comboboxState.value===0},{displayValue:p,onChange:m,...h}=e,g={"aria-controls":(t=u.optionsRef.value)?.id,"aria-expanded":u.comboboxState.value===0,"aria-activedescendant":u.activeOptionIndex.value===null?void 0:u.virtual.value?(i=u.options.value.find(e=>!u.virtual.value.disabled(e.dataRef.value)&&u.compare(e.dataRef.value,u.virtual.value.options[u.activeOptionIndex.value])))?.id:(a=u.options.value[u.activeOptionIndex.value])?.id,"aria-labelledby":(l=(o=I(u.labelRef))?.id)??(c=I(u.buttonRef))?.id,"aria-autocomplete":`list`,id:s,onCompositionstart:_,onCompositionend:v,onKeydown:x,onInput:S,onFocus:w,onBlur:C,role:`combobox`,type:(d=n.type)??`text`,tabIndex:0,ref:u.inputRef,defaultValue:T.value,disabled:u.disabled.value===!0?!0:void 0};return G({ourProps:g,theirProps:h,slot:f,attrs:n,slots:r,features:W.RenderStrategy|W.Static,name:`ComboboxInput`})}}}),at=a({name:`ComboboxOptions`,props:{as:{type:[Object,String],default:`ul`},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n,expose:r}){let a=$(`ComboboxOptions`),s=`headlessui-combobox-options-${F()}`;r({el:a.optionsRef,$el:a.optionsRef}),b(()=>{a.optionsPropsRef.value.static=e.static}),b(()=>{a.optionsPropsRef.value.hold=e.hold});let c=Be(),l=i(()=>c===null?a.comboboxState.value===0:(c.value&J.Open)===J.Open);je({container:i(()=>I(a.optionsRef)),enabled:i(()=>a.comboboxState.value===0),accept(e){return e.getAttribute(`role`)===`option`?NodeFilter.FILTER_REJECT:e.hasAttribute(`role`)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute(`role`,`none`)}});function u(e){e.preventDefault()}return()=>{var r,i,c;let d={open:a.comboboxState.value===0},f={"aria-labelledby":(c=(r=I(a.labelRef))?.id)??(i=I(a.buttonRef))?.id,id:s,ref:a.optionsRef,role:`listbox`,"aria-multiselectable":a.mode.value===1?!0:void 0,onMousedown:u},p=q(e,[`hold`]);return G({ourProps:f,theirProps:p,slot:d,attrs:t,slots:a.virtual.value&&a.comboboxState.value===0?{...n,default:()=>[o(et,{},n.default)]}:n,features:W.RenderStrategy|W.Static,visible:l.value,name:`ComboboxOptions`})}}}),ot=a({name:`ComboboxOption`,props:{as:{type:[Object,String],default:`li`},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:t,attrs:n,expose:r}){let a=$(`ComboboxOption`),o=`headlessui-combobox-option-${F()}`,u=m(null),f=i(()=>e.disabled);r({el:u,$el:u});let p=i(()=>{var t;return a.virtual.value?a.activeOptionIndex.value===a.calculateIndex(e.value):a.activeOptionIndex.value===null?!1:(t=a.options.value[a.activeOptionIndex.value])?.id===o}),h=i(()=>a.isSelected(e.value)),g=s($e,null),_=i(()=>({disabled:e.disabled,value:e.value,domRef:u,order:i(()=>e.order)}));l(()=>a.registerOption(o,_)),d(()=>a.unregisterOption(o,p.value)),b(()=>{let e=I(u);e&&g?.value.measureElement(e)}),b(()=>{a.comboboxState.value===0&&p.value&&(a.virtual.value||a.activationTrigger.value!==0&&c(()=>{var e,t;return(t=(e=I(u))?.scrollIntoView)?.call(e,{block:`nearest`})}))});function v(e){e.preventDefault(),e.button===He.Left&&(f.value||(a.selectOption(o),we()||requestAnimationFrame(()=>{var e;return(e=I(a.inputRef))?.focus({preventScroll:!0})}),a.mode.value===0&&a.closeCombobox()))}function y(){var t;if(e.disabled||(t=a.virtual.value)!=null&&t.disabled(e.value))return a.goToOption(Z.Nothing);let n=a.calculateIndex(e.value);a.goToOption(Z.Specific,n)}let x=Ae();function S(e){x.update(e)}function C(t){var n;if(!x.wasMoved(t)||e.disabled||(n=a.virtual.value)!=null&&n.disabled(e.value)||p.value)return;let r=a.calculateIndex(e.value);a.goToOption(Z.Specific,r,0)}function w(t){var n;x.wasMoved(t)&&(e.disabled||(n=a.virtual.value)!=null&&n.disabled(e.value)||p.value&&(a.optionsPropsRef.value.hold||a.goToOption(Z.Nothing)))}return()=>{let{disabled:r}=e,i={active:p.value,selected:h.value,disabled:r},a={id:o,ref:u,role:`option`,tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":h.value,disabled:void 0,onMousedown:v,onFocus:y,onPointerenter:S,onMouseenter:S,onPointermove:C,onMousemove:C,onPointerleave:w,onMouseleave:w},s=q(e,[`order`,`value`]);return G({ourProps:a,theirProps:s,slot:i,attrs:n,slots:t,name:`ComboboxOption`})}}});const st={install(e){Object.entries({Combobox:tt,ComboboxInput:it,ComboboxButton:rt,ComboboxOptions:at,ComboboxOption:ot}).forEach(([t,n])=>{e.component(t,n)})}};var ct=st;export{tt as Combobox,rt as ComboboxButton,it as ComboboxInput,ot as ComboboxOption,at as ComboboxOptions,ct as default};
//# sourceMappingURL=index.js.map