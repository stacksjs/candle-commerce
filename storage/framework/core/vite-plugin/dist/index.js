// @bun
import{path as at}from"@stacksjs/path";import{unheadVueComposablesImports as Vt}from"@unhead/vue";import Jt from"unplugin-auto-import/vite";import{VueRouterAutoImports as Yt}from"unplugin-vue-router";function ks(t){return Jt({include:/\.(stx|vue|js|ts|mdx?|html)($|\?)/,imports:["pinia","vue","vue-i18n",Vt,Yt,{"vue-router/auto":["useLink"]}],dts:at.frameworkPath("types/browser-auto-imports.d.ts"),dirs:[at.resourcesPath("components"),at.frameworkPath("defaults/components"),at.resourcesPath("functions"),at.frameworkPath("defaults/functions"),at.resourcesPath("stores"),at.frameworkPath("defaults/stores"),at.browserPath("src")],vueTemplate:!0,eslintrc:{enabled:!0,filepath:at.frameworkPath("browser-auto-imports.json")},...t})}import{path as jt}from"@stacksjs/path";import Kt from"unplugin-vue-components/vite";function Ss(t){return Kt({extensions:["stx","vue","md"],include:/\.(stx|vue|md)($|\?)/,dirs:[jt.resourcesPath("components/"),jt.frameworkPath("defaults/components/")],dts:jt.frameworkPath("types/components.d.ts"),...t})}import{path as Zt}from"@stacksjs/path";import te from"unocss/vite";function Fs(t=!1){return te({configFile:Zt.uiPath("src/uno.config.ts"),mode:t?"shadow-dom":"vue-scoped"})}import{default as Is}from"vite-plugin-vue-devtools";import{kolorist as kt}from"@stacksjs/cli";var Pt="0.70.23";var Gs={name:"stacks-plugin",configureServer(t){t.printUrls=()=>{console.log(`  ${kt.blue(kt.bold("STACKS"))} ${kt.blue(Pt)}`)}}};import se from"@intlify/unplugin-vue-i18n/vite";import{path as re}from"@stacksjs/path";var __dirname="/Users/glennmichaeltorregosa/Documents/Projects/candle-commerce/storage/framework/core/vite-plugin/src";function Xs(){return se({runtimeOnly:!0,compositionOnly:!0,fullInstall:!0,include:[re.resolve(__dirname,"../../../../../../../lang/**")]})}import ie from"vite-plugin-inspect";function Js(t){return ie(t)}import{path as mt}from"@stacksjs/path";import{createRequire as ne}from"module";import{resolve as Fe}from"path";import Bt from"process";import{posix as He}from"path";import Ct,{posix as bt}from"path";import{resolve as Ft}from"path";import{join as ns,parse as os}from"path";var oe=Object.create,{getPrototypeOf:ue,defineProperty:Lt,getOwnPropertyNames:ae}=Object,le=Object.prototype.hasOwnProperty,Ot=(t,u,l)=>{l=t!=null?oe(ue(t)):{};let o=u||!t||!t.__esModule?Lt(l,"default",{value:t,enumerable:!0}):l;for(let d of ae(t))if(!le.call(o,d))Lt(o,d,{get:()=>t[d],enumerable:!0});return o},L=(t,u)=>()=>(u||t((u={exports:{}}).exports,u),u.exports),st=ne(import.meta.url),Mt=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePath=t.isRootDirectory=t.convertSlashes=t.cleanPath=void 0;var u=st("path");function l(i){let s=u.normalize(i);if(s.length>1&&s[s.length-1]===u.sep)s=s.substring(0,s.length-1);return s}t.cleanPath=l;var o=/[\\/]/g;function d(i,s){return i.replace(o,s)}t.convertSlashes=d;function e(i){return i==="/"||/^[a-z]:\\$/i.test(i)}t.isRootDirectory=e;function y(i,s){let{resolvePaths:p,normalizePath:a,pathSeparator:h}=s,r=process.platform==="win32"&&i.includes("/")||i.startsWith(".");if(p)i=u.resolve(i);if(a||r)i=l(i);if(i===".")return"";let c=i[i.length-1]!==h;return d(c?i+h:i,h)}t.normalizePath=y}),pe=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.build=t.joinDirectoryPath=t.joinPathWithBasePath=void 0;var u=st("path"),l=Mt();function o(s,p){return p+s}t.joinPathWithBasePath=o;function d(s,p){return function(a,h){if(h.startsWith(s))return h.replace(s,"")+a;else return l.convertSlashes(u.relative(s,h),p.pathSeparator)+p.pathSeparator+a}}function e(s){return s}function y(s,p,a){return p+s+a}t.joinDirectoryPath=y;function i(s,p){let{relativePaths:a,includeBasePath:h}=p;return a&&s?d(s,p):h?o:e}t.build=i}),ce=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.build=void 0;function u(i){return function(s,p){p.push(s.substring(i.length)||".")}}function l(i){return function(s,p,a){let h=s.substring(i.length)||".";if(a.every((r)=>r(h,!0)))p.push(h)}}var o=(i,s)=>{s.push(i||".")},d=(i,s,p)=>{let a=i||".";if(p.every((h)=>h(a,!0)))s.push(a)},e=()=>{};function y(i,s){let{includeDirs:p,filters:a,relativePaths:h}=s;if(!p)return e;if(h)return a&&a.length?l(i):u(i);return a&&a.length?d:o}t.build=y}),de=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.build=void 0;var u=(i,s,p,a)=>{if(a.every((h)=>h(i,!1)))p.files++},l=(i,s,p,a)=>{if(a.every((h)=>h(i,!1)))s.push(i)},o=(i,s,p,a)=>{p.files++},d=(i,s)=>{s.push(i)},e=()=>{};function y(i){let{excludeFiles:s,filters:p,onlyCounts:a}=i;if(s)return e;if(p&&p.length)return a?u:l;else if(a)return o;else return d}t.build=y}),he=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.build=void 0;var u=(d)=>{return d},l=()=>{return[""].slice(0,0)};function o(d){return d.group?l:u}t.build=o}),fe=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.build=void 0;var u=(d,e,y)=>{d.push({directory:e,files:y,dir:e})},l=()=>{};function o(d){return d.group?u:l}t.build=o}),ye=L((t)=>{var u=t&&t.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.build=void 0;var l=u(st("fs")),o=st("path"),d=function(p,a,h){let{queue:r,options:{suppressErrors:c}}=a;r.enqueue(),l.default.realpath(p,(n,v)=>{if(n)return r.dequeue(c?null:n,a);l.default.stat(v,(A,_)=>{if(A)return r.dequeue(c?null:A,a);if(_.isDirectory()&&i(p,v,a))return r.dequeue(null,a);h(_,v),r.dequeue(null,a)})})},e=function(p,a,h){let{queue:r,options:{suppressErrors:c}}=a;r.enqueue();try{let n=l.default.realpathSync(p),v=l.default.statSync(n);if(v.isDirectory()&&i(p,n,a))return;h(v,n)}catch(n){if(!c)throw n}};function y(p,a){if(!p.resolveSymlinks||p.excludeSymlinks)return null;return a?e:d}t.build=y;function i(p,a,h){if(h.options.useRealPaths)return s(a,h);let r=o.dirname(p),c=1;while(r!==h.root&&c<2){let n=h.symlinks.get(r);if(!!n&&(n===a||n.startsWith(a)||a.startsWith(n)))c++;else r=o.dirname(r)}return h.symlinks.set(p,a),c>1}function s(p,a){return a.visited.includes(p+a.options.pathSeparator)}}),me=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.build=void 0;var u=(h)=>{return h.counts},l=(h)=>{return h.groups},o=(h)=>{return h.paths},d=(h)=>{return h.paths.slice(0,h.options.maxFiles)},e=(h,r,c)=>{return p(r,c,h.counts,h.options.suppressErrors),null},y=(h,r,c)=>{return p(r,c,h.paths,h.options.suppressErrors),null},i=(h,r,c)=>{return p(r,c,h.paths.slice(0,h.options.maxFiles),h.options.suppressErrors),null},s=(h,r,c)=>{return p(r,c,h.groups,h.options.suppressErrors),null};function p(h,r,c,n){if(h&&!n)r(h,c);else r(null,c)}function a(h,r){let{onlyCounts:c,group:n,maxFiles:v}=h;if(c)return r?u:e;else if(n)return r?l:s;else if(v)return r?d:i;else return r?o:y}t.build=a}),ge=L((t)=>{var u=t&&t.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0}),t.build=void 0;var l=u(st("fs")),o={withFileTypes:!0},d=(i,s,p,a,h)=>{if(a<0)return i.queue.dequeue(null,i);i.visited.push(s),i.counts.directories++,i.queue.enqueue(),l.default.readdir(s||".",o,(r,c=[])=>{h(c,p,a),i.queue.dequeue(i.options.suppressErrors?null:r,i)})},e=(i,s,p,a,h)=>{if(a<0)return;i.visited.push(s),i.counts.directories++;let r=[];try{r=l.default.readdirSync(s||".",o)}catch(c){if(!i.options.suppressErrors)throw c}h(r,p,a)};function y(i){return i?e:d}t.build=y}),ve=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;class u{onQueueEmpty;count=0;constructor(l){this.onQueueEmpty=l}enqueue(){this.count++}dequeue(l,o){if(--this.count<=0||l)this.onQueueEmpty(l,o)}}t.Queue=u}),be=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Counter=void 0;class u{_files=0;_directories=0;set files(l){this._files=l}get files(){return this._files}set directories(l){this._directories=l}get directories(){return this._directories}get dirs(){return this._directories}}t.Counter=u}),Dt=L((t)=>{var u=t&&t.__createBinding||(Object.create?function(_,C,E,S){if(S===void 0)S=E;var k=Object.getOwnPropertyDescriptor(C,E);if(!k||("get"in k?!C.__esModule:k.writable||k.configurable))k={enumerable:!0,get:function(){return C[E]}};Object.defineProperty(_,S,k)}:function(_,C,E,S){if(S===void 0)S=E;_[S]=C[E]}),l=t&&t.__setModuleDefault||(Object.create?function(_,C){Object.defineProperty(_,"default",{enumerable:!0,value:C})}:function(_,C){_.default=C}),o=t&&t.__importStar||function(_){if(_&&_.__esModule)return _;var C={};if(_!=null){for(var E in _)if(E!=="default"&&Object.prototype.hasOwnProperty.call(_,E))u(C,_,E)}return l(C,_),C};Object.defineProperty(t,"__esModule",{value:!0}),t.Walker=void 0;var d=st("path"),e=Mt(),y=o(pe()),i=o(ce()),s=o(de()),p=o(he()),a=o(fe()),h=o(ye()),r=o(me()),c=o(ge()),n=ve(),v=be();class A{root;isSynchronous;state;joinPath;pushDirectory;pushFile;getArray;groupFiles;resolveSymlink;walkDirectory;callbackInvoker;constructor(_,C,E){this.isSynchronous=!E,this.callbackInvoker=r.build(C,this.isSynchronous),this.root=e.normalizePath(_,C),this.state={root:e.isRootDirectory(this.root)?this.root:this.root.slice(0,-1),paths:[""].slice(0,0),groups:[],counts:new v.Counter,options:C,queue:new n.Queue((S,k)=>this.callbackInvoker(k,S,E)),symlinks:new Map,visited:[""].slice(0,0)},this.joinPath=y.build(this.root,C),this.pushDirectory=i.build(this.root,C),this.pushFile=s.build(C),this.getArray=p.build(C),this.groupFiles=a.build(C),this.resolveSymlink=h.build(C,this.isSynchronous),this.walkDirectory=c.build(this.isSynchronous)}start(){return this.walkDirectory(this.state,this.root,this.root,this.state.options.maxDepth,this.walk),this.isSynchronous?this.callbackInvoker(this.state,null):null}walk=(_,C,E)=>{let{paths:S,options:{filters:k,resolveSymlinks:V,excludeSymlinks:w,exclude:B,maxFiles:I,signal:N,useRealPaths:H,pathSeparator:rt}}=this.state;if(N&&N.aborted||I&&S.length>I)return;this.pushDirectory(C,S,k);let G=this.getArray(this.state.paths);for(let O=0;O<_.length;++O){let T=_[O];if(T.isFile()||T.isSymbolicLink()&&!V&&!w){let q=this.joinPath(T.name,C);this.pushFile(q,G,this.state.counts,k)}else if(T.isDirectory()){let q=y.joinDirectoryPath(T.name,C,this.state.options.pathSeparator);if(B&&B(T.name,q))continue;this.walkDirectory(this.state,q,q,E-1,this.walk)}else if(T.isSymbolicLink()&&this.resolveSymlink){let q=y.joinPathWithBasePath(T.name,C);this.resolveSymlink(q,this.state,(ut,M)=>{if(ut.isDirectory()){if(M=e.normalizePath(M,this.state.options),B&&B(T.name,H?M:q+rt))return;this.walkDirectory(this.state,M,H?M:q+rt,E-1,this.walk)}else{M=H?M:q;let D=d.basename(M),it=e.normalizePath(d.dirname(M),this.state.options);M=this.joinPath(D,it),this.pushFile(M,G,this.state.counts,k)}})}}this.groupFiles(this.state.groups,C,G)}}t.Walker=A}),xe=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.callback=t.promise=void 0;var u=Dt();function l(d,e){return new Promise((y,i)=>{o(d,e,(s,p)=>{if(s)return i(s);y(p)})})}t.promise=l;function o(d,e,y){new u.Walker(d,e,y).start()}t.callback=o}),Ce=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sync=void 0;var u=Dt();function l(o,d){return new u.Walker(o,d).start()}t.sync=l}),_e=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.APIBuilder=void 0;var u=xe(),l=Ce();class o{root;options;constructor(d,e){this.root=d,this.options=e}withPromise(){return u.promise(this.root,this.options)}withCallback(d){u.callback(this.root,this.options,d)}sync(){return l.sync(this.root,this.options)}}t.APIBuilder=o}),At=L((t,u)=>{var l={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)",SEP:"/"},o={...l,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)",SEP:"\\"},d={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};u.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:d,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?o:l}}}),Rt=L((t)=>{var{REGEX_BACKSLASH:u,REGEX_REMOVE_BACKSLASH:l,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:d}=At();t.isObject=(e)=>e!==null&&typeof e==="object"&&!Array.isArray(e),t.hasRegexChars=(e)=>o.test(e),t.isRegexChar=(e)=>e.length===1&&t.hasRegexChars(e),t.escapeRegex=(e)=>e.replace(d,"\\$1"),t.toPosixSlashes=(e)=>e.replace(u,"/"),t.isWindows=()=>{if(typeof navigator!=="undefined"&&navigator.platform){let e=navigator.platform.toLowerCase();return e==="win32"||e==="windows"}if(typeof process!=="undefined"&&process.platform)return process.platform==="win32";return!1},t.removeBackslashes=(e)=>{return e.replace(l,(y)=>{return y==="\\"?"":y})},t.escapeLast=(e,y,i)=>{let s=e.lastIndexOf(y,i);if(s===-1)return e;if(e[s-1]==="\\")return t.escapeLast(e,y,s-1);return`${e.slice(0,s)}\\${e.slice(s)}`},t.removePrefix=(e,y={})=>{let i=e;if(i.startsWith("./"))i=i.slice(2),y.prefix="./";return i},t.wrapOutput=(e,y={},i={})=>{let s=i.contains?"":"^",p=i.contains?"":"$",a=`${s}(?:${e})${p}`;if(y.negated===!0)a=`(?:^(?!${a}).*$)`;return a},t.basename=(e,{windows:y}={})=>{let i=e.split(y?/[\\/]/:"/"),s=i[i.length-1];if(s==="")return i[i.length-2];return s}}),Ae=L((t,u)=>{var l=Rt(),{CHAR_ASTERISK:o,CHAR_AT:d,CHAR_BACKWARD_SLASH:e,CHAR_COMMA:y,CHAR_DOT:i,CHAR_EXCLAMATION_MARK:s,CHAR_FORWARD_SLASH:p,CHAR_LEFT_CURLY_BRACE:a,CHAR_LEFT_PARENTHESES:h,CHAR_LEFT_SQUARE_BRACKET:r,CHAR_PLUS:c,CHAR_QUESTION_MARK:n,CHAR_RIGHT_CURLY_BRACE:v,CHAR_RIGHT_PARENTHESES:A,CHAR_RIGHT_SQUARE_BRACKET:_}=At(),C=(k)=>{return k===p||k===e},E=(k)=>{if(k.isPrefix!==!0)k.depth=k.isGlobstar?1/0:1},S=(k,V)=>{let w=V||{},B=k.length-1,I=w.parts===!0||w.scanToEnd===!0,N=[],H=[],rt=[],G=k,O=-1,T=0,q=0,ut=!1,M=!1,D=!1,it=!1,J=!1,g=!1,Q=!1,nt=!1,ct=!1,f=!1,m=0,lt,R,P={value:"",depth:0,isGlob:!1},et=()=>O>=B,ot=()=>G.charCodeAt(O+1),z=()=>{return lt=R,G.charCodeAt(++O)};while(O<B){R=z();let Y;if(R===e){if(Q=P.backslashes=!0,R=z(),R===a)g=!0;continue}if(g===!0||R===a){m++;while(et()!==!0&&(R=z())){if(R===e){Q=P.backslashes=!0,z();continue}if(R===a){m++;continue}if(g!==!0&&R===i&&(R=z())===i){if(ut=P.isBrace=!0,D=P.isGlob=!0,f=!0,I===!0)continue;break}if(g!==!0&&R===y){if(ut=P.isBrace=!0,D=P.isGlob=!0,f=!0,I===!0)continue;break}if(R===v){if(m--,m===0){g=!1,ut=P.isBrace=!0,f=!0;break}}}if(I===!0)continue;break}if(R===p){if(N.push(O),H.push(P),P={value:"",depth:0,isGlob:!1},f===!0)continue;if(lt===i&&O===T+1){T+=2;continue}q=O+1;continue}if(w.noext!==!0){if((R===c||R===d||R===o||R===n||R===s)===!0&&ot()===h){if(D=P.isGlob=!0,it=P.isExtglob=!0,f=!0,R===s&&O===T)ct=!0;if(I===!0){while(et()!==!0&&(R=z())){if(R===e){Q=P.backslashes=!0,R=z();continue}if(R===A){D=P.isGlob=!0,f=!0;break}}continue}break}}if(R===o){if(lt===o)J=P.isGlobstar=!0;if(D=P.isGlob=!0,f=!0,I===!0)continue;break}if(R===n){if(D=P.isGlob=!0,f=!0,I===!0)continue;break}if(R===r){while(et()!==!0&&(Y=z())){if(Y===e){Q=P.backslashes=!0,z();continue}if(Y===_){M=P.isBracket=!0,D=P.isGlob=!0,f=!0;break}}if(I===!0)continue;break}if(w.nonegate!==!0&&R===s&&O===T){nt=P.negated=!0,T++;continue}if(w.noparen!==!0&&R===h){if(D=P.isGlob=!0,I===!0){while(et()!==!0&&(R=z())){if(R===h){Q=P.backslashes=!0,R=z();continue}if(R===A){f=!0;break}}continue}break}if(D===!0){if(f=!0,I===!0)continue;break}}if(w.noext===!0)it=!1,D=!1;let X=G,pt="",tt="";if(T>0)pt=G.slice(0,T),G=G.slice(T),q-=T;if(X&&D===!0&&q>0)X=G.slice(0,q),tt=G.slice(q);else if(D===!0)X="",tt=G;else X=G;if(X&&X!==""&&X!=="/"&&X!==G){if(C(X.charCodeAt(X.length-1)))X=X.slice(0,-1)}if(w.unescape===!0){if(tt)tt=l.removeBackslashes(tt);if(X&&Q===!0)X=l.removeBackslashes(X)}let j={prefix:pt,input:k,start:T,base:X,glob:tt,isBrace:ut,isBracket:M,isGlob:D,isExtglob:it,isGlobstar:J,negated:nt,negatedExtglob:ct};if(w.tokens===!0){if(j.maxDepth=0,!C(R))H.push(P);j.tokens=H}if(w.parts===!0||w.tokens===!0){let Y;for(let K=0;K<N.length;K++){let x=Y?Y+1:T,F=N[K],b=k.slice(x,F);if(w.tokens){if(K===0&&T!==0)H[K].isPrefix=!0,H[K].value=pt;else H[K].value=b;E(H[K]),j.maxDepth+=H[K].depth}if(K!==0||b!=="")rt.push(b);Y=F}if(Y&&Y+1<k.length){let K=k.slice(Y+1);if(rt.push(K),w.tokens)H[H.length-1].value=K,E(H[H.length-1]),j.maxDepth+=H[H.length-1].depth}j.slashes=N,j.parts=rt}return j};u.exports=S}),Re=L((t,u)=>{var l=At(),o=Rt(),{MAX_LENGTH:d,POSIX_REGEX_SOURCE:e,REGEX_NON_SPECIAL_CHARS:y,REGEX_SPECIAL_CHARS_BACKREF:i,REPLACEMENTS:s}=l,p=(r,c)=>{if(typeof c.expandRange==="function")return c.expandRange(...r,c);r.sort();let n=`[${r.join("-")}]`;try{new RegExp(n)}catch(v){return r.map((A)=>o.escapeRegex(A)).join("..")}return n},a=(r,c)=>{return`Missing ${r}: "${c}" - use "\\\\${c}" to match literal characters`},h=(r,c)=>{if(typeof r!=="string")throw new TypeError("Expected a string");r=s[r]||r;let n={...c},v=typeof n.maxLength==="number"?Math.min(d,n.maxLength):d,A=r.length;if(A>v)throw new SyntaxError(`Input length: ${A}, exceeds maximum allowed length: ${v}`);let _={type:"bos",value:"",output:n.prepend||""},C=[_],E=n.capture?"":"?:",S=l.globChars(n.windows),k=l.extglobChars(S),{DOT_LITERAL:V,PLUS_LITERAL:w,SLASH_LITERAL:B,ONE_CHAR:I,DOTS_SLASH:N,NO_DOT:H,NO_DOT_SLASH:rt,NO_DOTS_SLASH:G,QMARK:O,QMARK_NO_DOT:T,STAR:q,START_ANCHOR:ut}=S,M=(x)=>{return`(${E}(?:(?!${ut}${x.dot?N:V}).)*?)`},D=n.dot?"":H,it=n.dot?O:T,J=n.bash===!0?M(n):q;if(n.capture)J=`(${J})`;if(typeof n.noext==="boolean")n.noextglob=n.noext;let g={input:r,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:C};r=o.removePrefix(r,g),A=r.length;let Q=[],nt=[],ct=[],f=_,m,lt=()=>g.index===A-1,R=g.peek=(x=1)=>r[g.index+x],P=g.advance=()=>r[++g.index]||"",et=()=>r.slice(g.index+1),ot=(x="",F=0)=>{g.consumed+=x,g.index+=F},z=(x)=>{g.output+=x.output!=null?x.output:x.value,ot(x.value)},X=()=>{let x=1;while(R()==="!"&&(R(2)!=="("||R(3)==="?"))P(),g.start++,x++;if(x%2===0)return!1;return g.negated=!0,g.start++,!0},pt=(x)=>{g[x]++,ct.push(x)},tt=(x)=>{g[x]--,ct.pop()},j=(x)=>{if(f.type==="globstar"){let F=g.braces>0&&(x.type==="comma"||x.type==="brace"),b=x.extglob===!0||Q.length&&(x.type==="pipe"||x.type==="paren");if(x.type!=="slash"&&x.type!=="paren"&&!F&&!b)g.output=g.output.slice(0,-f.output.length),f.type="star",f.value="*",f.output=J,g.output+=f.output}if(Q.length&&x.type!=="paren")Q[Q.length-1].inner+=x.value;if(x.value||x.output)z(x);if(f&&f.type==="text"&&x.type==="text"){f.output=(f.output||f.value)+x.value,f.value+=x.value;return}x.prev=f,C.push(x),f=x},Y=(x,F)=>{let b={...k[F],conditions:1,inner:""};b.prev=f,b.parens=g.parens,b.output=g.output;let $=(n.capture?"(":"")+b.open;pt("parens"),j({type:x,value:F,output:g.output?"":I}),j({type:"paren",extglob:!0,value:P(),output:$}),Q.push(b)},K=(x)=>{let F=x.close+(n.capture?")":""),b;if(x.type==="negate"){let $=J;if(x.inner&&x.inner.length>1&&x.inner.includes("/"))$=M(n);if($!==J||lt()||/^\)+$/.test(et()))F=x.close=`)$))${$}`;if(x.inner.includes("*")&&(b=et())&&/^\.[^\\/.]+$/.test(b)){let U=h(b,{...c,fastpaths:!1}).output;F=x.close=`)${U})${$})`}if(x.prev.type==="bos")g.negatedExtglob=!0}j({type:"paren",extglob:!0,value:m,output:F}),tt("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(r)){let x=!1,F=r.replace(i,(b,$,U,Z,W,Et)=>{if(Z==="\\")return x=!0,b;if(Z==="?"){if($)return $+Z+(W?O.repeat(W.length):"");if(Et===0)return it+(W?O.repeat(W.length):"");return O.repeat(U.length)}if(Z===".")return V.repeat(U.length);if(Z==="*"){if($)return $+Z+(W?J:"");return J}return $?b:`\\${b}`});if(x===!0)if(n.unescape===!0)F=F.replace(/\\/g,"");else F=F.replace(/\\+/g,(b)=>{return b.length%2===0?"\\\\":b?"\\":""});if(F===r&&n.contains===!0)return g.output=r,g;return g.output=o.wrapOutput(F,g,c),g}while(!lt()){if(m=P(),m==="\x00")continue;if(m==="\\"){let b=R();if(b==="/"&&n.bash!==!0)continue;if(b==="."||b===";")continue;if(!b){m+="\\",j({type:"text",value:m});continue}let $=/^\\+/.exec(et()),U=0;if($&&$[0].length>2){if(U=$[0].length,g.index+=U,U%2!==0)m+="\\"}if(n.unescape===!0)m=P();else m+=P();if(g.brackets===0){j({type:"text",value:m});continue}}if(g.brackets>0&&(m!=="]"||f.value==="["||f.value==="[^")){if(n.posix!==!1&&m===":"){let b=f.value.slice(1);if(b.includes("[")){if(f.posix=!0,b.includes(":")){let $=f.value.lastIndexOf("["),U=f.value.slice(0,$),Z=f.value.slice($+2),W=e[Z];if(W){if(f.value=U+W,g.backtrack=!0,P(),!_.output&&C.indexOf(f)===1)_.output=I;continue}}}}if(m==="["&&R()!==":"||m==="-"&&R()==="]")m=`\\${m}`;if(m==="]"&&(f.value==="["||f.value==="[^"))m=`\\${m}`;if(n.posix===!0&&m==="!"&&f.value==="[")m="^";f.value+=m,z({value:m});continue}if(g.quotes===1&&m!=='"'){m=o.escapeRegex(m),f.value+=m,z({value:m});continue}if(m==='"'){if(g.quotes=g.quotes===1?0:1,n.keepQuotes===!0)j({type:"text",value:m});continue}if(m==="("){pt("parens"),j({type:"paren",value:m});continue}if(m===")"){if(g.parens===0&&n.strictBrackets===!0)throw new SyntaxError(a("opening","("));let b=Q[Q.length-1];if(b&&g.parens===b.parens+1){K(Q.pop());continue}j({type:"paren",value:m,output:g.parens?")":"\\)"}),tt("parens");continue}if(m==="["){if(n.nobracket===!0||!et().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(a("closing","]"));m=`\\${m}`}else pt("brackets");j({type:"bracket",value:m});continue}if(m==="]"){if(n.nobracket===!0||f&&f.type==="bracket"&&f.value.length===1){j({type:"text",value:m,output:`\\${m}`});continue}if(g.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(a("opening","["));j({type:"text",value:m,output:`\\${m}`});continue}tt("brackets");let b=f.value.slice(1);if(f.posix!==!0&&b[0]==="^"&&!b.includes("/"))m=`/${m}`;if(f.value+=m,z({value:m}),n.literalBrackets===!1||o.hasRegexChars(b))continue;let $=o.escapeRegex(f.value);if(g.output=g.output.slice(0,-f.value.length),n.literalBrackets===!0){g.output+=$,f.value=$;continue}f.value=`(${E}${$}|${f.value})`,g.output+=f.value;continue}if(m==="{"&&n.nobrace!==!0){pt("braces");let b={type:"brace",value:m,output:"(",outputIndex:g.output.length,tokensIndex:g.tokens.length};nt.push(b),j(b);continue}if(m==="}"){let b=nt[nt.length-1];if(n.nobrace===!0||!b){j({type:"text",value:m,output:m});continue}let $=")";if(b.dots===!0){let U=C.slice(),Z=[];for(let W=U.length-1;W>=0;W--){if(C.pop(),U[W].type==="brace")break;if(U[W].type!=="dots")Z.unshift(U[W].value)}$=p(Z,n),g.backtrack=!0}if(b.comma!==!0&&b.dots!==!0){let U=g.output.slice(0,b.outputIndex),Z=g.tokens.slice(b.tokensIndex);b.value=b.output="\\{",m=$="\\}",g.output=U;for(let W of Z)g.output+=W.output||W.value}j({type:"brace",value:m,output:$}),tt("braces"),nt.pop();continue}if(m==="|"){if(Q.length>0)Q[Q.length-1].conditions++;j({type:"text",value:m});continue}if(m===","){let b=m,$=nt[nt.length-1];if($&&ct[ct.length-1]==="braces")$.comma=!0,b="|";j({type:"comma",value:m,output:b});continue}if(m==="/"){if(f.type==="dot"&&g.index===g.start+1){g.start=g.index+1,g.consumed="",g.output="",C.pop(),f=_;continue}j({type:"slash",value:m,output:B});continue}if(m==="."){if(g.braces>0&&f.type==="dot"){if(f.value===".")f.output=V;let b=nt[nt.length-1];f.type="dots",f.output+=m,f.value+=m,b.dots=!0;continue}if(g.braces+g.parens===0&&f.type!=="bos"&&f.type!=="slash"){j({type:"text",value:m,output:V});continue}j({type:"dot",value:m,output:V});continue}if(m==="?"){if(!(f&&f.value==="(")&&n.noextglob!==!0&&R()==="("&&R(2)!=="?"){Y("qmark",m);continue}if(f&&f.type==="paren"){let b=R(),$=m;if(f.value==="("&&!/[!=<:]/.test(b)||b==="<"&&!/<([!=]|\w+>)/.test(et()))$=`\\${m}`;j({type:"text",value:m,output:$});continue}if(n.dot!==!0&&(f.type==="slash"||f.type==="bos")){j({type:"qmark",value:m,output:T});continue}j({type:"qmark",value:m,output:O});continue}if(m==="!"){if(n.noextglob!==!0&&R()==="("){if(R(2)!=="?"||!/[!=<:]/.test(R(3))){Y("negate",m);continue}}if(n.nonegate!==!0&&g.index===0){X();continue}}if(m==="+"){if(n.noextglob!==!0&&R()==="("&&R(2)!=="?"){Y("plus",m);continue}if(f&&f.value==="("||n.regex===!1){j({type:"plus",value:m,output:w});continue}if(f&&(f.type==="bracket"||f.type==="paren"||f.type==="brace")||g.parens>0){j({type:"plus",value:m});continue}j({type:"plus",value:w});continue}if(m==="@"){if(n.noextglob!==!0&&R()==="("&&R(2)!=="?"){j({type:"at",extglob:!0,value:m,output:""});continue}j({type:"text",value:m});continue}if(m!=="*"){if(m==="$"||m==="^")m=`\\${m}`;let b=y.exec(et());if(b)m+=b[0],g.index+=b[0].length;j({type:"text",value:m});continue}if(f&&(f.type==="globstar"||f.star===!0)){f.type="star",f.star=!0,f.value+=m,f.output=J,g.backtrack=!0,g.globstar=!0,ot(m);continue}let x=et();if(n.noextglob!==!0&&/^\([^?]/.test(x)){Y("star",m);continue}if(f.type==="star"){if(n.noglobstar===!0){ot(m);continue}let b=f.prev,$=b.prev,U=b.type==="slash"||b.type==="bos",Z=$&&($.type==="star"||$.type==="globstar");if(n.bash===!0&&(!U||x[0]&&x[0]!=="/")){j({type:"star",value:m,output:""});continue}let W=g.braces>0&&(b.type==="comma"||b.type==="brace"),Et=Q.length&&(b.type==="pipe"||b.type==="paren");if(!U&&b.type!=="paren"&&!W&&!Et){j({type:"star",value:m,output:""});continue}while(x.slice(0,3)==="/**"){let gt=r[g.index+4];if(gt&&gt!=="/")break;x=x.slice(3),ot("/**",3)}if(b.type==="bos"&&lt()){f.type="globstar",f.value+=m,f.output=M(n),g.output=f.output,g.globstar=!0,ot(m);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&!Z&&lt()){g.output=g.output.slice(0,-(b.output+f.output).length),b.output=`(?:${b.output}`,f.type="globstar",f.output=M(n)+(n.strictSlashes?")":"|$)"),f.value+=m,g.globstar=!0,g.output+=b.output+f.output,ot(m);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&x[0]==="/"){let gt=x[1]!==void 0?"|$":"";g.output=g.output.slice(0,-(b.output+f.output).length),b.output=`(?:${b.output}`,f.type="globstar",f.output=`${M(n)}${B}|${B}${gt})`,f.value+=m,g.output+=b.output+f.output,g.globstar=!0,ot(m+P()),j({type:"slash",value:"/",output:""});continue}if(b.type==="bos"&&x[0]==="/"){f.type="globstar",f.value+=m,f.output=`(?:^|${B}|${M(n)}${B})`,g.output=f.output,g.globstar=!0,ot(m+P()),j({type:"slash",value:"/",output:""});continue}g.output=g.output.slice(0,-f.output.length),f.type="globstar",f.output=M(n),f.value+=m,g.output+=f.output,g.globstar=!0,ot(m);continue}let F={type:"star",value:m,output:J};if(n.bash===!0){if(F.output=".*?",f.type==="bos"||f.type==="slash")F.output=D+F.output;j(F);continue}if(f&&(f.type==="bracket"||f.type==="paren")&&n.regex===!0){F.output=m,j(F);continue}if(g.index===g.start||f.type==="slash"||f.type==="dot"){if(f.type==="dot")g.output+=rt,f.output+=rt;else if(n.dot===!0)g.output+=G,f.output+=G;else g.output+=D,f.output+=D;if(R()!=="*")g.output+=I,f.output+=I}j(F)}while(g.brackets>0){if(n.strictBrackets===!0)throw new SyntaxError(a("closing","]"));g.output=o.escapeLast(g.output,"["),tt("brackets")}while(g.parens>0){if(n.strictBrackets===!0)throw new SyntaxError(a("closing",")"));g.output=o.escapeLast(g.output,"("),tt("parens")}while(g.braces>0){if(n.strictBrackets===!0)throw new SyntaxError(a("closing","}"));g.output=o.escapeLast(g.output,"{"),tt("braces")}if(n.strictSlashes!==!0&&(f.type==="star"||f.type==="bracket"))j({type:"maybe_slash",value:"",output:`${B}?`});if(g.backtrack===!0){g.output="";for(let x of g.tokens)if(g.output+=x.output!=null?x.output:x.value,x.suffix)g.output+=x.suffix}return g};h.fastpaths=(r,c)=>{let n={...c},v=typeof n.maxLength==="number"?Math.min(d,n.maxLength):d,A=r.length;if(A>v)throw new SyntaxError(`Input length: ${A}, exceeds maximum allowed length: ${v}`);r=s[r]||r;let{DOT_LITERAL:_,SLASH_LITERAL:C,ONE_CHAR:E,DOTS_SLASH:S,NO_DOT:k,NO_DOTS:V,NO_DOTS_SLASH:w,STAR:B,START_ANCHOR:I}=l.globChars(n.windows),N=n.dot?V:k,H=n.dot?w:k,rt=n.capture?"":"?:",G={negated:!1,prefix:""},O=n.bash===!0?".*?":B;if(n.capture)O=`(${O})`;let T=(D)=>{if(D.noglobstar===!0)return O;return`(${rt}(?:(?!${I}${D.dot?S:_}).)*?)`},q=(D)=>{switch(D){case"*":return`${N}${E}${O}`;case".*":return`${_}${E}${O}`;case"*.*":return`${N}${O}${_}${E}${O}`;case"*/*":return`${N}${O}${C}${E}${H}${O}`;case"**":return N+T(n);case"**/*":return`(?:${N}${T(n)}${C})?${H}${E}${O}`;case"**/*.*":return`(?:${N}${T(n)}${C})?${H}${O}${_}${E}${O}`;case"**/.*":return`(?:${N}${T(n)}${C})?${_}${E}${O}`;default:{let it=/^(.*?)\.(\w+)$/.exec(D);if(!it)return;let J=q(it[1]);if(!J)return;return J+_+it[2]}}},ut=o.removePrefix(r,G),M=q(ut);if(M&&n.strictSlashes!==!0)M+=`${C}?`;return M},u.exports=h}),Ee=L((t,u)=>{var l=Ae(),o=Re(),d=Rt(),e=At(),y=(s)=>s&&typeof s==="object"&&!Array.isArray(s),i=(s,p,a=!1)=>{if(Array.isArray(s)){let C=s.map((E)=>i(E,p,a));return(E)=>{for(let S of C){let k=S(E);if(k)return k}return!1}}let h=y(s)&&s.tokens&&s.input;if(s===""||typeof s!=="string"&&!h)throw new TypeError("Expected pattern to be a non-empty string");let r=p||{},c=r.windows,n=h?i.compileRe(s,p):i.makeRe(s,p,!1,!0),v=n.state;delete n.state;let A=()=>!1;if(r.ignore){let C={...p,ignore:null,onMatch:null,onResult:null};A=i(r.ignore,C,a)}let _=(C,E=!1)=>{let{isMatch:S,match:k,output:V}=i.test(C,n,p,{glob:s,posix:c}),w={glob:s,state:v,regex:n,posix:c,input:C,output:V,match:k,isMatch:S};if(typeof r.onResult==="function")r.onResult(w);if(S===!1)return w.isMatch=!1,E?w:!1;if(A(C)){if(typeof r.onIgnore==="function")r.onIgnore(w);return w.isMatch=!1,E?w:!1}if(typeof r.onMatch==="function")r.onMatch(w);return E?w:!0};if(a)_.state=v;return _};i.test=(s,p,a,{glob:h,posix:r}={})=>{if(typeof s!=="string")throw new TypeError("Expected input to be a string");if(s==="")return{isMatch:!1,output:""};let c=a||{},n=c.format||(r?d.toPosixSlashes:null),v=s===h,A=v&&n?n(s):s;if(v===!1)A=n?n(s):s,v=A===h;if(v===!1||c.capture===!0)if(c.matchBase===!0||c.basename===!0)v=i.matchBase(s,p,a,r);else v=p.exec(A);return{isMatch:Boolean(v),match:v,output:A}},i.matchBase=(s,p,a)=>{return(p instanceof RegExp?p:i.makeRe(p,a)).test(d.basename(s))},i.isMatch=(s,p,a)=>i(p,a)(s),i.parse=(s,p)=>{if(Array.isArray(s))return s.map((a)=>i.parse(a,p));return o(s,{...p,fastpaths:!1})},i.scan=(s,p)=>l(s,p),i.compileRe=(s,p,a=!1,h=!1)=>{if(a===!0)return s.output;let r=p||{},c=r.contains?"":"^",n=r.contains?"":"$",v=`${c}(?:${s.output})${n}`;if(s&&s.negated===!0)v=`^(?!${v}).*$`;let A=i.toRegex(v,p);if(h===!0)A.state=s;return A},i.makeRe=(s,p={},a=!1,h=!1)=>{if(!s||typeof s!=="string")throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};if(p.fastpaths!==!1&&(s[0]==="."||s[0]==="*"))r.output=o.fastpaths(s,p);if(!r.output)r=o(s,p);return i.compileRe(r,p,a,h)},i.toRegex=(s,p)=>{try{let a=p||{};return new RegExp(s,a.flags||(a.nocase?"i":""))}catch(a){if(p&&p.debug===!0)throw a;return/$^/}},i.constants=e,u.exports=i}),It=L((t,u)=>{var l=Ee(),o=Rt();function d(e,y,i=!1){if(y&&(y.windows===null||y.windows===void 0))y={...y,windows:o.isWindows()};return l(e,y,i)}Object.assign(d,l),u.exports=d}),je=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=void 0;var u=st("path"),l=_e(),o=null;try{st.resolve("picomatch"),o=It()}catch(e){}class d{globCache={};options={maxDepth:1/0,suppressErrors:!0,pathSeparator:u.sep,filters:[]};globFunction;constructor(e){this.options={...this.options,...e},this.globFunction=this.options.globFunction}group(){return this.options.group=!0,this}withPathSeparator(e){return this.options.pathSeparator=e,this}withBasePath(){return this.options.includeBasePath=!0,this}withRelativePaths(){return this.options.relativePaths=!0,this}withDirs(){return this.options.includeDirs=!0,this}withMaxDepth(e){return this.options.maxDepth=e,this}withMaxFiles(e){return this.options.maxFiles=e,this}withFullPaths(){return this.options.resolvePaths=!0,this.options.includeBasePath=!0,this}withErrors(){return this.options.suppressErrors=!1,this}withSymlinks({resolvePaths:e=!0}={}){return this.options.resolveSymlinks=!0,this.options.useRealPaths=e,this.withFullPaths()}withAbortSignal(e){return this.options.signal=e,this}normalize(){return this.options.normalizePath=!0,this}filter(e){return this.options.filters.push(e),this}onlyDirs(){return this.options.excludeFiles=!0,this.options.includeDirs=!0,this}exclude(e){return this.options.exclude=e,this}onlyCounts(){return this.options.onlyCounts=!0,this}crawl(e){return new l.APIBuilder(e||".",this.options)}withGlobFunction(e){return this.globFunction=e,this}crawlWithOptions(e,y){return this.options={...this.options,...y},new l.APIBuilder(e||".",this.options)}glob(...e){if(this.globFunction)return this.globWithOptions(e);return this.globWithOptions(e,...[{dot:!0}])}globWithOptions(e,...y){let i=this.globFunction||o;if(!i)throw new Error("Please specify a glob function to use glob matching.");var s=this.globCache[e.join("\x00")];if(!s)s=i(e,...y),this.globCache[e.join("\x00")]=s;return this.options.filters.push((p)=>s(p)),this}}t.Builder=d}),ke=L((t)=>{Object.defineProperty(t,"__esModule",{value:!0})}),$e=L((t)=>{var u=t&&t.__createBinding||(Object.create?function(d,e,y,i){if(i===void 0)i=y;var s=Object.getOwnPropertyDescriptor(e,y);if(!s||("get"in s?!e.__esModule:s.writable||s.configurable))s={enumerable:!0,get:function(){return e[y]}};Object.defineProperty(d,i,s)}:function(d,e,y,i){if(i===void 0)i=y;d[i]=e[y]}),l=t&&t.__exportStar||function(d,e){for(var y in d)if(y!=="default"&&!Object.prototype.hasOwnProperty.call(e,y))u(e,d,y)};Object.defineProperty(t,"__esModule",{value:!0}),t.fdir=void 0;var o=je();Object.defineProperty(t,"fdir",{enumerable:!0,get:function(){return o.Builder}}),l(ke(),t)}),we=L((t,u)=>{var l=1000,o=l*60,d=o*60,e=d*24,y=e*7,i=e*365.25;u.exports=function(r,c){c=c||{};var n=typeof r;if(n==="string"&&r.length>0)return s(r);else if(n==="number"&&isFinite(r))return c.long?a(r):p(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function s(r){if(r=String(r),r.length>100)return;var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!c)return;var n=parseFloat(c[1]),v=(c[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return n*i;case"weeks":case"week":case"w":return n*y;case"days":case"day":case"d":return n*e;case"hours":case"hour":case"hrs":case"hr":case"h":return n*d;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}function p(r){var c=Math.abs(r);if(c>=e)return Math.round(r/e)+"d";if(c>=d)return Math.round(r/d)+"h";if(c>=o)return Math.round(r/o)+"m";if(c>=l)return Math.round(r/l)+"s";return r+"ms"}function a(r){var c=Math.abs(r);if(c>=e)return h(r,c,e,"day");if(c>=d)return h(r,c,d,"hour");if(c>=o)return h(r,c,o,"minute");if(c>=l)return h(r,c,l,"second");return r+" ms"}function h(r,c,n,v){var A=c>=n*1.5;return Math.round(r/n)+" "+v+(A?"s":"")}}),qt=L((t,u)=>{function l(o){e.debug=e,e.default=e,e.coerce=h,e.disable=p,e.enable=i,e.enabled=a,e.humanize=we(),e.destroy=r,Object.keys(o).forEach((c)=>{e[c]=o[c]}),e.names=[],e.skips=[],e.formatters={};function d(c){let n=0;for(let v=0;v<c.length;v++)n=(n<<5)-n+c.charCodeAt(v),n|=0;return e.colors[Math.abs(n)%e.colors.length]}e.selectColor=d;function e(c){let n,v=null,A,_;function C(...E){if(!C.enabled)return;let S=C,k=Number(new Date),V=k-(n||k);if(S.diff=V,S.prev=n,S.curr=k,n=k,E[0]=e.coerce(E[0]),typeof E[0]!=="string")E.unshift("%O");let w=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(B,I)=>{if(B==="%%")return"%";w++;let N=e.formatters[I];if(typeof N==="function"){let H=E[w];B=N.call(S,H),E.splice(w,1),w--}return B}),e.formatArgs.call(S,E),(S.log||e.log).apply(S,E)}if(C.namespace=c,C.useColors=e.useColors(),C.color=e.selectColor(c),C.extend=y,C.destroy=e.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(v!==null)return v;if(A!==e.namespaces)A=e.namespaces,_=e.enabled(c);return _},set:(E)=>{v=E}}),typeof e.init==="function")e.init(C);return C}function y(c,n){let v=e(this.namespace+(typeof n==="undefined"?":":n)+c);return v.log=this.log,v}function i(c){e.save(c),e.namespaces=c,e.names=[],e.skips=[];let n=(typeof c==="string"?c:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let v of n)if(v[0]==="-")e.skips.push(v.slice(1));else e.names.push(v)}function s(c,n){let v=0,A=0,_=-1,C=0;while(v<c.length)if(A<n.length&&(n[A]===c[v]||n[A]==="*"))if(n[A]==="*")_=A,C=v,A++;else v++,A++;else if(_!==-1)A=_+1,C++,v=C;else return!1;while(A<n.length&&n[A]==="*")A++;return A===n.length}function p(){let c=[...e.names,...e.skips.map((n)=>"-"+n)].join(",");return e.enable(""),c}function a(c){for(let n of e.skips)if(s(c,n))return!1;for(let n of e.names)if(s(c,n))return!0;return!1}function h(c){if(c instanceof Error)return c.stack||c.message;return c}function r(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}u.exports=l}),Oe=L((t,u)=>{t.formatArgs=o,t.save=d,t.load=e,t.useColors=l,t.storage=y(),t.destroy=(()=>{let s=!1;return()=>{if(!s)s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let s;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&(s=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(s[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+u.exports.humanize(this.diff),!this.useColors)return;let p="color: "+this.color;s.splice(1,0,p,"color: inherit");let a=0,h=0;s[0].replace(/%[a-zA-Z%]/g,(r)=>{if(r==="%%")return;if(a++,r==="%c")h=a}),s.splice(h,0,p)}t.log=console.debug||console.log||(()=>{});function d(s){try{if(s)t.storage.setItem("debug",s);else t.storage.removeItem("debug")}catch(p){}}function e(){let s;try{s=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(p){}if(!s&&typeof process!=="undefined"&&"env"in process)s=process.env.DEBUG;return s}function y(){try{return localStorage}catch(s){}}u.exports=qt()(t);var{formatters:i}=u.exports;i.j=function(s){try{return JSON.stringify(s)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}}),Se=L((t,u)=>{u.exports=(l,o=process.argv)=>{let d=l.startsWith("-")?"":l.length===1?"-":"--",e=o.indexOf(d+l),y=o.indexOf("--");return e!==-1&&(y===-1||e<y)}}),Pe=L((t,u)=>{var l=st("os"),o=st("tty"),d=Se(),{env:e}=process,y;if(d("no-color")||d("no-colors")||d("color=false")||d("color=never"))y=0;else if(d("color")||d("colors")||d("color=true")||d("color=always"))y=1;function i(){if("FORCE_COLOR"in e){if(e.FORCE_COLOR==="true")return 1;if(e.FORCE_COLOR==="false")return 0;return e.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(e.FORCE_COLOR,10),3)}}function s(h){if(h===0)return!1;return{level:h,hasBasic:!0,has256:h>=2,has16m:h>=3}}function p(h,{streamIsTTY:r,sniffFlags:c=!0}={}){let n=i();if(n!==void 0)y=n;let v=c?y:n;if(v===0)return 0;if(c){if(d("color=16m")||d("color=full")||d("color=truecolor"))return 3;if(d("color=256"))return 2}if(h&&!r&&v===void 0)return 0;let A=v||0;if(e.TERM==="dumb")return A;if(process.platform==="win32"){let _=l.release().split(".");if(Number(_[0])>=10&&Number(_[2])>=10586)return Number(_[2])>=14931?3:2;return 1}if("CI"in e){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((_)=>(_ in e))||e.CI_NAME==="codeship")return 1;return A}if("TEAMCITY_VERSION"in e)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(e.TEAMCITY_VERSION)?1:0;if(e.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in e){let _=Number.parseInt((e.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(e.TERM_PROGRAM){case"iTerm.app":return _>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(e.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(e.TERM))return 1;if("COLORTERM"in e)return 1;return A}function a(h,r={}){let c=p(h,{streamIsTTY:h&&h.isTTY,...r});return s(c)}u.exports={supportsColor:a,stdout:a({isTTY:o.isatty(1)}),stderr:a({isTTY:o.isatty(2)})}}),Le=L((t,u)=>{var l=st("tty"),o=st("util");t.init=a,t.log=i,t.formatArgs=e,t.save=s,t.load=p,t.useColors=d,t.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let r=Pe();if(r&&(r.stderr||r).level>=2)t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(r){}t.inspectOpts=Object.keys(process.env).filter((r)=>{return/^debug_/i.test(r)}).reduce((r,c)=>{let n=c.substring(6).toLowerCase().replace(/_([a-z])/g,(A,_)=>{return _.toUpperCase()}),v=process.env[c];if(/^(yes|on|true|enabled)$/i.test(v))v=!0;else if(/^(no|off|false|disabled)$/i.test(v))v=!1;else if(v==="null")v=null;else v=Number(v);return r[n]=v,r},{});function d(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):l.isatty(process.stderr.fd)}function e(r){let{namespace:c,useColors:n}=this;if(n){let v=this.color,A="\x1B[3"+(v<8?v:"8;5;"+v),_=`  ${A};1m${c} \x1B[0m`;r[0]=_+r[0].split(`
`).join(`
`+_),r.push(A+"m+"+u.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=y()+c+" "+r[0]}function y(){if(t.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function i(...r){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...r)+`
`)}function s(r){if(r)process.env.DEBUG=r;else delete process.env.DEBUG}function p(){return process.env.DEBUG}function a(r){r.inspectOpts={};let c=Object.keys(t.inspectOpts);for(let n=0;n<c.length;n++)r.inspectOpts[c[n]]=t.inspectOpts[c[n]]}u.exports=qt()(t);var{formatters:h}=u.exports;h.o=function(r){return this.inspectOpts.colors=this.useColors,o.inspect(r,this.inspectOpts).split(`
`).map((c)=>c.trim()).join(" ")},h.O=function(r){return this.inspectOpts.colors=this.useColors,o.inspect(r,this.inspectOpts)}}),Te=L((t,u)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)u.exports=Oe();else u.exports=Le()});function Me(t){return t=t.startsWith("/")?t:`/${t}`,He.normalize(t)}async function De(t,u){return`import.meta.glob(${`"${t}/**/*.vue"`}, { eager: ${u} })`}async function Ie(t){let{layoutDir:u,defaultLayout:l,importMode:o}=t,d=Me(u),e=o==="sync";return`
  export const createGetRoutes = (router, withLayout = false) => {
      const routes = router.getRoutes()
      if (withLayout) {
          return routes
      }
      return () => routes.filter(route => !route.meta.isLayout)
  }

  export const setupLayouts = routes => {
      const layouts = {}

      const modules = ${await De(d,e)}

      Object.entries(modules).forEach(([name, module]) => {
          let key = name.replace("${d}/", '').replace('.vue', '')
          layouts[key] = ${e?"module.default":"module"}
      })

    function deepSetupLayout(routes, top = true) {
      return routes.map(route => {
        if (route.children?.length > 0) {
          route.children = deepSetupLayout(route.children, false)
        }

        if (top) {
          // unplugin-vue-router adds a top-level route to the routing group, which we should skip.
          const skipLayout = !route.component && route.children?.find(r => (r.path === '' || r.path === '/') && r.meta?.isLayout)

          if (skipLayout) {
            return route
          }

          if (route.meta?.layout !== false) {
            return {
              path: route.path,
              component: layouts[route.meta?.layout || '${l}'],
              children: route.path === '/' ? [route] : [{...route, path: ''}],
              meta: {
                isLayout: true
              }
            }
          }
        }

        if (route.meta?.layout) {
          return {
            path: route.path,
            component: layouts[route.meta?.layout],
            children: [ {...route, path: ''} ],
            meta: {
              isLayout: true
            }
          }
        }

        return route
      })
    }

      return deepSetupLayout(routes)
  }`}var qe=Ot($e(),1),ft=Ot(It(),1),Be=/^(\/?\.\.)+$/;function Ne(t,u){let l=t.length,o=Array(l),d=Array(l);for(let e=0;e<l;e++){let y=Nt(t[e]);o[e]=y;let i=y.length,s=Array(i);for(let p=0;p<i;p++)s[p]=ft.default.makeRe(y[p],u);d[e]=s}return(e)=>{let y=e.split("/");if(y[0]===".."&&Be.test(e))return!0;for(let i=0;i<t.length;i++){let s=o[i],p=d[i],a=y.length,h=Math.min(a,s.length),r=0;while(r<h){let c=s[r];if(c.includes("/"))return!0;if(!p[r].test(y[r]))break;if(c==="**")return!0;r++}if(r===a)return!0}return!1}}var Ge={parts:!0};function Nt(t){var u;let l=ft.default.scan(t,Ge);return((u=l.parts)===null||u===void 0?void 0:u.length)?l.parts:[t]}var Ue=process.platform==="win32",Qe=/(?<!\\)([()[\]{}*?|]|^!|[!+@](?=\()|\\(?![()[\]{}!*+?@|]))/g,We=/(?<!\\)([()[\]{}]|^!|[!+@](?=\())/g,Xe=(t)=>t.replace(Qe,"\\$&"),ze=(t)=>t.replace(We,"\\$&"),Ve=Ue?ze:Xe;function Je(t,u){if((u===null||u===void 0?void 0:u.caseSensitiveMatch)===!1)return!0;let l=ft.default.scan(t);return l.isGlob||l.negated}function dt(...t){console.log(`[tinyglobby ${new Date().toLocaleTimeString("es")}]`,...t)}var Ye=/^(\/?\.\.)+/,Ke=/\\(?=[()[\]{}!*+?@|])/g,yt=/\\/g;function $t(t,u,l,o,d){let e=t;if(t.endsWith("/"))e=t.slice(0,-1);if(!e.endsWith("*")&&u)e+="/**";let y=Ve(l);if(Ct.isAbsolute(e.replace(Ke,"")))e=bt.relative(y,e);else e=bt.normalize(e);let i=Ye.exec(e),s=Nt(e);if(i===null||i===void 0?void 0:i[0]){let a=(i[0].length+1)/3,h=0,r=y.split("/");while(h<a&&s[h+a]===r[r.length+h-a])e=e.slice(0,(a-h-1)*3)+e.slice((a-h)*3+s[h+a].length+1)||".",h++;let c=bt.join(l,i[0].slice(h*3));if(!c.startsWith(".")&&o.root.length>c.length)o.root=c,o.depthOffset=-a+h}if(!d&&o.depthOffset>=0){var p;(p=o.commonPath)!==null&&p!==void 0||(o.commonPath=s);let a=[],h=Math.min(o.commonPath.length,s.length);for(let r=0;r<h;r++){let c=s[r];if(c==="**"&&!s[r+1]){a.pop();break}if(c!==o.commonPath[r]||Je(c)||r===s.length-1)break;a.push(c)}o.depthOffset=a.length,o.commonPath=a,o.root=a.length>0?Ct.posix.join(l,...a):l}return e}function Ze({patterns:t,ignore:u=[],expandDirectories:l=!0},o,d){if(typeof t==="string")t=[t];else if(!t)t=["**/*"];if(typeof u==="string")u=[u];let e=[],y=[];for(let i of u){if(!i)continue;if(i[0]!=="!"||i[1]==="(")y.push($t(i,l,o,d,!0))}for(let i of t){if(!i)continue;if(i[0]!=="!"||i[1]==="(")e.push($t(i,l,o,d,!1));else if(i[1]!=="!"||i[2]==="(")y.push($t(i.slice(1),l,o,d,!0))}return{match:e,ignore:y}}function Gt(t,u,l){return bt.relative(u,`${l}/${t}`)||"."}function vt(t,u,l,o,d){let e=d?t.slice(l==="/"?1:l.length+1)||".":t;if(l===u)return o&&e!=="."?e.slice(0,-1):e;return Gt(e,u,l)}function Tt(t,u,l){for(let o=t.length-1;o>=0;o--){let d=t[o];t[o]=Gt(d,u,l)+(!d||d.endsWith("/")?"/":"")}return t}function Ut(t,u,l){if(process.env.TINYGLOBBY_DEBUG)t.debug=!0;if(t.debug)dt("globbing with options:",t,"cwd:",u);if(Array.isArray(t.patterns)&&t.patterns.length===0)return l?[]:Promise.resolve([]);let o={root:u,commonPath:null,depthOffset:0},d=Ze(t,u,o),e=t.caseSensitiveMatch===!1;if(t.debug)dt("internal processing patterns:",d);let y=ft.default(d.match,{dot:t.dot,nocase:e,ignore:d.ignore}),i=ft.default(d.ignore,{dot:t.dot,nocase:e}),s=Ne(d.match,{dot:t.dot,nocase:e}),p={filters:[t.debug?(r,c)=>{let n=vt(r,u,o.root,c,t.absolute),v=y(n);if(v)dt(`matched ${n}`);return v}:(r,c)=>y(vt(r,u,o.root,c,t.absolute))],exclude:t.debug?(r,c)=>{let n=vt(c,u,o.root,!0,!0),v=n!=="."&&!s(n)||i(n);if(v)dt(`skipped ${c}`);else dt(`crawling ${c}`);return v}:(r,c)=>{let n=vt(c,u,o.root,!0,!0);return n!=="."&&!s(n)||i(n)},pathSeparator:"/",relativePaths:!0,resolveSymlinks:!0};if(t.deep!==void 0)p.maxDepth=Math.round(t.deep-o.depthOffset);if(t.absolute)p.relativePaths=!1,p.resolvePaths=!0,p.includeBasePath=!0;if(t.followSymbolicLinks===!1)p.resolveSymlinks=!1,p.excludeSymlinks=!0;if(t.onlyDirectories)p.excludeFiles=!0,p.includeDirs=!0;else if(t.onlyFiles===!1)p.includeDirs=!0;o.root=o.root.replace(yt,"");let a=o.root;if(t.debug)dt("internal properties:",o);let h=new qe.fdir(p).crawl(a);if(u===a||t.absolute)return l?h.sync():h.withPromise();return l?Tt(h.sync(),u,a):h.withPromise().then((r)=>Tt(r,u,a))}async function ts(t,u){if(t&&(u===null||u===void 0?void 0:u.patterns))throw new Error("Cannot pass patterns as both an argument and an option");let l=Array.isArray(t)||typeof t==="string"?{...u,patterns:t}:t,o=l.cwd?Ct.resolve(l.cwd).replace(yt,"/"):process.cwd().replace(yt,"/");return Ut(l,o,!1)}function es(t,u){if(t&&(u===null||u===void 0?void 0:u.patterns))throw new Error("Cannot pass patterns as both an argument and an option");let l=Array.isArray(t)||typeof t==="string"?{...u,patterns:t}:t,o=l.cwd?Ct.resolve(l.cwd).replace(yt,"/"):process.cwd().replace(yt,"/");return Ut(l,o,!0)}var ss=Ot(Te(),1);function rs(t){return t.length>1?`{${t.join(",")}}`:t[0]||""}function ht(t){return t.replace(/\\/g,"/")}var xt=ss.default("vite-plugin-layouts");function Ht(t,u){if(t===null)return[];let l=Array.isArray(t)?t:[t],o=[];for(let d of l)if(d.includes("**")){let e=es(d,{onlyDirectories:!0});for(let y of e)o.push(ht(Ft(u,y)))}else o.push(ht(Ft(u,d)));return o}async function is(t,u){let{exclude:l,extensions:o}=u,d=rs(o);return xt(o),await ts(`**/*.${d}`,{ignore:["node_modules",".git","**/__*__/*",...l],onlyFiles:!0,cwd:t})}function us(t,u){let l=[],o=[],d=0;for(let e of t)for(let y of e.files){let i=e.path.substr(0,1)==="/"?`${e.path}/${y}`:`/${e.path}/${y}`,s=os(y),p=ns(s.dir,s.name).replace(/\\/g,"/");if(u.importMode(p)==="sync"){let a=`__layout_${d}`;o.push(`import ${a} from '${i}'`),l.push(`'${p}': ${a},`),d+=1}else l.push(`'${p}': () => import('${i}'),`)}return`
${o.join(`
`)}
export const layouts = {
${l.join(`
`)}
}`}function as(t,u){return`
${t}
export const createGetRoutes = (router, withLayout = false) => {
  const routes = router.getRoutes()
  if (withLayout) {
      return routes
  }
  return () => routes.filter(route => !route.meta.isLayout)
}

export function setupLayouts(routes) {
  function deepSetupLayout(routes, top = true) {
    return routes.map(route => {
      if (route.children?.length > 0) {
        route.children = deepSetupLayout(route.children, false)
      }

      if (top) {
        // unplugin-vue-router adds a top-level route to the routing group, which we should skip.
        const skipLayout = !route.component && route.children?.find(r => (r.path === '' || r.path === '/') && r.meta?.isLayout)

        if (skipLayout) {
          return route
        }

        if (route.meta?.layout !== false) {
          return {
            path: route.path,
            component: layouts[route.meta?.layout || '${u.defaultLayout}'],
            children: route.path === '/' ? [route] : [{...route, path: ''}],
            meta: {
              isLayout: true
            }
          }
        }
      }

      if (route.meta?.layout) {
        return {
          path: route.path,
          component: layouts[route.meta?.layout],
          children: [ {...route, path: ''} ],
          meta: {
            isLayout: true
          }
        }
      }

      return route
    })
  }

    return deepSetupLayout(routes)

}
`}var ls=as,_t=["layouts-generated","virtual:generated-layouts"],wt="/@vite-plugin-layouts/generated-layouts";function ps(t){if(Bt.env.VITE_SSG)return"sync";return t==="default"?"sync":"async"}function cs(t){return Object.assign({defaultLayout:"default",layoutsDirs:"src/layouts",pagesDirs:"src/pages",extensions:["vue"],exclude:[],importMode:ps},t)}function Qt(t={}){if(hs(t))return ds({defaultLayout:t.defaultLayout,layoutDir:t.layoutsDirs});let u,l=cs(t),o,d;return{name:"vite-plugin-layouts",enforce:"pre",configResolved(e){u=e;let y=Ht(l.layoutsDirs,u.root);o=y.length>0?[y[y.length-1]]:[];let i=Ht(l.pagesDirs,u.root);d=i.length>0?[i[i.length-1]]:[]},configureServer({moduleGraph:e,watcher:y,ws:i}){y.add(l.layoutsDirs);let s=(a,h="*")=>{if(a){if(e.invalidateModule(a),i)i.send({path:h,type:"full-reload"})}},p=(a)=>{if(a=ht(a),d.length===0||d.some((h)=>a.startsWith(h))||o.some((h)=>a.startsWith(h))){xt("reload",a);let h=e.getModuleById(wt);s(h)}};y.on("add",(a)=>{p(a)}),y.on("unlink",(a)=>{p(a)}),y.on("change",async(a)=>{p(a)})},resolveId(e){return _t.includes(e)||_t.some((y)=>e.startsWith(y))?wt:null},async load(e){if(e===wt){let y=[];for(let p of o){let a=p.substr(0,1)==="/"?ht(p):ht(Fe(u.root,p));xt("Loading Layout Dir: %O",a);let h=await is(a,l);y.push({path:a,files:h})}let i=us(y,l),s=ls(i,l);return xt("Client code: %O",s),s}}}}function ds(t){let{layoutDir:u="src/layouts",defaultLayout:l="default",importMode:o=Bt.env.VITE_SSG?"sync":"async"}=t||{};return{name:"vite-plugin-layouts",resolveId(d){let e=_t.find((y)=>d===y);if(e)return`\x00${e}`},load(d){if(_t.some((e)=>d===`\x00${e}`))return Ie({layoutDir:u,importMode:o,defaultLayout:l})}}}function hs(t){let u=Object.keys(t);if(u.length>2||u.some((l)=>!["layoutDirs","defaultLayout"].includes(l)))return!1;if(t.layoutsDirs&&(Array.isArray(t.layoutsDirs)||t.layoutsDirs.includes("*")))return!1;return!0}function ar(t){return Qt({extensions:["stx","vue"],layoutsDirs:[mt.layoutsPath(),mt.frameworkPath("defaults/layouts")],pagesDirs:[mt.resourcesPath("views")],exclude:[mt.layoutsPath("dashboard"),mt.layoutsPath("mails")],...t})}import fs from"@shikijs/markdown-it";import ys from"markdown-it-link-attributes";import ms from"unplugin-vue-markdown/vite";function hr(){return ms({wrapperClasses:"prose prose-sm m-auto text-left",headEnabled:!0,async markdownItSetup(t){t.use(ys,{matcher:(u)=>/^https?:\/\//.test(u),attrs:{target:"_blank",rel:"noopener"}}),t.use(await fs({defaultColor:!1,themes:{light:"github-light",dark:"github-dark"}}))}})}import{defu as gs}from"defu";import vs from"unplugin-vue-router/vite";function gr(t){let l=gs(t,{extensions:[".stx",".vue",".md"],getRouteName:(o)=>Wt(o)});return vs(l)}function Wt(t){if(!t.parent)return"";let u=t.value.rawSegment==="index"?"":t.value.rawSegment;return(Wt(t.parent)+(u?`/${u}`:"")).replace(/^\//,"").replace(/\//g,".").replace(/\[|\]/g,"")}import{path as bs}from"@stacksjs/path";import{VitePWA as xs}from"vite-plugin-pwa";function Cr(){return xs({srcDir:bs.publicPath(),registerType:"autoUpdate",includeAssets:["favicon.svg","safari-pinned-tab.svg"],manifest:{name:"Stacks",short_name:"Stacks",theme_color:"#ffffff",icons:[{src:"/pwa-192x192.png",sizes:"192x192",type:"image/png"},{src:"/pwa-512x512.png",sizes:"512x512",type:"image/png"},{src:"/pwa-512x512.png",sizes:"512x512",type:"image/png",purpose:"any maskable"}]}})}import{config as Cs}from"@stacksjs/config";import{path as St}from"@stacksjs/path";import Xt from"unplugin-vue-router/vite";function jr(t){let u={extensions:[".stx",".vue",".md"],dts:St.frameworkPath("types/router.d.ts"),routesFolder:[St.frameworkPath("defaults/views"),St.resourcesPath("views")],logs:Cs.app.debug||!1,...t};if(t?.type==="views")return Xt({exclude:["/dashboard/**","/errors/**","/system-tray/**","/docs/**","/api/**"],...u});return Xt(u)}import{parseOptions as _s}from"@stacksjs/cli";function wr(t){if(!t)t=_s();return{name:"stacks"}}import zt from"@vitejs/plugin-vue";function Pr(t=!1){if(t)return zt({include:/\.(stx|vue|md)($|\?)/,template:{compilerOptions:{isCustomElement:()=>!0}}});return zt({include:/\.(stx|vue|md)($|\?)/})}export{Pr as uiEngine,wr as stacks,jr as router,Cr as pwa,gr as pages,hr as markdown,ar as layouts,Js as inspect,Xs as i18n,Gs as docsEngine,Is as devtools,Fs as cssEngine,Ss as components,ks as autoImports};
